================================================================================
â•‘                   PATIENT DATA PIPELINE - PROCESSING STARTED                   â•‘
================================================================================
[21:20:44] â„¹ï¸  Processing CSV file: hawthorn.csv
================================================================================
â•‘                          PROCESSING DOCUMENT 9314061                           â•‘
================================================================================
[21:20:44] [DOC: 9314061] â„¹ï¸  Facility/Agency: Southcoast VNA â€“ Community Office (Fairhaven) | Received Date: 
[21:20:44] [DOC: 9314061] âš ï¸  Agency 'Southcoast VNA â€“ Community Office (Fairhaven)' not found in company mapping
[21:20:44] [DOC: 9314061] ğŸ“‹ [1/6] Extracting text from PDF
[21:20:46] â„¹ï¸  Document is text-based - using pdfplumber for extraction
[21:20:46] [DOC: 9314061] âœ… Text extracted successfully using pdfplumber
[21:20:46] [DOC: 9314061] â„¹ï¸  Text extraction completed using pdfplumber: 1307 characters
[21:20:46] [DOC: 9314061] âœ… Text extraction completed
[21:20:46] [DOC: 9314061] ğŸ“„ NON-FAXED DOCUMENT | Type: ORDER
[21:20:46] [DOC: 9314061] ğŸ“Š Document Information
     â””â”€ Faxed: No
     â””â”€ Fax Source: Unknown
     â””â”€ Document Type: ORDER
     â””â”€ Extraction Method: pdfplumber
     â””â”€ Text Length: 1307
[21:20:46] [DOC: 9314061] ğŸ“‹ [2/6] Extracting patient data using AI
[21:20:49] âœ… AI patient data extraction completed successfully
[21:20:49] [DOC: 9314061] ğŸ“Š AI-Extracted Patient Data
     â””â”€ patientFName: Joao
     â””â”€ patientLName: Aguiar
     â””â”€ dob: 08/11/1954
     â””â”€ patientSex: Male
     â””â”€ medicalRecordNo: 2170342
     â””â”€ billingProvider: Gloriane Afonso-Fede, MD
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ patientAddress: None
     â””â”€ patientCity: None
     â””â”€ patientState: None
     â””â”€ zip: None
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': None, 'endOfEpisode': None, 'firstDiagnosis': None, 'secondDiagnosis': None, 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[21:20:49] [DOC: 9314061] ğŸ“‹ [3/6] Processing and validating dates
[21:20:49] [DOC: 9314061] ğŸ“Š Raw Episode Dates from Document
     â””â”€ Start of Care: Not found
     â””â”€ Start of Episode: Not found
     â””â”€ End of Episode: Not found
[21:20:49] [DOC: 9314061] ğŸ“Š Patient Data After Date Processing
     â””â”€ patientFName: Joao
     â””â”€ patientLName: Aguiar
     â””â”€ dob: 08/11/1954
     â””â”€ patientSex: Male
     â””â”€ medicalRecordNo: 2170342
     â””â”€ billingProvider: Gloriane Afonso-Fede, MD
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ patientAddress: None
     â””â”€ patientCity: None
     â””â”€ patientState: None
     â””â”€ zip: None
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': None, 'endOfEpisode': None, 'firstDiagnosis': None, 'secondDiagnosis': None, 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[21:20:49] [DOC: 9314061] ğŸ“‹ [4/6] Creating or finding patient
[21:20:49] [DOC: 9314061] âš ï¸  No agency mapping for 'Southcoast VNA â€“ Community Office (Fairhaven)', using fallback approach
[21:20:49] [DOC: 9314061] â„¹ï¸  Using fallback agency ID: e59b6bf5-1fe9-4d61-9ee0-54041e21e123
[21:20:49] ğŸ“Š Patient Data for Processing
     â””â”€ First Name: Joao
     â””â”€ Last Name: Aguiar
     â””â”€ DOB: 08/11/1954
     â””â”€ MRN: 2170342
     â””â”€ Address: None
     â””â”€ City: None
     â””â”€ State: None
     â””â”€ ZIP: None
[21:20:49] âŒ Agency 'Southcoast VNA â€“ Community Office (Fairhaven)' not found in company mapping
[21:20:49] [DOC: 9314061] âŒ Patient processing completely failed
[21:20:49] [DOC: 9314061] ğŸ“‹ [5/6] Extracting order data
[21:20:51] âœ… AI order data extraction completed successfully
[21:20:51] [DOC: 9314061] ğŸ“Š AI-Extracted Order Data
     â””â”€ orderNo: 1095591
     â””â”€ orderDate: 05/27/2025
     â””â”€ startOfCare: None
     â””â”€ episodeStartDate: 05/13/2025
     â””â”€ episodeEndDate: None
     â””â”€ documentID: None
     â””â”€ mrn: 2170342
     â””â”€ patientName: Aguiar,Joao M
     â””â”€ sentToPhysicianDate: None
     â””â”€ sentToPhysicianStatus: False
     â””â”€ patientId: None
     â””â”€ companyId: None
     â””â”€ bit64Url: None
     â””â”€ documentName: None
[21:20:51] [DOC: 9314061] ğŸ“‹ [6/6] Processing order submission
[21:20:52] ğŸ“Š Retrieved Agency Info
     â””â”€ Start of Care: Not available
     â””â”€ Start of Episode: 05/13/2025
     â””â”€ End of Episode: 07/11/2025
[21:20:52] [DOC: 9314061] ğŸ“Š Order Data After Date Processing
     â””â”€ orderNo: 1095591
     â””â”€ orderDate: 05/27/2025
     â””â”€ startOfCare: 05/13/2025
     â””â”€ episodeStartDate: 05/13/2025
     â””â”€ episodeEndDate: 07/11/2025
     â””â”€ documentID: None
     â””â”€ mrn: 2170342
     â””â”€ patientName: Aguiar,Joao M
     â””â”€ sentToPhysicianDate: None
     â””â”€ sentToPhysicianStatus: False
     â””â”€ patientId: None
     â””â”€ companyId: None
     â””â”€ bit64Url: None
     â””â”€ documentName: None
[21:20:52] [DOC: 9314061] ğŸ“Š MRN Synchronization
     â””â”€ Patient MRN (extracted): 2170342
     â””â”€ Order MRN (extracted): 2170342
     â””â”€ Final MRN: 2170342
     â””â”€ Source: patient_extracted
     â””â”€ Applied to: Both patient and order
[21:20:52] [DOC: 9314061] ğŸ”„ Preparing order for submission
[21:20:52] [DOC: 9314061] ğŸ“Š Order Request Data
     â””â”€ Order No: 1095591
     â””â”€ Patient ID: FALLBACK_PATIENT_9314061
     â””â”€ Company ID: e59b6bf5-1fe9-4d61-9ee0-54041e21e123
     â””â”€ Order Date: 05/27/2025
     â””â”€ Start of Care: 05/13/2025
     â””â”€ Episode Start: 05/13/2025
     â””â”€ Episode End: 07/11/2025
[21:20:54] [DOC: 9314061] âœ… Order already exists in system with ID: ORD15776
[21:20:54] [DOC: 9314061] â„¹ï¸  This indicates the order was processed successfully in a previous run
[21:20:54] [DOC: 9314061] âœ… Order processing completed successfully
[21:20:54] [DOC: 9314061] âœ… Document processing completed successfully!
================================================================================
â•‘                          PROCESSING DOCUMENT 9311183                           â•‘
================================================================================
[21:20:54] [DOC: 9311183] â„¹ï¸  Facility/Agency: Southcoast VNA â€“ Community Office (Fairhaven) | Received Date: 
[21:20:54] [DOC: 9311183] âš ï¸  Agency 'Southcoast VNA â€“ Community Office (Fairhaven)' not found in company mapping
[21:20:54] [DOC: 9311183] ğŸ“‹ [1/6] Extracting text from PDF
[21:20:55] â„¹ï¸  Document is text-based - using pdfplumber for extraction
[21:20:55] [DOC: 9311183] âœ… Text extracted successfully using pdfplumber
[21:20:55] [DOC: 9311183] â„¹ï¸  Text extraction completed using pdfplumber: 2779 characters
[21:20:55] [DOC: 9311183] âœ… Text extraction completed
[21:20:55] [DOC: 9311183] ğŸ“„ NON-FAXED DOCUMENT | Type: ORDER
[21:20:55] [DOC: 9311183] ğŸ“Š Document Information
     â””â”€ Faxed: No
     â””â”€ Fax Source: Unknown
     â””â”€ Document Type: ORDER
     â””â”€ Extraction Method: pdfplumber
     â””â”€ Text Length: 2779
[21:20:55] [DOC: 9311183] ğŸ“‹ [2/6] Extracting patient data using AI
[21:20:57] âœ… AI patient data extraction completed successfully
[21:20:57] [DOC: 9311183] ğŸ“Š AI-Extracted Patient Data
     â””â”€ patientFName: Ronald
     â””â”€ patientLName: Alfonse
     â””â”€ dob: 03/30/1936
     â””â”€ patientSex: Male
     â””â”€ medicalRecordNo: 2174766
     â””â”€ billingProvider: Jahn A. Pothier, MD
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ patientAddress: 200 Mill Road
     â””â”€ patientCity: Fairhaven
     â””â”€ patientState: MA
     â””â”€ zip: 02719-5252
     â””â”€ episodeDiagnoses: []
[21:20:57] [DOC: 9311183] ğŸ“‹ [3/6] Processing and validating dates
[21:20:57] [DOC: 9311183] ğŸ“Š Raw Episode Dates from Document
     â””â”€ Start of Care: Not found
     â””â”€ Start of Episode: Not found
     â””â”€ End of Episode: Not found
[21:20:57] [DOC: 9311183] ğŸ“Š Patient Data After Date Processing
     â””â”€ patientFName: Ronald
     â””â”€ patientLName: Alfonse
     â””â”€ dob: 03/30/1936
     â””â”€ patientSex: Male
     â””â”€ medicalRecordNo: 2174766
     â””â”€ billingProvider: Jahn A. Pothier, MD
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ patientAddress: 200 Mill Road
     â””â”€ patientCity: Fairhaven
     â””â”€ patientState: MA
     â””â”€ zip: 02719-5252
     â””â”€ episodeDiagnoses: [{}]
[21:20:57] [DOC: 9311183] ğŸ“‹ [4/6] Creating or finding patient
[21:20:57] [DOC: 9311183] âš ï¸  No agency mapping for 'Southcoast VNA â€“ Community Office (Fairhaven)', using fallback approach
[21:20:57] [DOC: 9311183] â„¹ï¸  Using fallback agency ID: e59b6bf5-1fe9-4d61-9ee0-54041e21e123
[21:20:57] ğŸ“Š Patient Data for Processing
     â””â”€ First Name: Ronald
     â””â”€ Last Name: Alfonse
     â””â”€ DOB: 03/30/1936
     â””â”€ MRN: 2174766
     â””â”€ Address: 200 Mill Road
     â””â”€ City: Fairhaven
     â””â”€ State: MA
     â””â”€ ZIP: 02719-5252
[21:20:57] âŒ Agency 'Southcoast VNA â€“ Community Office (Fairhaven)' not found in company mapping
[21:20:57] [DOC: 9311183] âŒ Patient processing completely failed
[21:20:57] [DOC: 9311183] ğŸ“‹ [5/6] Extracting order data
[21:20:59] âœ… AI order data extraction completed successfully
[21:20:59] [DOC: 9311183] ğŸ“Š AI-Extracted Order Data
     â””â”€ orderNo: None
     â””â”€ orderDate: 05/23/2025
     â””â”€ startOfCare: None
     â””â”€ episodeStartDate: None
     â””â”€ episodeEndDate: None
     â””â”€ documentID: None
     â””â”€ mrn: 2174766
     â””â”€ patientName: Alfonse,Ronald
     â””â”€ sentToPhysicianDate: 05/28/2025
     â””â”€ sentToPhysicianStatus: True
     â””â”€ patientId: None
     â””â”€ companyId: None
     â””â”€ bit64Url: None
     â””â”€ documentName: None
[21:20:59] [DOC: 9311183] ğŸ“‹ [6/6] Processing order submission
