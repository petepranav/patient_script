================================================================================
â•‘                   PATIENT DATA PIPELINE - PROCESSING STARTED                   â•‘
================================================================================
[22:01:55] â„¹ï¸  Processing CSV file: orders1.csv
================================================================================
â•‘                          PROCESSING DOCUMENT 9318974                           â•‘
================================================================================
[22:01:55] [DOC: 9318974] â„¹ï¸  Facility/Agency: Dartmouth HH | Received Date: 05/30/2025
[22:01:55] [DOC: 9318974] â„¹ï¸  Agency mapping found: Dartmouth HH -> d404757d-5027-45d2-a235-24a1fe763c9a
[22:01:55] [DOC: 9318974] ğŸ“‹ [1/6] Extracting text from PDF
[22:01:58] â„¹ï¸  Document is text-based - using pdfplumber for extraction
[22:01:58] [DOC: 9318974] âœ… Text extracted successfully using pdfplumber
[22:01:58] [DOC: 9318974] â„¹ï¸  Text extraction completed using pdfplumber: 7607 characters
[22:01:58] [DOC: 9318974] âœ… Text extraction completed
[22:01:58] [DOC: 9318974] ğŸ“„ NON-FAXED DOCUMENT | Type: ORDER
[22:01:58] [DOC: 9318974] ğŸ“Š Document Information
     â””â”€ Faxed: No
     â””â”€ Fax Source: Unknown
     â””â”€ Document Type: ORDER
     â””â”€ Extraction Method: pdfplumber
     â””â”€ Text Length: 7607
[22:01:58] [DOC: 9318974] ğŸ“‹ [2/6] Extracting patient data using AI
[22:02:02] âœ… AI patient data extraction completed successfully
[22:02:02] [DOC: 9318974] ğŸ“Š AI-Extracted Patient Data
     â””â”€ patientFName: Robert
     â””â”€ patientLName: Rezendes
     â””â”€ dob: 08/16/1940
     â””â”€ patientSex: M
     â””â”€ medicalRecordNo: 5680015
     â””â”€ billingProvider: Joseph Nakda, MD
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ patientAddress: 970 Lees River Ave
     â””â”€ patientCity: Somerset
     â””â”€ patientState: MA
     â””â”€ zip: 02726
     â””â”€ episodeDiagnoses: [{'startOfCare': '05/10/2025', 'startOfEpisode': '05/10/2025', 'endOfEpisode': '07/08/2025', 'firstDiagnosis': 'J44.1', 'secondDiagnosis': 'I50.43', 'thirdDiagnosis': 'I11.0', 'fourthDiagnosis': 'I25.5', 'fifthDiagnosis': 'I25.10', 'sixthDiagnosis': 'I25.2'}]
[22:02:02] [DOC: 9318974] ğŸ“‹ [3/6] Processing and validating dates
[22:02:02] [DOC: 9318974] ğŸ“Š Raw Episode Dates from Document
     â””â”€ Start of Care: 05/10/2025
     â””â”€ Start of Episode: 05/10/2025
     â””â”€ End of Episode: 07/08/2025
[22:02:02] [DOC: 9318974] ğŸ“Š Parsed Episode Dates
     â””â”€ Start of Care: 05/10/2025
     â””â”€ Start of Episode: 05/10/2025
     â””â”€ End of Episode: 07/08/2025
[22:02:02] [DOC: 9318974] ğŸ“Š Patient Data After Date Processing
     â””â”€ patientFName: Robert
     â””â”€ patientLName: Rezendes
     â””â”€ dob: 08/16/1940
     â””â”€ patientSex: M
     â””â”€ medicalRecordNo: 5680015
     â””â”€ billingProvider: Joseph Nakda, MD
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ patientAddress: 970 Lees River Ave
     â””â”€ patientCity: Somerset
     â””â”€ patientState: MA
     â””â”€ zip: 02726
     â””â”€ episodeDiagnoses: [{'startOfCare': '05/10/2025', 'startOfEpisode': '05/10/2025', 'endOfEpisode': '07/08/2025', 'firstDiagnosis': 'J44.1', 'secondDiagnosis': 'I50.43', 'thirdDiagnosis': 'I11.0', 'fourthDiagnosis': 'I25.5', 'fifthDiagnosis': 'I25.10', 'sixthDiagnosis': 'I25.2'}]
[22:02:02] [DOC: 9318974] ğŸ“‹ [4/6] Creating or finding patient
[22:02:02] ğŸ“Š Patient Data for Processing
     â””â”€ First Name: Robert
     â””â”€ Last Name: Rezendes
     â””â”€ DOB: 08/16/1940
     â””â”€ MRN: 5680015
     â””â”€ Address: 970 Lees River Ave
     â””â”€ City: Somerset
     â””â”€ State: MA
     â””â”€ ZIP: 02726
[22:02:02] âœ… Patient already processed in this session: ROBERT REZENDES
[22:02:02] [DOC: 9318974] âœ… Patient processed successfully with ID: f13844a6-7d38-4f53-8af3-a94137e27a4f
[22:02:02] [DOC: 9318974] ğŸ“‹ [5/6] Extracting order data
[22:02:04] âœ… AI order data extraction completed successfully
[22:02:04] [DOC: 9318974] ğŸ“Š AI-Extracted Order Data
     â””â”€ orderNo: None
     â””â”€ orderDate: None
     â””â”€ startOfCare: 05/10/2025
     â””â”€ episodeStartDate: 05/10/2025
     â””â”€ episodeEndDate: 07/08/2025
     â””â”€ documentID: 5680015
     â””â”€ mrn: None
     â””â”€ patientName: Rezendes, Robert J
     â””â”€ sentToPhysicianDate: 05/30/2025
     â””â”€ sentToPhysicianStatus: True
     â””â”€ patientId: None
     â””â”€ companyId: None
     â””â”€ bit64Url: None
     â””â”€ documentName: None
[22:02:04] [DOC: 9318974] ğŸ“‹ [6/6] Processing order submission
[22:02:05] ğŸ“Š Retrieved Agency Info
     â””â”€ Start of Care: Not available
     â””â”€ Start of Episode: 05/10/2025
     â””â”€ End of Episode: 07/08/2025
[22:02:05] [DOC: 9318974] ğŸ“Š Order Data After Date Processing
     â””â”€ orderNo: None
     â””â”€ orderDate: None
     â””â”€ startOfCare: 05/10/2025
     â””â”€ episodeStartDate: 05/10/2025
     â””â”€ episodeEndDate: 07/08/2025
     â””â”€ documentID: 5680015
     â””â”€ mrn: None
     â””â”€ patientName: Rezendes, Robert J
     â””â”€ sentToPhysicianDate: 05/30/2025
     â””â”€ sentToPhysicianStatus: True
     â””â”€ patientId: None
     â””â”€ companyId: None
     â””â”€ bit64Url: None
     â””â”€ documentName: None
[22:02:05] [DOC: 9318974] ğŸ“Š MRN Synchronization
     â””â”€ Patient MRN (extracted): 5680015
     â””â”€ Order MRN (extracted): None
     â””â”€ Final MRN: 5680015
     â””â”€ Source: patient_extracted
     â””â”€ Applied to: Both patient and order
[22:02:05] [DOC: 9318974] âŒ Order processing failed: 'NoneType' object has no attribute 'strip'
[22:02:05] [DOC: 9318974] âœ… Document processing completed successfully!
================================================================================
â•‘                          PROCESSING DOCUMENT 9318964                           â•‘
================================================================================
[22:02:05] [DOC: 9318964] â„¹ï¸  Facility/Agency: AccentCare Fall River | Received Date: 05/30/2025
[22:02:05] [DOC: 9318964] â„¹ï¸  Agency mapping found: AccentCare Fall River -> c7cc6389-e15a-468f-bfbc-bc60ac4d4e81
[22:02:05] [DOC: 9318964] ğŸ“‹ [1/6] Extracting text from PDF
[22:02:24] â„¹ï¸  Document is text-based - using pdfplumber for extraction
[22:02:24] [DOC: 9318964] âš ï¸  pdfplumber extraction failed: pdfplumber extracted empty text, trying OCR...
[22:02:44] [DOC: 9318964] âš ï¸  YOLO+DocTR extraction failed: 'Line' object has no attribute 'value', trying basic OCR...
[22:03:00] [DOC: 9318964] âœ… Text extracted successfully using tesseract_fallback
[22:03:00] [DOC: 9318964] â„¹ï¸  Text extraction completed using tesseract_fallback: 26408 characters
[22:03:00] [DOC: 9318964] âœ… Text extraction completed
[22:03:00] [DOC: 9318964] ğŸ“„ NON-FAXED DOCUMENT | Type: 485RECERT
[22:03:00] [DOC: 9318964] ğŸ“Š Document Information
     â””â”€ Faxed: No
     â””â”€ Fax Source: Unknown
     â””â”€ Document Type: 485RECERT
     â””â”€ Extraction Method: tesseract_fallback
     â””â”€ Text Length: 26408
[22:03:00] [DOC: 9318964] ğŸ“‹ [2/6] Extracting patient data using AI
