================================================================================
â•‘                            FINAL VERSION PROCESSOR                             â•‘
================================================================================
[14:06:07] â„¹ï¸  CSV Data Extraction & API Push Tool
[14:06:07] â„¹ï¸  
[14:06:07] â„¹ï¸  Features:
[14:06:07] â„¹ï¸  - 2 Robust text extraction methods (PDFPlumber + Tesseract OCR)
[14:06:07] â„¹ï¸  - AI-powered patient and order data extraction
[14:06:07] â„¹ï¸  - Enhanced error handling and logging
[14:06:07] â„¹ï¸  - Full API integration (patient creation + order pushing)
[14:06:07] â„¹ï¸  - CSV output with comprehensive patient data
[14:06:07] â„¹ï¸  - Detailed API tracking with remarks for every document
[14:06:07] â„¹ï¸  - Complete audit trail of all processing attempts
[14:06:07] â„¹ï¸  
[14:06:07] â„¹ï¸  Starting CSV processing with API integration: hawthorn_fam.csv
[14:06:07] âœ… Created output CSV file: csv_outputs/extracted_patients_20250607_140607.csv
[14:06:07] âœ… Created API details CSV file: api_outputs/api_push_details_20250607_140607.csv
================================================================================
â•‘                        Processing Document ID: 9305816                         â•‘
================================================================================
[14:06:07] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:06:07] â„¹ï¸  Date: 05/21/2025
[14:06:07] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:06:09] [DOC: 9305816] âœ… Text extracted using pdfplumber (1582 chars)
[14:06:09] âœ…    âœ… Text extracted using pdfplumber (1570 chars)
[14:06:09] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:06:13] â„¹ï¸  AI extracted raw sex value: ''
[14:06:13] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[14:06:13] â„¹ï¸  AI extracted payer source: ''
[14:06:13] â„¹ï¸  AI extracted diagnoses:
[14:06:13] â„¹ï¸    - Diagnosis 1: 'F20.9'
[14:06:13] â„¹ï¸    - Diagnosis 2: 'E11.69'
[14:06:13] â„¹ï¸    - Diagnosis 3: 'I10'
[14:06:13] â„¹ï¸    - Diagnosis 4: ''
[14:06:13] â„¹ï¸    - Diagnosis 5: ''
[14:06:13] â„¹ï¸    - Diagnosis 6: ''
[14:06:13] â„¹ï¸  Final extracted MRN: 'MA210924045601'
[14:06:13] â„¹ï¸  Final extracted Sex: ''
[14:06:13] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[14:06:13] â„¹ï¸  Final extracted Payer Source: ''
[14:06:13] âœ… Patient data extraction completed successfully
[14:06:13] âœ…    âœ… Patient data extracted successfully
[14:06:13] ğŸ“Š Patient Response
     â””â”€ patientFName: Richard
     â””â”€ patientLName: Rocheleau
     â””â”€ dob: 04/08/1956
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA210924045601
     â””â”€ billingProvider: SHAN QIN
     â””â”€ npi: 1891138822
     â””â”€ physicianNPI: 1891138822
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '03/25/2025', 'endOfEpisode': '05/23/2025', 'firstDiagnosis': 'F20.9', 'secondDiagnosis': 'E11.69', 'thirdDiagnosis': 'I10', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:06:13] âœ…    âœ… Patient identified: Richard Rocheleau
[14:06:13] âœ…    âœ… Patient name validation passed
[14:06:13] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:06:13] [DOC: 9305816] â„¹ï¸  DOB normalized: 04/08/1956
[14:06:13] [DOC: 9305816] â„¹ï¸  Episode startOfEpisode normalized: 03/25/2025
[14:06:13] [DOC: 9305816] â„¹ï¸  Episode endOfEpisode normalized: 05/23/2025
[14:06:13] [DOC: 9305816] âœ… Patient date processing completed successfully
[14:06:13] âœ…    âœ… Date processing completed
[14:06:13] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Richard
     â””â”€ patientLName: Rocheleau
     â””â”€ dob: 04/08/1956
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA210924045601
     â””â”€ billingProvider: SHAN QIN
     â””â”€ npi: 1891138822
     â””â”€ physicianNPI: 1891138822
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '03/25/2025', 'endOfEpisode': '05/23/2025', 'firstDiagnosis': 'F20.9', 'secondDiagnosis': 'E11.69', 'thirdDiagnosis': 'I10', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:06:13] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:06:15] â„¹ï¸  Order extraction - MRN: 'MA210924045601'
[14:06:15] â„¹ï¸  Order extraction - Sex: ''
[14:06:15] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[14:06:15] â„¹ï¸  Order extraction - Payer Source: ''
[14:06:15] âœ… Order data extraction completed successfully
[14:06:15] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:06:15] â„¹ï¸  Using MRN from patient data: 'MA210924045601' over 'MA210924045601'
[14:06:15] â„¹ï¸  Inferred sex as MALE from name: Richard
[14:06:15] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing'
[14:06:15] âœ… Patient name cross-validation successful
[14:06:15] âœ…    âœ… Data merged successfully
[14:06:16] âœ…    âœ… Order data extracted and validated
[14:06:16] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:06:39] [DOC: 9305816] âœ… Patient exists in API: Richard Rocheleau, ID: 6e19c485-fd72-4483-a5b5-178db0e84a0a
[14:06:39] âœ…    âœ… Existing patient found with ID: 6e19c485-fd72-4483-a5b5-178db0e84a0a
[14:06:39] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:06:39] [DOC: 9305816] â„¹ï¸  Pushing order via API for patient ID: 6e19c485-fd72-4483-a5b5-178db0e84a0a
[14:06:41] [DOC: 9305816] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD19032"}
[14:06:41] âŒ    âŒ Failed to push order
[14:06:41] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:06:41] [DOC: 9305816] â„¹ï¸  Calculated age: 69 from DOB: 04/08/1956
[14:06:41] [DOC: 9305816] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[14:06:41] [DOC: 9305816] â„¹ï¸  Payer Source extracted: ''
[14:06:41] [DOC: 9305816] â„¹ï¸  Diagnosis codes being written:
[14:06:41] [DOC: 9305816] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'F20.9'
[14:06:41] [DOC: 9305816] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'E11.69'
[14:06:41] [DOC: 9305816] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'I10'
[14:06:41] [DOC: 9305816] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:06:41] [DOC: 9305816] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:06:41] [DOC: 9305816] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:06:41] [DOC: 9305816] âœ… Patient data written to CSV: Richard Rocheleau | Sex: MALE | Age: 69 | Service: Skilled Nursing | Payer:  | MRN: MA210924045601
[14:06:41] âœ…    âœ… Document 9305816 processed and saved successfully
[14:06:41] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:06:41] [DOC: 9305816] â„¹ï¸  API push details saved for document 9305816
[14:06:41] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9305814                         â•‘
================================================================================
[14:06:41] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:06:41] â„¹ï¸  Date: 05/21/2025
[14:06:41] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:06:45] [DOC: 9305814] âœ… Text extracted using pdfplumber (13443 chars)
[14:06:45] âœ…    âœ… Text extracted using pdfplumber (13443 chars)
[14:06:45] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:06:48] â„¹ï¸  AI extracted raw sex value: 'F'
[14:06:48] â„¹ï¸  AI extracted service line: 'OT'
[14:06:48] â„¹ï¸  AI extracted payer source: 'None'
[14:06:48] â„¹ï¸  AI extracted diagnoses:
[14:06:48] â„¹ï¸    - Diagnosis 1: 'vertigo'
[14:06:48] â„¹ï¸    - Diagnosis 2: 'muscle weakness'
[14:06:48] â„¹ï¸    - Diagnosis 3: 'None'
[14:06:48] â„¹ï¸    - Diagnosis 4: 'None'
[14:06:48] â„¹ï¸    - Diagnosis 5: 'None'
[14:06:48] â„¹ï¸    - Diagnosis 6: 'None'
[14:06:48] â„¹ï¸  Final extracted MRN: '101002392'
[14:06:48] â„¹ï¸  Final extracted Sex: 'FEMALE'
[14:06:48] â„¹ï¸  Final extracted Service Line: 'OT'
[14:06:48] â„¹ï¸  Final extracted Payer Source: ''
[14:06:48] âœ… Patient data extraction completed successfully
[14:06:48] âœ…    âœ… Patient data extracted successfully
[14:06:48] ğŸ“Š Patient Response
     â””â”€ patientFName: Virginia
     â””â”€ patientLName: Brunton
     â””â”€ dob: 06/05/1940
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 101002392
     â””â”€ billingProvider: Dr. QIN, SHAN
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST.
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '04/11/2025', 'endOfEpisode': None, 'firstDiagnosis': 'vertigo', 'secondDiagnosis': 'muscle weakness', 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[14:06:48] âœ…    âœ… Patient identified: Virginia Brunton
[14:06:48] âœ…    âœ… Patient name validation passed
[14:06:48] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:06:48] [DOC: 9305814] â„¹ï¸  DOB normalized: 06/05/1940
[14:06:48] [DOC: 9305814] â„¹ï¸  Episode startOfEpisode normalized: 04/11/2025
[14:06:48] [DOC: 9305814] âœ… Patient date processing completed successfully
[14:06:48] âœ…    âœ… Date processing completed
[14:06:48] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Virginia
     â””â”€ patientLName: Brunton
     â””â”€ dob: 06/05/1940
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 101002392
     â””â”€ billingProvider: Dr. QIN, SHAN
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST.
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/11/2025', 'firstDiagnosis': 'vertigo', 'secondDiagnosis': 'muscle weakness'}]
[14:06:48] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:06:51] â„¹ï¸  Order extraction - MRN: '101002392'
[14:06:51] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[14:06:51] â„¹ï¸  Order extraction - Service Line: 'OT'
[14:06:51] â„¹ï¸  Order extraction - Payer Source: ''
[14:06:51] âœ… Order data extraction completed successfully
[14:06:51] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:06:51] â„¹ï¸  Using MRN from patient data: '101002392' over '101002392'
[14:06:51] â„¹ï¸  Service line consistent in both sources: 'OT'
[14:06:51] âœ… Patient name cross-validation successful
[14:06:51] âœ…    âœ… Data merged successfully
[14:06:52] âœ…    âœ… Order data extracted and validated
[14:06:52] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:06:52] [DOC: 9305814] âœ… Patient found in local cache: Virginia Brunton, ID: 1dfe1667-8fe2-4a04-bd64-0b58b891f126
[14:06:52] âœ…    âœ… Existing patient found with ID: 1dfe1667-8fe2-4a04-bd64-0b58b891f126
[14:06:52] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:06:52] [DOC: 9305814] â„¹ï¸  Pushing order via API for patient ID: 1dfe1667-8fe2-4a04-bd64-0b58b891f126
[14:06:53] [DOC: 9305814] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[14:06:53] âŒ    âŒ Failed to push order
[14:06:53] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:06:53] [DOC: 9305814] â„¹ï¸  Calculated age: 85 from DOB: 06/05/1940
[14:06:53] [DOC: 9305814] â„¹ï¸  Service Line extracted: 'OT'
[14:06:53] [DOC: 9305814] â„¹ï¸  Payer Source extracted: ''
[14:06:53] [DOC: 9305814] â„¹ï¸  Diagnosis codes being written:
[14:06:53] [DOC: 9305814] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'vertigo'
[14:06:53] [DOC: 9305814] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'muscle weakness'
[14:06:53] [DOC: 9305814] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[14:06:53] [DOC: 9305814] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:06:53] [DOC: 9305814] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:06:53] [DOC: 9305814] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:06:53] [DOC: 9305814] âœ… Patient data written to CSV: Virginia Brunton | Sex: FEMALE | Age: 85 | Service: OT | Payer:  | MRN: 101002392
[14:06:53] âœ…    âœ… Document 9305814 processed and saved successfully
[14:06:53] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:06:53] [DOC: 9305814] â„¹ï¸  API push details saved for document 9305814
[14:06:53] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9305809                         â•‘
================================================================================
[14:06:53] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:06:53] â„¹ï¸  Date: 05/21/2025
[14:06:53] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:06:59] [DOC: 9305809] âœ… Text extracted using pdfplumber (18552 chars)
[14:06:59] âœ…    âœ… Text extracted using pdfplumber (18552 chars)
[14:06:59] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:07:02] â„¹ï¸  AI extracted raw sex value: ''
[14:07:02] â„¹ï¸  AI extracted service line: 'OT'
[14:07:02] â„¹ï¸  AI extracted payer source: ''
[14:07:02] â„¹ï¸  AI extracted diagnoses:
[14:07:02] â„¹ï¸    - Diagnosis 1: ''
[14:07:02] â„¹ï¸    - Diagnosis 2: ''
[14:07:02] â„¹ï¸    - Diagnosis 3: ''
[14:07:02] â„¹ï¸    - Diagnosis 4: ''
[14:07:02] â„¹ï¸    - Diagnosis 5: ''
[14:07:02] â„¹ï¸    - Diagnosis 6: ''
[14:07:02] â„¹ï¸  Final extracted MRN: 'MA241126016807'
[14:07:02] â„¹ï¸  Final extracted Sex: ''
[14:07:02] â„¹ï¸  Final extracted Service Line: 'OT'
[14:07:02] â„¹ï¸  Final extracted Payer Source: ''
[14:07:02] âœ… Patient data extraction completed successfully
[14:07:02] âœ…    âœ… Patient data extracted successfully
[14:07:02] ğŸ“Š Patient Response
     â””â”€ patientFName: Frank
     â””â”€ patientLName: Ferreira
     â””â”€ dob: 01/07/1968
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA241126016807
     â””â”€ billingProvider: Dr. QIN, SHAN
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/10/2025', 'endOfEpisode': '06/10/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:07:02] âœ…    âœ… Patient identified: Frank Ferreira
[14:07:02] âœ…    âœ… Patient name validation passed
[14:07:02] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:07:02] [DOC: 9305809] â„¹ï¸  DOB normalized: 01/07/1968
[14:07:02] [DOC: 9305809] â„¹ï¸  Episode startOfEpisode normalized: 04/10/2025
[14:07:02] [DOC: 9305809] â„¹ï¸  Episode endOfEpisode normalized: 06/10/2025
[14:07:02] [DOC: 9305809] âœ… Patient date processing completed successfully
[14:07:02] âœ…    âœ… Date processing completed
[14:07:02] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Frank
     â””â”€ patientLName: Ferreira
     â””â”€ dob: 01/07/1968
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA241126016807
     â””â”€ billingProvider: Dr. QIN, SHAN
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/10/2025', 'endOfEpisode': '06/10/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:07:02] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:07:05] â„¹ï¸  Order extraction - MRN: 'MA241126016807'
[14:07:05] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:07:05] â„¹ï¸  Order extraction - Service Line: 'OT'
[14:07:05] â„¹ï¸  Order extraction - Payer Source: ''
[14:07:05] âœ… Order data extraction completed successfully
[14:07:05] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:07:05] â„¹ï¸  Using MRN from patient data: 'MA241126016807' over 'MA241126016807'
[14:07:05] â„¹ï¸  Service line consistent in both sources: 'OT'
[14:07:05] âœ… Patient name cross-validation successful
[14:07:05] âœ…    âœ… Data merged successfully
[14:07:06] âœ…    âœ… Order data extracted and validated
[14:07:06] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:07:13] [DOC: 9305809] â„¹ï¸  Patient not found in cache or API: Frank Ferreira
[14:07:13] [DOC: 9305809] â„¹ï¸  Patient not found, creating new patient via API...
[14:07:13] [DOC: 9305809] â„¹ï¸  Creating patient via API: Frank Ferreira
[14:07:14] [DOC: 9305809] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[14:07:14] âŒ    âŒ Failed to create patient
[14:07:14] [DOC: 9305809] â„¹ï¸  API push details saved for document 9305809
================================================================================
â•‘                        Processing Document ID: 9305393                         â•‘
================================================================================
[14:07:14] â„¹ï¸  Agency: Southcoast VNA â€“ Community Office (Fairhaven)
[14:07:14] â„¹ï¸  Date: 05/21/2025
[14:07:14] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:07:15] [DOC: 9305393] âœ… Text extracted using pdfplumber (1042 chars)
[14:07:15] âœ…    âœ… Text extracted using pdfplumber (1042 chars)
[14:07:15] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:07:18] â„¹ï¸  AI extracted raw sex value: 'F'
[14:07:18] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[14:07:18] â„¹ï¸  AI extracted payer source: ''
[14:07:18] â„¹ï¸  AI extracted diagnoses:
[14:07:18] â„¹ï¸    - Diagnosis 1: 'None'
[14:07:18] â„¹ï¸    - Diagnosis 2: 'None'
[14:07:18] â„¹ï¸    - Diagnosis 3: 'None'
[14:07:18] â„¹ï¸    - Diagnosis 4: 'None'
[14:07:18] â„¹ï¸    - Diagnosis 5: 'None'
[14:07:18] â„¹ï¸    - Diagnosis 6: 'None'
[14:07:18] â„¹ï¸  Final extracted MRN: '2577119'
[14:07:18] â„¹ï¸  Final extracted Sex: 'FEMALE'
[14:07:18] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[14:07:18] â„¹ï¸  Final extracted Payer Source: ''
[14:07:18] âœ… Patient data extraction completed successfully
[14:07:18] âœ…    âœ… Patient data extracted successfully
[14:07:18] ğŸ“Š Patient Response
     â””â”€ patientFName: Marilyn
     â””â”€ patientLName: Hood
     â””â”€ dob: 10/23/1941
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2577119
     â””â”€ billingProvider: Christine A. Will, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 973-3200
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': None, 'endOfEpisode': None, 'firstDiagnosis': None, 'secondDiagnosis': None, 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[14:07:18] âœ…    âœ… Patient identified: Marilyn Hood
[14:07:18] âœ…    âœ… Patient name validation passed
[14:07:18] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:07:18] [DOC: 9305393] â„¹ï¸  DOB normalized: 10/23/1941
[14:07:18] [DOC: 9305393] âœ… Patient date processing completed successfully
[14:07:18] âœ…    âœ… Date processing completed
[14:07:18] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Marilyn
     â””â”€ patientLName: Hood
     â””â”€ dob: 10/23/1941
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2577119
     â””â”€ billingProvider: Christine A. Will, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 973-3200
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': ''}]
[14:07:18] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:07:20] â„¹ï¸  Order extraction - MRN: '2577119'
[14:07:20] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[14:07:20] â„¹ï¸  Order extraction - Service Line: ''
[14:07:20] â„¹ï¸  Order extraction - Payer Source: ''
[14:07:20] âœ… Order data extraction completed successfully
[14:07:20] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:07:20] â„¹ï¸  Using MRN from patient data: '2577119' over '2577119'
[14:07:20] â„¹ï¸  Using service line from patient data: 'Skilled Nursing'
[14:07:20] âœ… Patient name cross-validation successful
[14:07:20] âœ…    âœ… Data merged successfully
[14:07:22] âœ…    âœ… Order data extracted and validated
[14:07:22] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:07:22] [DOC: 9305393] âœ… Patient found in local cache: Marilyn Hood, ID: 6dbefab8-cca3-4e53-942e-025025b735f3
[14:07:22] âœ…    âœ… Existing patient found with ID: 6dbefab8-cca3-4e53-942e-025025b735f3
[14:07:22] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:07:22] [DOC: 9305393] â„¹ï¸  Pushing order via API for patient ID: 6dbefab8-cca3-4e53-942e-025025b735f3
[14:07:23] [DOC: 9305393] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD19035"}
[14:07:23] âŒ    âŒ Failed to push order
[14:07:23] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:07:23] [DOC: 9305393] â„¹ï¸  Calculated age: 83 from DOB: 10/23/1941
[14:07:23] [DOC: 9305393] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[14:07:23] [DOC: 9305393] â„¹ï¸  Payer Source extracted: ''
[14:07:23] [DOC: 9305393] â„¹ï¸  Diagnosis codes being written:
[14:07:23] [DOC: 9305393] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[14:07:23] [DOC: 9305393] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[14:07:23] [DOC: 9305393] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[14:07:23] [DOC: 9305393] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:07:23] [DOC: 9305393] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:07:23] [DOC: 9305393] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:07:23] [DOC: 9305393] âœ… Patient data written to CSV: Marilyn Hood | Sex: FEMALE | Age: 83 | Service: Skilled Nursing | Payer:  | MRN: 2577119
[14:07:23] âœ…    âœ… Document 9305393 processed and saved successfully
[14:07:23] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:07:23] [DOC: 9305393] â„¹ï¸  API push details saved for document 9305393
[14:07:23] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9305391                         â•‘
================================================================================
[14:07:23] â„¹ï¸  Agency: Southcoast VNA â€“ Community Office (Fairhaven)
[14:07:23] â„¹ï¸  Date: 05/21/2025
[14:07:23] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:07:24] [DOC: 9305391] âœ… Text extracted using pdfplumber (1262 chars)
[14:07:24] âœ…    âœ… Text extracted using pdfplumber (1262 chars)
[14:07:24] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:07:27] â„¹ï¸  AI extracted raw sex value: 'F'
[14:07:27] â„¹ï¸  AI extracted service line: 'Physical Therapy'
[14:07:27] â„¹ï¸  AI extracted payer source: ''
[14:07:27] â„¹ï¸  AI extracted diagnoses:
[14:07:27] â„¹ï¸    - Diagnosis 1: ''
[14:07:27] â„¹ï¸    - Diagnosis 2: ''
[14:07:27] â„¹ï¸    - Diagnosis 3: ''
[14:07:27] â„¹ï¸    - Diagnosis 4: ''
[14:07:27] â„¹ï¸    - Diagnosis 5: ''
[14:07:27] â„¹ï¸    - Diagnosis 6: ''
[14:07:27] â„¹ï¸  Final extracted MRN: '2537464'
[14:07:27] â„¹ï¸  Final extracted Sex: 'FEMALE'
[14:07:27] â„¹ï¸  Final extracted Service Line: 'Physical Therapy'
[14:07:27] â„¹ï¸  Final extracted Payer Source: ''
[14:07:27] âœ… Patient data extraction completed successfully
[14:07:27] âœ…    âœ… Patient data extracted successfully
[14:07:27] ğŸ“Š Patient Response
     â””â”€ patientFName: Pamela
     â””â”€ patientLName: Greene
     â””â”€ dob: 10/25/1945
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2537464
     â””â”€ billingProvider: Gloriane Afonso-Fede, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 973-3200
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:07:27] âœ…    âœ… Patient identified: Pamela Greene
[14:07:27] âœ…    âœ… Patient name validation passed
[14:07:27] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:07:27] [DOC: 9305391] â„¹ï¸  DOB normalized: 10/25/1945
[14:07:27] [DOC: 9305391] âœ… Patient date processing completed successfully
[14:07:27] âœ…    âœ… Date processing completed
[14:07:27] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Pamela
     â””â”€ patientLName: Greene
     â””â”€ dob: 10/25/1945
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2537464
     â””â”€ billingProvider: Gloriane Afonso-Fede, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 973-3200
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:07:27] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:07:29] â„¹ï¸  Order extraction - MRN: '2537464'
[14:07:29] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[14:07:29] â„¹ï¸  Order extraction - Service Line: ''
[14:07:29] â„¹ï¸  Order extraction - Payer Source: ''
[14:07:29] âœ… Order data extraction completed successfully
[14:07:29] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:07:29] â„¹ï¸  Using MRN from patient data: '2537464' over '2537464'
[14:07:29] â„¹ï¸  Using service line from patient data: 'Physical Therapy'
[14:07:29] âœ… Patient name cross-validation successful
[14:07:29] âœ…    âœ… Data merged successfully
[14:07:30] âš ï¸     âŒ Skipping - missing episode start date
[14:07:30] [DOC: 9305391] â„¹ï¸  API push details saved for document 9305391
================================================================================
â•‘                        Processing Document ID: 9305384                         â•‘
================================================================================
[14:07:30] â„¹ï¸  Agency: Southcoast VNA â€“ Community Office (Fairhaven)
[14:07:30] â„¹ï¸  Date: 05/21/2025
[14:07:30] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:07:31] [DOC: 9305384] âœ… Text extracted using pdfplumber (1190 chars)
[14:07:31] âœ…    âœ… Text extracted using pdfplumber (1190 chars)
[14:07:31] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:07:34] â„¹ï¸  AI extracted raw sex value: 'M'
[14:07:34] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[14:07:34] â„¹ï¸  AI extracted payer source: ''
[14:07:34] â„¹ï¸  AI extracted diagnoses:
[14:07:34] â„¹ï¸    - Diagnosis 1: ''
[14:07:34] â„¹ï¸    - Diagnosis 2: ''
[14:07:34] â„¹ï¸    - Diagnosis 3: ''
[14:07:34] â„¹ï¸    - Diagnosis 4: ''
[14:07:34] â„¹ï¸    - Diagnosis 5: ''
[14:07:34] â„¹ï¸    - Diagnosis 6: ''
[14:07:34] â„¹ï¸  Final extracted MRN: '3451044'
[14:07:34] â„¹ï¸  Final extracted Sex: 'MALE'
[14:07:34] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[14:07:34] â„¹ï¸  Final extracted Payer Source: ''
[14:07:34] âœ… Patient data extraction completed successfully
[14:07:34] âœ…    âœ… Patient data extracted successfully
[14:07:34] ğŸ“Š Patient Response
     â””â”€ patientFName: David
     â””â”€ patientLName: Breese
     â””â”€ dob: 10/30/1947
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 3451044
     â””â”€ billingProvider: Karine Maalouf-Kaleshian, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 973-3200
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:07:34] âœ…    âœ… Patient identified: David Breese
[14:07:34] âœ…    âœ… Patient name validation passed
[14:07:34] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:07:34] [DOC: 9305384] â„¹ï¸  DOB normalized: 10/30/1947
[14:07:34] [DOC: 9305384] âœ… Patient date processing completed successfully
[14:07:34] âœ…    âœ… Date processing completed
[14:07:34] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: David
     â””â”€ patientLName: Breese
     â””â”€ dob: 10/30/1947
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 3451044
     â””â”€ billingProvider: Karine Maalouf-Kaleshian, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 973-3200
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:07:34] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:07:36] â„¹ï¸  Order extraction - MRN: '3451044'
[14:07:36] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:07:36] â„¹ï¸  Order extraction - Service Line: ''
[14:07:36] â„¹ï¸  Order extraction - Payer Source: ''
[14:07:36] âœ… Order data extraction completed successfully
[14:07:36] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:07:36] â„¹ï¸  Using MRN from patient data: '3451044' over '3451044'
[14:07:36] â„¹ï¸  Using service line from patient data: 'Skilled Nursing'
[14:07:36] âœ… Patient name cross-validation successful
[14:07:36] âœ…    âœ… Data merged successfully
[14:07:37] âœ…    âœ… Order data extracted and validated
[14:07:37] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:07:37] [DOC: 9305384] âœ… Patient found in local cache: David Breese, ID: 49bdf5d7-829c-4215-90b5-9ddd891dce52
[14:07:37] âœ…    âœ… Existing patient found with ID: 49bdf5d7-829c-4215-90b5-9ddd891dce52
[14:07:37] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:07:37] [DOC: 9305384] â„¹ï¸  Pushing order via API for patient ID: 49bdf5d7-829c-4215-90b5-9ddd891dce52
[14:07:39] [DOC: 9305384] âŒ Order push failed with status 201: {"id":"84ab728f-50ec-4f57-89f9-1295519ea538","orderWAVId":"ORD19946","orderNo":"1093923, 1093924","orderDate":"05/20/2025","startOfCare":"05/20/2025","episodeStartDate":"05/20/2025","episodeEndDate":"07/18/2025","documentID":"9305384","mrn":"3451044","patientName":"Breese,David","sentToPhysicianDate":"05/21/2025","sentToPhysicianStatus":true,"signedByPhysicianDate":"06/03/2025","signedByPhysicianStatus":true,"uploadedSignedOrderDate":null,"uploadedSignedOrderStatus":false,"uploadedSignedPgOrderDate":null,"uploadedSignedPgOrderStatus":false,"cpoMinutes":null,"orderUrl":null,"documentName":"Orders","ehr":null,"account":null,"location":null,"remarks":null,"patientId":"49bdf5d7-829c-4215-90b5-9ddd891dce52","companyId":"370583e3-01c8-477e-8b6d-d3537a10c767","pgCompanyId":"4b51c8b7-c8c4-4779-808c-038c057f026b","entityType":null,"clinicalJustification":null,"billingProvider":null,"billingProviderNPI":null,"supervisingProvider":null,"supervisingProviderNPI":null,"bit64Url":null,"daOrderType":null,"daUploadSuccess":null,"daResponseStatusCode":null,"daResponseDetails":null}
[14:07:39] âŒ    âŒ Failed to push order
[14:07:39] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:07:39] [DOC: 9305384] â„¹ï¸  Calculated age: 77 from DOB: 10/30/1947
[14:07:39] [DOC: 9305384] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[14:07:39] [DOC: 9305384] â„¹ï¸  Payer Source extracted: ''
[14:07:39] [DOC: 9305384] â„¹ï¸  Diagnosis codes being written:
[14:07:39] [DOC: 9305384] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[14:07:39] [DOC: 9305384] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[14:07:39] [DOC: 9305384] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[14:07:39] [DOC: 9305384] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:07:39] [DOC: 9305384] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:07:39] [DOC: 9305384] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:07:39] [DOC: 9305384] âœ… Patient data written to CSV: David Breese | Sex: MALE | Age: 77 | Service: Skilled Nursing | Payer:  | MRN: 3451044
[14:07:39] âœ…    âœ… Document 9305384 processed and saved successfully
[14:07:39] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:07:39] [DOC: 9305384] â„¹ï¸  API push details saved for document 9305384
[14:07:39] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9305201                         â•‘
================================================================================
[14:07:39] â„¹ï¸  Agency: Guardian Home Health Care LLC - West Bridgewater
[14:07:39] â„¹ï¸  Date: 05/21/2025
[14:07:39] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:07:41] [DOC: 9305201] âœ… Text extracted using pdfplumber (1348 chars)
[14:07:41] âœ…    âœ… Text extracted using pdfplumber (1348 chars)
[14:07:41] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:07:44] â„¹ï¸  AI extracted raw sex value: 'M'
[14:07:44] â„¹ï¸  AI extracted service line: 'HHA'
[14:07:44] â„¹ï¸  AI extracted payer source: 'Medicaid/MA'
[14:07:44] â„¹ï¸  AI extracted diagnoses:
[14:07:44] â„¹ï¸    - Diagnosis 1: ''
[14:07:44] â„¹ï¸    - Diagnosis 2: ''
[14:07:44] â„¹ï¸    - Diagnosis 3: ''
[14:07:44] â„¹ï¸    - Diagnosis 4: ''
[14:07:44] â„¹ï¸    - Diagnosis 5: ''
[14:07:44] â„¹ï¸    - Diagnosis 6: ''
[14:07:44] â„¹ï¸  Final extracted MRN: '879'
[14:07:44] â„¹ï¸  Final extracted Sex: 'MALE'
[14:07:44] â„¹ï¸  Final extracted Service Line: 'HHA'
[14:07:44] â„¹ï¸  Final extracted Payer Source: 'Medicaid/MA'
[14:07:44] âœ… Patient data extraction completed successfully
[14:07:44] âœ…    âœ… Patient data extracted successfully
[14:07:44] ğŸ“Š Patient Response
     â””â”€ patientFName: Sean
     â””â”€ patientLName: McCarthy
     â””â”€ dob: 09/16/1969
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 879
     â””â”€ billingProvider: Guardian Home Health Care, LLC
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Guardian Home Health Care, LLC
     â””â”€ address: 750 West Center St 3rd Floor
     â””â”€ city: W Bridgewater
     â””â”€ state: MA
     â””â”€ zip: 02379
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 588-5811
     â””â”€ serviceLine: HHA
     â””â”€ payorSource: Medicaid/MA
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/30/2024', 'startOfEpisode': '03/25/2025', 'endOfEpisode': '05/23/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:07:44] âœ…    âœ… Patient identified: Sean McCarthy
[14:07:44] âœ…    âœ… Patient name validation passed
[14:07:44] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:07:44] [DOC: 9305201] â„¹ï¸  DOB normalized: 09/16/1969
[14:07:44] [DOC: 9305201] â„¹ï¸  Episode startOfCare normalized: 03/30/2024
[14:07:44] [DOC: 9305201] â„¹ï¸  Episode startOfEpisode normalized: 03/25/2025
[14:07:44] [DOC: 9305201] â„¹ï¸  Episode endOfEpisode normalized: 05/23/2025
[14:07:44] [DOC: 9305201] âœ… Patient date processing completed successfully
[14:07:44] âœ…    âœ… Date processing completed
[14:07:44] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Sean
     â””â”€ patientLName: McCarthy
     â””â”€ dob: 09/16/1969
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 879
     â””â”€ billingProvider: Guardian Home Health Care, LLC
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Guardian Home Health Care, LLC
     â””â”€ address: 750 West Center St 3rd Floor
     â””â”€ city: W Bridgewater
     â””â”€ state: MA
     â””â”€ zip: 02379
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 588-5811
     â””â”€ serviceLine: HHA
     â””â”€ payorSource: Medicaid/MA
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/30/2024', 'startOfEpisode': '03/25/2025', 'endOfEpisode': '05/23/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:07:44] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:07:47] â„¹ï¸  Order extraction - MRN: '879'
[14:07:47] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:07:47] â„¹ï¸  Order extraction - Service Line: 'HHA'
[14:07:47] â„¹ï¸  Order extraction - Payer Source: 'Medicaid/MA'
[14:07:47] âœ… Order data extraction completed successfully
[14:07:47] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:07:47] â„¹ï¸  Using MRN from patient data: '879' over '879'
[14:07:47] â„¹ï¸  Service line consistent in both sources: 'HHA'
[14:07:47] â„¹ï¸  Payer source consistent in both sources: 'Medicaid/MA'
[14:07:47] âœ… Patient name cross-validation successful
[14:07:47] âœ…    âœ… Data merged successfully
[14:07:48] âœ…    âœ… Order data extracted and validated
[14:07:48] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:07:48] [DOC: 9305201] âœ… Patient found in local cache: Sean McCarthy, ID: 794ee6f3-c2e9-44a3-b06e-882af702b6d8
[14:07:48] âœ…    âœ… Existing patient found with ID: 794ee6f3-c2e9-44a3-b06e-882af702b6d8
[14:07:48] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:07:48] [DOC: 9305201] â„¹ï¸  Pushing order via API for patient ID: 794ee6f3-c2e9-44a3-b06e-882af702b6d8
[14:07:49] [DOC: 9305201] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14049"}
[14:07:49] âŒ    âŒ Failed to push order
[14:07:49] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:07:49] [DOC: 9305201] â„¹ï¸  Calculated age: 55 from DOB: 09/16/1969
[14:07:49] [DOC: 9305201] â„¹ï¸  Service Line extracted: 'HHA'
[14:07:49] [DOC: 9305201] â„¹ï¸  Payer Source extracted: 'Medicaid/MA'
[14:07:49] [DOC: 9305201] â„¹ï¸  Diagnosis codes being written:
[14:07:49] [DOC: 9305201] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[14:07:49] [DOC: 9305201] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[14:07:49] [DOC: 9305201] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[14:07:49] [DOC: 9305201] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:07:49] [DOC: 9305201] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:07:49] [DOC: 9305201] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:07:49] [DOC: 9305201] âœ… Patient data written to CSV: Sean McCarthy | Sex: MALE | Age: 55 | Service: HHA | Payer: Medicaid/MA | MRN: 879
[14:07:49] âœ…    âœ… Document 9305201 processed and saved successfully
[14:07:49] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:07:49] [DOC: 9305201] â„¹ï¸  API push details saved for document 9305201
[14:07:49] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9305147                         â•‘
================================================================================
[14:07:49] â„¹ï¸  Agency: Dartmouth HH
[14:07:49] â„¹ï¸  Date: 05/21/2025
[14:07:49] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:07:52] [DOC: 9305147] âœ… Text extracted using pdfplumber (12525 chars)
[14:07:52] âœ…    âœ… Text extracted using pdfplumber (12513 chars)
[14:07:52] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:07:56] â„¹ï¸  AI extracted raw sex value: 'M'
[14:07:56] â„¹ï¸  AI extracted service line: 'Skilled Nursing, PT, OT'
[14:07:56] â„¹ï¸  AI extracted payer source: 'None'
[14:07:56] â„¹ï¸  AI extracted diagnoses:
[14:07:56] â„¹ï¸    - Diagnosis 1: 'I12.9'
[14:07:56] â„¹ï¸    - Diagnosis 2: 'E11.22'
[14:07:56] â„¹ï¸    - Diagnosis 3: 'N18.30'
[14:07:56] â„¹ï¸    - Diagnosis 4: 'I73.9'
[14:07:56] â„¹ï¸    - Diagnosis 5: 'I70.213'
[14:07:56] â„¹ï¸    - Diagnosis 6: 'I48.20'
[14:07:56] â„¹ï¸  Final extracted MRN: '227027'
[14:07:56] â„¹ï¸  Final extracted Sex: 'MALE'
[14:07:56] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing, PT, OT'
[14:07:56] â„¹ï¸  Final extracted Payer Source: ''
[14:07:56] âœ… Patient data extraction completed successfully
[14:07:56] âœ…    âœ… Patient data extracted successfully
[14:07:56] ğŸ“Š Patient Response
     â””â”€ patientFName: Stephen
     â””â”€ patientLName: Hanna Jr,
     â””â”€ dob: 03/11/1936
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 227027
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing, PT, OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '03/15/2025', 'endOfEpisode': '07/12/2025', 'firstDiagnosis': 'I12.9', 'secondDiagnosis': 'E11.22', 'thirdDiagnosis': 'N18.30', 'fourthDiagnosis': 'I73.9', 'fifthDiagnosis': 'I70.213', 'sixthDiagnosis': 'I48.20'}]
[14:07:56] âœ…    âœ… Patient identified: Stephen Hanna Jr,
[14:07:56] âœ…    âœ… Patient name validation passed
[14:07:56] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:07:56] [DOC: 9305147] â„¹ï¸  DOB normalized: 03/11/1936
[14:07:56] [DOC: 9305147] â„¹ï¸  Episode startOfEpisode normalized: 03/15/2025
[14:07:56] [DOC: 9305147] â„¹ï¸  Episode endOfEpisode normalized: 07/12/2025
[14:07:56] [DOC: 9305147] âœ… Patient date processing completed successfully
[14:07:56] âœ…    âœ… Date processing completed
[14:07:56] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Stephen
     â””â”€ patientLName: Hanna Jr,
     â””â”€ dob: 03/11/1936
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 227027
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing, PT, OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '03/15/2025', 'endOfEpisode': '07/12/2025', 'firstDiagnosis': 'I12.9', 'secondDiagnosis': 'E11.22', 'thirdDiagnosis': 'N18.30', 'fourthDiagnosis': 'I73.9', 'fifthDiagnosis': 'I70.213', 'sixthDiagnosis': 'I48.20'}]
[14:07:56] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:07:58] â„¹ï¸  Order extraction - MRN: '227027'
[14:07:58] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:07:58] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[14:07:58] â„¹ï¸  Order extraction - Payer Source: ''
[14:07:58] âœ… Order data extraction completed successfully
[14:07:58] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:07:58] â„¹ï¸  Using MRN from patient data: '227027' over '227027'
[14:07:58] â„¹ï¸  Combined service lines: Patient='Skilled Nursing, PT, OT' + Order='Skilled Nursing, Physical Therapy, Occupational Therapy' = 'OT, Occupational Therapy, PT, Physical Therapy, Skilled Nursing'
[14:07:58] âœ… Patient name cross-validation successful
[14:07:58] âœ…    âœ… Data merged successfully
[14:07:59] âœ…    âœ… Order data extracted and validated
[14:07:59] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:07:59] [DOC: 9305147] âœ… Patient found in local cache: Stephen Hanna Jr,, ID: 38583918-d125-4291-a4c2-8551b1d02929
[14:07:59] âœ…    âœ… Existing patient found with ID: 38583918-d125-4291-a4c2-8551b1d02929
[14:07:59] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:07:59] [DOC: 9305147] â„¹ï¸  Pushing order via API for patient ID: 38583918-d125-4291-a4c2-8551b1d02929
[14:08:01] [DOC: 9305147] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[14:08:01] âŒ    âŒ Failed to push order
[14:08:01] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:08:01] [DOC: 9305147] â„¹ï¸  Calculated age: 89 from DOB: 03/11/1936
[14:08:01] [DOC: 9305147] â„¹ï¸  Service Line extracted: 'OT, Occupational Therapy, PT, Physical Therapy, Skilled Nursing'
[14:08:01] [DOC: 9305147] â„¹ï¸  Payer Source extracted: ''
[14:08:01] [DOC: 9305147] â„¹ï¸  Diagnosis codes being written:
[14:08:01] [DOC: 9305147] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'I12.9'
[14:08:01] [DOC: 9305147] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'E11.22'
[14:08:01] [DOC: 9305147] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'N18.30'
[14:08:01] [DOC: 9305147] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'I73.9'
[14:08:01] [DOC: 9305147] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'I70.213'
[14:08:01] [DOC: 9305147] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'I48.20'
[14:08:01] [DOC: 9305147] âœ… Patient data written to CSV: Stephen Hanna Jr, | Sex: MALE | Age: 89 | Service: OT, Occupational Therapy, PT, Physical Therapy, Skilled Nursing | Payer:  | MRN: 227027
[14:08:01] âœ…    âœ… Document 9305147 processed and saved successfully
[14:08:01] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:08:01] [DOC: 9305147] â„¹ï¸  API push details saved for document 9305147
[14:08:01] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9305142                         â•‘
================================================================================
[14:08:01] â„¹ï¸  Agency: Dartmouth HH
[14:08:01] â„¹ï¸  Date: 05/21/2025
[14:08:01] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:08:05] [DOC: 9305142] âœ… Text extracted using pdfplumber (1145 chars)
[14:08:05] âœ…    âœ… Text extracted using pdfplumber (1145 chars)
[14:08:05] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:08:08] â„¹ï¸  AI extracted raw sex value: 'M'
[14:08:08] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[14:08:08] â„¹ï¸  AI extracted payer source: 'Medicare'
[14:08:08] â„¹ï¸  AI extracted diagnoses:
[14:08:08] â„¹ï¸    - Diagnosis 1: 'None'
[14:08:08] â„¹ï¸    - Diagnosis 2: 'None'
[14:08:08] â„¹ï¸    - Diagnosis 3: 'None'
[14:08:08] â„¹ï¸    - Diagnosis 4: 'None'
[14:08:08] â„¹ï¸    - Diagnosis 5: 'None'
[14:08:08] â„¹ï¸    - Diagnosis 6: 'None'
[14:08:08] â„¹ï¸  Final extracted MRN: '6208015'
[14:08:08] â„¹ï¸  Final extracted Sex: 'MALE'
[14:08:08] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[14:08:08] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[14:08:08] âœ… Patient data extraction completed successfully
[14:08:08] âœ…    âœ… Patient data extracted successfully
[14:08:08] ğŸ“Š Patient Response
     â””â”€ patientFName: Stephen
     â””â”€ patientLName: Hanna Jr,
     â””â”€ dob: 03/11/1936
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 6208015
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 1013 Marlborough St
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02745
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/15/2025', 'startOfEpisode': '03/15/2025', 'endOfEpisode': '05/13/2025', 'firstDiagnosis': None, 'secondDiagnosis': None, 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[14:08:08] âœ…    âœ… Patient identified: Stephen Hanna Jr,
[14:08:08] âœ…    âœ… Patient name validation passed
[14:08:08] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:08:08] [DOC: 9305142] â„¹ï¸  DOB normalized: 03/11/1936
[14:08:08] [DOC: 9305142] â„¹ï¸  Episode startOfCare normalized: 03/15/2025
[14:08:08] [DOC: 9305142] â„¹ï¸  Episode startOfEpisode normalized: 03/15/2025
[14:08:08] [DOC: 9305142] â„¹ï¸  Episode endOfEpisode normalized: 05/13/2025
[14:08:08] [DOC: 9305142] âœ… Patient date processing completed successfully
[14:08:08] âœ…    âœ… Date processing completed
[14:08:08] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Stephen
     â””â”€ patientLName: Hanna Jr,
     â””â”€ dob: 03/11/1936
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 6208015
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 1013 Marlborough St
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02745
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/15/2025', 'startOfEpisode': '03/15/2025', 'endOfEpisode': '05/13/2025'}]
[14:08:08] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:08:10] â„¹ï¸  Order extraction - MRN: ''
[14:08:10] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:08:10] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[14:08:10] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[14:08:10] âœ… Order data extraction completed successfully
[14:08:10] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:08:10] â„¹ï¸  Using MRN from patient data: '6208015'
[14:08:10] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing'
[14:08:10] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[14:08:10] âœ… Patient name cross-validation successful
[14:08:10] âœ…    âœ… Data merged successfully
[14:08:12] âœ…    âœ… Order data extracted and validated
[14:08:12] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:08:12] [DOC: 9305142] âœ… Patient found in local cache: Stephen Hanna Jr,, ID: 38583918-d125-4291-a4c2-8551b1d02929
[14:08:12] âœ…    âœ… Existing patient found with ID: 38583918-d125-4291-a4c2-8551b1d02929
[14:08:12] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:08:12] [DOC: 9305142] â„¹ï¸  Pushing order via API for patient ID: 38583918-d125-4291-a4c2-8551b1d02929
[14:08:13] [DOC: 9305142] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13829"}
[14:08:13] âŒ    âŒ Failed to push order
[14:08:13] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:08:13] [DOC: 9305142] â„¹ï¸  Calculated age: 89 from DOB: 03/11/1936
[14:08:13] [DOC: 9305142] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[14:08:13] [DOC: 9305142] â„¹ï¸  Payer Source extracted: 'Medicare'
[14:08:13] [DOC: 9305142] â„¹ï¸  Diagnosis codes being written:
[14:08:13] [DOC: 9305142] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[14:08:13] [DOC: 9305142] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[14:08:13] [DOC: 9305142] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[14:08:13] [DOC: 9305142] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:08:13] [DOC: 9305142] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:08:13] [DOC: 9305142] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:08:13] [DOC: 9305142] âœ… Patient data written to CSV: Stephen Hanna Jr, | Sex: MALE | Age: 89 | Service: Skilled Nursing | Payer: Medicare | MRN: 6208015
[14:08:13] âœ…    âœ… Document 9305142 processed and saved successfully
[14:08:13] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:08:13] [DOC: 9305142] â„¹ï¸  API push details saved for document 9305142
[14:08:13] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9305138                         â•‘
================================================================================
[14:08:13] â„¹ï¸  Agency: Dartmouth HH
[14:08:13] â„¹ï¸  Date: 05/21/2025
[14:08:13] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:08:15] [DOC: 9305138] âœ… Text extracted using pdfplumber (1445 chars)
[14:08:15] âœ…    âœ… Text extracted using pdfplumber (1445 chars)
[14:08:15] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:08:18] â„¹ï¸  AI extracted raw sex value: 'M'
[14:08:18] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[14:08:18] â„¹ï¸  AI extracted payer source: 'Medicare'
[14:08:18] â„¹ï¸  AI extracted diagnoses:
[14:08:18] â„¹ï¸    - Diagnosis 1: ''
[14:08:18] â„¹ï¸    - Diagnosis 2: ''
[14:08:18] â„¹ï¸    - Diagnosis 3: ''
[14:08:18] â„¹ï¸    - Diagnosis 4: ''
[14:08:18] â„¹ï¸    - Diagnosis 5: ''
[14:08:18] â„¹ï¸    - Diagnosis 6: ''
[14:08:18] â„¹ï¸  Final extracted MRN: '6208015'
[14:08:18] â„¹ï¸  Final extracted Sex: 'MALE'
[14:08:18] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[14:08:18] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[14:08:18] âœ… Patient data extraction completed successfully
[14:08:18] âœ…    âœ… Patient data extracted successfully
[14:08:18] ğŸ“Š Patient Response
     â””â”€ patientFName: Stephen
     â””â”€ patientLName: Hanna Jr,
     â””â”€ dob: 03/11/1936
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 6208015
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 1013 Marlborough St
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02745
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/15/2025', 'startOfEpisode': '05/14/2025', 'endOfEpisode': '07/12/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:08:18] âœ…    âœ… Patient identified: Stephen Hanna Jr,
[14:08:18] âœ…    âœ… Patient name validation passed
[14:08:18] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:08:18] [DOC: 9305138] â„¹ï¸  DOB normalized: 03/11/1936
[14:08:18] [DOC: 9305138] â„¹ï¸  Episode startOfCare normalized: 03/15/2025
[14:08:18] [DOC: 9305138] â„¹ï¸  Episode startOfEpisode normalized: 05/14/2025
[14:08:18] [DOC: 9305138] â„¹ï¸  Episode endOfEpisode normalized: 07/12/2025
[14:08:18] [DOC: 9305138] âœ… Patient date processing completed successfully
[14:08:18] âœ…    âœ… Date processing completed
[14:08:18] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Stephen
     â””â”€ patientLName: Hanna Jr,
     â””â”€ dob: 03/11/1936
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 6208015
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 1013 Marlborough St
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02745
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/15/2025', 'startOfEpisode': '05/14/2025', 'endOfEpisode': '07/12/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:08:18] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:08:20] â„¹ï¸  Order extraction - MRN: ''
[14:08:20] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:08:20] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[14:08:20] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[14:08:20] âœ… Order data extraction completed successfully
[14:08:20] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:08:20] â„¹ï¸  Using MRN from patient data: '6208015'
[14:08:20] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing'
[14:08:20] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[14:08:20] âœ… Patient name cross-validation successful
[14:08:20] âœ…    âœ… Data merged successfully
[14:08:21] âœ…    âœ… Order data extracted and validated
[14:08:21] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:08:21] [DOC: 9305138] âœ… Patient found in local cache: Stephen Hanna Jr,, ID: 38583918-d125-4291-a4c2-8551b1d02929
[14:08:21] âœ…    âœ… Existing patient found with ID: 38583918-d125-4291-a4c2-8551b1d02929
[14:08:21] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:08:21] [DOC: 9305138] â„¹ï¸  Pushing order via API for patient ID: 38583918-d125-4291-a4c2-8551b1d02929
[14:08:23] [DOC: 9305138] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[14:08:23] âŒ    âŒ Failed to push order
[14:08:23] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:08:23] [DOC: 9305138] â„¹ï¸  Calculated age: 89 from DOB: 03/11/1936
[14:08:23] [DOC: 9305138] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[14:08:23] [DOC: 9305138] â„¹ï¸  Payer Source extracted: 'Medicare'
[14:08:23] [DOC: 9305138] â„¹ï¸  Diagnosis codes being written:
[14:08:23] [DOC: 9305138] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[14:08:23] [DOC: 9305138] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[14:08:23] [DOC: 9305138] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[14:08:23] [DOC: 9305138] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:08:23] [DOC: 9305138] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:08:23] [DOC: 9305138] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:08:23] [DOC: 9305138] âœ… Patient data written to CSV: Stephen Hanna Jr, | Sex: MALE | Age: 89 | Service: Skilled Nursing | Payer: Medicare | MRN: 6208015
[14:08:23] âœ…    âœ… Document 9305138 processed and saved successfully
[14:08:23] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:08:23] [DOC: 9305138] â„¹ï¸  API push details saved for document 9305138
[14:08:23] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9305134                         â•‘
================================================================================
[14:08:23] â„¹ï¸  Agency: Dartmouth HH
[14:08:23] â„¹ï¸  Date: 05/21/2025
[14:08:23] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:08:26] [DOC: 9305134] âœ… Text extracted using pdfplumber (12909 chars)
[14:08:26] âœ…    âœ… Text extracted using pdfplumber (12909 chars)
[14:08:26] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:08:29] â„¹ï¸  AI extracted raw sex value: 'F'
[14:08:29] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[14:08:29] â„¹ï¸  AI extracted payer source: 'None'
[14:08:29] â„¹ï¸  AI extracted diagnoses:
[14:08:29] â„¹ï¸    - Diagnosis 1: 'C34.92'
[14:08:29] â„¹ï¸    - Diagnosis 2: 'C34.91'
[14:08:29] â„¹ï¸    - Diagnosis 3: 'I11.0'
[14:08:29] â„¹ï¸    - Diagnosis 4: 'I50.23'
[14:08:29] â„¹ï¸    - Diagnosis 5: 'I25.5'
[14:08:29] â„¹ï¸    - Diagnosis 6: 'I47.10'
[14:08:29] â„¹ï¸  Final extracted MRN: '928015'
[14:08:29] â„¹ï¸  Final extracted Sex: 'FEMALE'
[14:08:29] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[14:08:29] â„¹ï¸  Final extracted Payer Source: ''
[14:08:29] âœ… Patient data extraction completed successfully
[14:08:29] âœ…    âœ… Patient data extracted successfully
[14:08:29] ğŸ“Š Patient Response
     â””â”€ patientFName: Graciani
     â””â”€ patientLName: Erconida
     â””â”€ dob: 07/07/1940
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 928015
     â””â”€ billingProvider: Community Nurse Inc
     â””â”€ npi: 100015057845
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '01/09/2025', 'startOfEpisode': '01/10/2025', 'endOfEpisode': '07/08/2025', 'firstDiagnosis': 'C34.92', 'secondDiagnosis': 'C34.91', 'thirdDiagnosis': 'I11.0', 'fourthDiagnosis': 'I50.23', 'fifthDiagnosis': 'I25.5', 'sixthDiagnosis': 'I47.10'}]
[14:08:29] âœ…    âœ… Patient identified: Graciani Erconida
[14:08:29] âœ…    âœ… Patient name validation passed
[14:08:29] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:08:29] [DOC: 9305134] â„¹ï¸  DOB normalized: 07/07/1940
[14:08:29] [DOC: 9305134] â„¹ï¸  Episode startOfCare normalized: 01/09/2025
[14:08:29] [DOC: 9305134] â„¹ï¸  Episode startOfEpisode normalized: 01/10/2025
[14:08:29] [DOC: 9305134] â„¹ï¸  Episode endOfEpisode normalized: 07/08/2025
[14:08:29] [DOC: 9305134] âœ… Patient date processing completed successfully
[14:08:29] âœ…    âœ… Date processing completed
[14:08:29] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Graciani
     â””â”€ patientLName: Erconida
     â””â”€ dob: 07/07/1940
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 928015
     â””â”€ billingProvider: Community Nurse Inc
     â””â”€ npi: 100015057845
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '01/09/2025', 'startOfEpisode': '01/10/2025', 'endOfEpisode': '07/08/2025', 'firstDiagnosis': 'C34.92', 'secondDiagnosis': 'C34.91', 'thirdDiagnosis': 'I11.0', 'fourthDiagnosis': 'I50.23', 'fifthDiagnosis': 'I25.5', 'sixthDiagnosis': 'I47.10'}]
[14:08:29] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:08:32] â„¹ï¸  Order extraction - MRN: '928015'
[14:08:32] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[14:08:32] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing, PT, OT'
[14:08:32] â„¹ï¸  Order extraction - Payer Source: ''
[14:08:32] âœ… Order data extraction completed successfully
[14:08:32] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:08:32] â„¹ï¸  Using MRN from patient data: '928015' over '928015'
[14:08:32] â„¹ï¸  Combined service lines: Patient='Skilled Nursing' + Order='Skilled Nursing, PT, OT' = 'OT, PT, Skilled Nursing'
[14:08:32] âœ… Patient name cross-validation successful
[14:08:32] âœ…    âœ… Data merged successfully
[14:08:39] âœ…    âœ… Order data extracted and validated
[14:08:39] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:08:46] [DOC: 9305134] â„¹ï¸  Patient not found in cache or API: Graciani Erconida
[14:08:46] [DOC: 9305134] â„¹ï¸  Patient not found, creating new patient via API...
[14:08:46] [DOC: 9305134] â„¹ï¸  Creating patient via API: Graciani Erconida
[14:08:48] [DOC: 9305134] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[14:08:48] âŒ    âŒ Failed to create patient
[14:08:48] [DOC: 9305134] â„¹ï¸  API push details saved for document 9305134
================================================================================
â•‘                        Processing Document ID: 9304177                         â•‘
================================================================================
[14:08:48] â„¹ï¸  Agency: Dartmouth HH
[14:08:48] â„¹ï¸  Date: 05/21/2025
[14:08:48] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:08:50] [DOC: 9304177] âœ… Text extracted using pdfplumber (1140 chars)
[14:08:50] âœ…    âœ… Text extracted using pdfplumber (1140 chars)
[14:08:50] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:08:52] â„¹ï¸  AI extracted raw sex value: 'M'
[14:08:52] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[14:08:52] â„¹ï¸  AI extracted payer source: 'Medicare'
[14:08:52] â„¹ï¸  AI extracted diagnoses:
[14:08:52] â„¹ï¸    - Diagnosis 1: ''
[14:08:52] â„¹ï¸    - Diagnosis 2: ''
[14:08:52] â„¹ï¸    - Diagnosis 3: ''
[14:08:52] â„¹ï¸    - Diagnosis 4: ''
[14:08:52] â„¹ï¸    - Diagnosis 5: ''
[14:08:52] â„¹ï¸    - Diagnosis 6: ''
[14:08:52] â„¹ï¸  Final extracted MRN: '3745015'
[14:08:52] â„¹ï¸  Final extracted Sex: 'MALE'
[14:08:52] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[14:08:52] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[14:08:52] âœ… Patient data extraction completed successfully
[14:08:52] âœ…    âœ… Patient data extracted successfully
[14:08:52] ğŸ“Š Patient Response
     â””â”€ patientFName: Stanley
     â””â”€ patientLName: Waters
     â””â”€ dob: 08/19/1941
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 3745015
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/13/2025', 'startOfEpisode': '05/12/2025', 'endOfEpisode': '07/10/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:08:52] âœ…    âœ… Patient identified: Stanley Waters
[14:08:52] âœ…    âœ… Patient name validation passed
[14:08:52] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:08:52] [DOC: 9304177] â„¹ï¸  DOB normalized: 08/19/1941
[14:08:52] [DOC: 9304177] â„¹ï¸  Episode startOfCare normalized: 03/13/2025
[14:08:52] [DOC: 9304177] â„¹ï¸  Episode startOfEpisode normalized: 05/12/2025
[14:08:52] [DOC: 9304177] â„¹ï¸  Episode endOfEpisode normalized: 07/10/2025
[14:08:52] [DOC: 9304177] âœ… Patient date processing completed successfully
[14:08:52] âœ…    âœ… Date processing completed
[14:08:52] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Stanley
     â””â”€ patientLName: Waters
     â””â”€ dob: 08/19/1941
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 3745015
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/13/2025', 'startOfEpisode': '05/12/2025', 'endOfEpisode': '07/10/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:08:52] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:08:55] â„¹ï¸  Order extraction - MRN: ''
[14:08:55] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:08:55] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[14:08:55] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[14:08:55] âœ… Order data extraction completed successfully
[14:08:55] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:08:55] â„¹ï¸  Using MRN from patient data: '3745015'
[14:08:55] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing'
[14:08:55] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[14:08:55] âœ… Patient name cross-validation successful
[14:08:55] âœ…    âœ… Data merged successfully
[14:08:56] âœ…    âœ… Order data extracted and validated
[14:08:56] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:09:04] [DOC: 9304177] âœ… Patient exists in API: Stanley Waters, ID: 5c967926-b804-40d7-9cac-2e10ae61f7db
[14:09:04] âœ…    âœ… Existing patient found with ID: 5c967926-b804-40d7-9cac-2e10ae61f7db
[14:09:04] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:09:04] [DOC: 9304177] â„¹ï¸  Pushing order via API for patient ID: 5c967926-b804-40d7-9cac-2e10ae61f7db
[14:09:05] [DOC: 9304177] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[14:09:05] âŒ    âŒ Failed to push order
[14:09:05] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:09:05] [DOC: 9304177] â„¹ï¸  Calculated age: 83 from DOB: 08/19/1941
[14:09:05] [DOC: 9304177] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[14:09:05] [DOC: 9304177] â„¹ï¸  Payer Source extracted: 'Medicare'
[14:09:05] [DOC: 9304177] â„¹ï¸  Diagnosis codes being written:
[14:09:05] [DOC: 9304177] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[14:09:05] [DOC: 9304177] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[14:09:05] [DOC: 9304177] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[14:09:05] [DOC: 9304177] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:09:05] [DOC: 9304177] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:09:05] [DOC: 9304177] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:09:05] [DOC: 9304177] âœ… Patient data written to CSV: Stanley Waters | Sex: MALE | Age: 83 | Service: Skilled Nursing | Payer: Medicare | MRN: 3745015
[14:09:05] âœ…    âœ… Document 9304177 processed and saved successfully
[14:09:05] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:09:05] [DOC: 9304177] â„¹ï¸  API push details saved for document 9304177
[14:09:05] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9304176                         â•‘
================================================================================
[14:09:05] â„¹ï¸  Agency: Dartmouth HH
[14:09:05] â„¹ï¸  Date: 05/21/2025
[14:09:05] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:09:08] [DOC: 9304176] âœ… Text extracted using pdfplumber (13614 chars)
[14:09:08] âœ…    âœ… Text extracted using pdfplumber (13602 chars)
[14:09:08] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:09:12] â„¹ï¸  AI extracted raw sex value: 'F'
[14:09:12] â„¹ï¸  AI extracted service line: 'PT, OT'
[14:09:12] â„¹ï¸  AI extracted payer source: ''
[14:09:12] â„¹ï¸  AI extracted diagnoses:
[14:09:12] â„¹ï¸    - Diagnosis 1: 'M79.10'
[14:09:12] â„¹ï¸    - Diagnosis 2: 'G89.11'
[14:09:12] â„¹ï¸    - Diagnosis 3: 'R29.6'
[14:09:12] â„¹ï¸    - Diagnosis 4: 'J47.9'
[14:09:12] â„¹ï¸    - Diagnosis 5: 'R91.1'
[14:09:12] â„¹ï¸    - Diagnosis 6: 'M81.0'
[14:09:12] â„¹ï¸  Final extracted MRN: '1259001'
[14:09:12] â„¹ï¸  Final extracted Sex: 'FEMALE'
[14:09:12] â„¹ï¸  Final extracted Service Line: 'PT, OT'
[14:09:12] â„¹ï¸  Final extracted Payer Source: ''
[14:09:12] âœ… Patient data extraction completed successfully
[14:09:12] âœ…    âœ… Patient data extracted successfully
[14:09:12] ğŸ“Š Patient Response
     â””â”€ patientFName: Barbara
     â””â”€ patientLName: Lombardo
     â””â”€ dob: 02/21/1941
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 1259001
     â””â”€ billingProvider: Community Nurse Inc
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: PT, OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '05/12/2025', 'startOfEpisode': '05/12/2025', 'endOfEpisode': '07/10/2025', 'firstDiagnosis': 'M79.10', 'secondDiagnosis': 'G89.11', 'thirdDiagnosis': 'R29.6', 'fourthDiagnosis': 'J47.9', 'fifthDiagnosis': 'R91.1', 'sixthDiagnosis': 'M81.0'}]
[14:09:12] âœ…    âœ… Patient identified: Barbara Lombardo
[14:09:12] âœ…    âœ… Patient name validation passed
[14:09:12] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:09:12] [DOC: 9304176] â„¹ï¸  DOB normalized: 02/21/1941
[14:09:12] [DOC: 9304176] â„¹ï¸  Episode startOfCare normalized: 05/12/2025
[14:09:12] [DOC: 9304176] â„¹ï¸  Episode startOfEpisode normalized: 05/12/2025
[14:09:12] [DOC: 9304176] â„¹ï¸  Episode endOfEpisode normalized: 07/10/2025
[14:09:12] [DOC: 9304176] âœ… Patient date processing completed successfully
[14:09:12] âœ…    âœ… Date processing completed
[14:09:12] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Barbara
     â””â”€ patientLName: Lombardo
     â””â”€ dob: 02/21/1941
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 1259001
     â””â”€ billingProvider: Community Nurse Inc
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: PT, OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '05/12/2025', 'startOfEpisode': '05/12/2025', 'endOfEpisode': '07/10/2025', 'firstDiagnosis': 'M79.10', 'secondDiagnosis': 'G89.11', 'thirdDiagnosis': 'R29.6', 'fourthDiagnosis': 'J47.9', 'fifthDiagnosis': 'R91.1', 'sixthDiagnosis': 'M81.0'}]
[14:09:12] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:09:14] â„¹ï¸  Order extraction - MRN: '1259001'
[14:09:14] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[14:09:14] â„¹ï¸  Order extraction - Service Line: 'PT, OT'
[14:09:14] â„¹ï¸  Order extraction - Payer Source: ''
[14:09:14] âœ… Order data extraction completed successfully
[14:09:14] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:09:14] â„¹ï¸  Using MRN from patient data: '1259001' over '1259001'
[14:09:14] â„¹ï¸  Service line consistent in both sources: 'PT, OT'
[14:09:14] âœ… Patient name cross-validation successful
[14:09:14] âœ…    âœ… Data merged successfully
[14:09:16] âœ…    âœ… Order data extracted and validated
[14:09:16] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:09:16] [DOC: 9304176] âœ… Patient found in local cache: Barbara Lombardo, ID: e8867258-532b-4def-bc9b-3913c67672c2
[14:09:16] âœ…    âœ… Existing patient found with ID: e8867258-532b-4def-bc9b-3913c67672c2
[14:09:16] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:09:16] [DOC: 9304176] â„¹ï¸  Pushing order via API for patient ID: e8867258-532b-4def-bc9b-3913c67672c2
[14:09:17] [DOC: 9304176] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[14:09:17] âŒ    âŒ Failed to push order
[14:09:17] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:09:17] [DOC: 9304176] â„¹ï¸  Calculated age: 84 from DOB: 02/21/1941
[14:09:17] [DOC: 9304176] â„¹ï¸  Service Line extracted: 'PT, OT'
[14:09:17] [DOC: 9304176] â„¹ï¸  Payer Source extracted: ''
[14:09:17] [DOC: 9304176] â„¹ï¸  Diagnosis codes being written:
[14:09:17] [DOC: 9304176] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'M79.10'
[14:09:17] [DOC: 9304176] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'G89.11'
[14:09:17] [DOC: 9304176] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'R29.6'
[14:09:17] [DOC: 9304176] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'J47.9'
[14:09:17] [DOC: 9304176] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'R91.1'
[14:09:17] [DOC: 9304176] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'M81.0'
[14:09:17] [DOC: 9304176] âœ… Patient data written to CSV: Barbara Lombardo | Sex: FEMALE | Age: 84 | Service: PT, OT | Payer:  | MRN: 1259001
[14:09:17] âœ…    âœ… Document 9304176 processed and saved successfully
[14:09:17] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:09:17] [DOC: 9304176] â„¹ï¸  API push details saved for document 9304176
[14:09:17] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9304169                         â•‘
================================================================================
[14:09:17] â„¹ï¸  Agency: Dartmouth HH
[14:09:17] â„¹ï¸  Date: 05/21/2025
[14:09:17] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:09:22] [DOC: 9304169] âœ… Text extracted using pdfplumber (14471 chars)
[14:09:22] âœ…    âœ… Text extracted using pdfplumber (14459 chars)
[14:09:22] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:09:25] â„¹ï¸  AI extracted raw sex value: 'M'
[14:09:25] â„¹ï¸  AI extracted service line: 'Skilled Nursing, Physical Therapy, Speech Therapy'
[14:09:25] â„¹ï¸  AI extracted payer source: 'None'
[14:09:25] â„¹ï¸  AI extracted diagnoses:
[14:09:25] â„¹ï¸    - Diagnosis 1: 'L89.150'
[14:09:25] â„¹ï¸    - Diagnosis 2: 'J44.9'
[14:09:25] â„¹ï¸    - Diagnosis 3: 'L98.9'
[14:09:25] â„¹ï¸    - Diagnosis 4: 'D64.9'
[14:09:25] â„¹ï¸    - Diagnosis 5: 'R49.0'
[14:09:25] â„¹ï¸    - Diagnosis 6: 'G90.09'
[14:09:25] â„¹ï¸  Final extracted MRN: '3745015'
[14:09:25] â„¹ï¸  Final extracted Sex: 'MALE'
[14:09:25] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing, Physical Therapy, Speech Therapy'
[14:09:25] â„¹ï¸  Final extracted Payer Source: ''
[14:09:25] âœ… Patient data extraction completed successfully
[14:09:25] âœ…    âœ… Patient data extracted successfully
[14:09:25] ğŸ“Š Patient Response
     â””â”€ patientFName: Stanley
     â””â”€ patientLName: Waters
     â””â”€ dob: 08/19/1941
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 3745015
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Speech Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/10/2025', 'startOfEpisode': '03/13/2025', 'endOfEpisode': '07/10/2025', 'firstDiagnosis': 'L89.150', 'secondDiagnosis': 'J44.9', 'thirdDiagnosis': 'L98.9', 'fourthDiagnosis': 'D64.9', 'fifthDiagnosis': 'R49.0', 'sixthDiagnosis': 'G90.09'}]
[14:09:25] âœ…    âœ… Patient identified: Stanley Waters
[14:09:25] âœ…    âœ… Patient name validation passed
[14:09:25] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:09:25] [DOC: 9304169] â„¹ï¸  DOB normalized: 08/19/1941
[14:09:25] [DOC: 9304169] â„¹ï¸  Episode startOfCare normalized: 03/10/2025
[14:09:25] [DOC: 9304169] â„¹ï¸  Episode startOfEpisode normalized: 03/13/2025
[14:09:25] [DOC: 9304169] â„¹ï¸  Episode endOfEpisode normalized: 07/10/2025
[14:09:25] [DOC: 9304169] âœ… Patient date processing completed successfully
[14:09:25] âœ…    âœ… Date processing completed
[14:09:25] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Stanley
     â””â”€ patientLName: Waters
     â””â”€ dob: 08/19/1941
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 3745015
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Speech Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/10/2025', 'startOfEpisode': '03/13/2025', 'endOfEpisode': '07/10/2025', 'firstDiagnosis': 'L89.150', 'secondDiagnosis': 'J44.9', 'thirdDiagnosis': 'L98.9', 'fourthDiagnosis': 'D64.9', 'fifthDiagnosis': 'R49.0', 'sixthDiagnosis': 'G90.09'}]
[14:09:25] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:09:28] â„¹ï¸  Order extraction - MRN: '3745015'
[14:09:28] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:09:28] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing,Speech Therapy'
[14:09:28] â„¹ï¸  Order extraction - Payer Source: ''
[14:09:28] âœ… Order data extraction completed successfully
[14:09:28] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:09:28] â„¹ï¸  Using MRN from patient data: '3745015' over '3745015'
[14:09:28] â„¹ï¸  Combined service lines: Patient='Skilled Nursing, Physical Therapy, Speech Therapy' + Order='Skilled Nursing,Speech Therapy' = 'Physical Therapy, Skilled Nursing, Speech Therapy'
[14:09:28] âœ… Patient name cross-validation successful
[14:09:28] âœ…    âœ… Data merged successfully
[14:09:29] âœ…    âœ… Order data extracted and validated
[14:09:29] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:09:29] [DOC: 9304169] âœ… Patient found in local cache: Stanley Waters, ID: 5c967926-b804-40d7-9cac-2e10ae61f7db
[14:09:29] âœ…    âœ… Existing patient found with ID: 5c967926-b804-40d7-9cac-2e10ae61f7db
[14:09:29] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:09:29] [DOC: 9304169] â„¹ï¸  Pushing order via API for patient ID: 5c967926-b804-40d7-9cac-2e10ae61f7db
[14:09:30] [DOC: 9304169] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[14:09:30] âŒ    âŒ Failed to push order
[14:09:30] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:09:30] [DOC: 9304169] â„¹ï¸  Calculated age: 83 from DOB: 08/19/1941
[14:09:30] [DOC: 9304169] â„¹ï¸  Service Line extracted: 'Physical Therapy, Skilled Nursing, Speech Therapy'
[14:09:30] [DOC: 9304169] â„¹ï¸  Payer Source extracted: ''
[14:09:30] [DOC: 9304169] â„¹ï¸  Diagnosis codes being written:
[14:09:30] [DOC: 9304169] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'L89.150'
[14:09:30] [DOC: 9304169] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'J44.9'
[14:09:30] [DOC: 9304169] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'L98.9'
[14:09:30] [DOC: 9304169] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'D64.9'
[14:09:30] [DOC: 9304169] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'R49.0'
[14:09:30] [DOC: 9304169] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'G90.09'
[14:09:30] [DOC: 9304169] âœ… Patient data written to CSV: Stanley Waters | Sex: MALE | Age: 83 | Service: Physical Therapy, Skilled Nursing, Speech Therapy | Payer:  | MRN: 3745015
[14:09:30] âœ…    âœ… Document 9304169 processed and saved successfully
[14:09:30] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:09:30] [DOC: 9304169] â„¹ï¸  API push details saved for document 9304169
[14:09:30] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9304160                         â•‘
================================================================================
[14:09:30] â„¹ï¸  Agency: Relief Home Health Services
[14:09:30] â„¹ï¸  Date: 05/21/2025
[14:09:30] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:09:34] [DOC: 9304160] âœ… Text extracted using pdfplumber (2227 chars)
[14:09:34] âœ…    âœ… Text extracted using pdfplumber (2227 chars)
[14:09:34] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:09:37] â„¹ï¸  AI extracted raw sex value: ''
[14:09:37] â„¹ï¸  AI extracted service line: 'SNV'
[14:09:37] â„¹ï¸  AI extracted payer source: ''
[14:09:37] â„¹ï¸  AI extracted diagnoses:
[14:09:37] â„¹ï¸    - Diagnosis 1: 'None'
[14:09:37] â„¹ï¸    - Diagnosis 2: 'None'
[14:09:37] â„¹ï¸    - Diagnosis 3: 'None'
[14:09:37] â„¹ï¸    - Diagnosis 4: 'None'
[14:09:37] â„¹ï¸    - Diagnosis 5: 'None'
[14:09:37] â„¹ï¸    - Diagnosis 6: 'None'
[14:09:37] â„¹ï¸  Final extracted MRN: ''
[14:09:37] â„¹ï¸  Final extracted Sex: ''
[14:09:37] â„¹ï¸  Final extracted Service Line: 'SNV'
[14:09:37] â„¹ï¸  Final extracted Payer Source: ''
[14:09:37] âœ… Patient data extraction completed successfully
[14:09:37] âœ…    âœ… Patient data extracted successfully
[14:09:37] ğŸ“Š Patient Response
     â””â”€ patientFName: SUSAN
     â””â”€ patientLName: RAMOS
     â””â”€ dob: 11/03/1957
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: 
     â””â”€ billingProvider: KARINE MAALOUF KALESHIAN, MD
     â””â”€ npi: 1871748210
     â””â”€ physicianNPI: 1114903663
     â””â”€ nameOfAgency: Relief Home Health Services, Inc
     â””â”€ address: 531 Faunce Corner Rd
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02740
     â””â”€ email: inquiries@reliefhhs.com
     â””â”€ phoneNumber: (508) 827-7954
     â””â”€ serviceLine: SNV
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '09/20/2022', 'startOfEpisode': None, 'endOfEpisode': None, 'firstDiagnosis': None, 'secondDiagnosis': None, 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[14:09:37] âœ…    âœ… Patient identified: SUSAN RAMOS
[14:09:37] âœ…    âœ… Patient name validation passed
[14:09:37] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:09:37] [DOC: 9304160] â„¹ï¸  DOB normalized: 11/03/1957
[14:09:37] [DOC: 9304160] â„¹ï¸  Episode startOfCare normalized: 09/20/2022
[14:09:37] [DOC: 9304160] âœ… Patient date processing completed successfully
[14:09:37] âœ…    âœ… Date processing completed
[14:09:37] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: SUSAN
     â””â”€ patientLName: RAMOS
     â””â”€ dob: 11/03/1957
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: 
     â””â”€ billingProvider: KARINE MAALOUF KALESHIAN, MD
     â””â”€ npi: 1871748210
     â””â”€ physicianNPI: 1114903663
     â””â”€ nameOfAgency: Relief Home Health Services, Inc
     â””â”€ address: 531 Faunce Corner Rd
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02740
     â””â”€ email: inquiries@reliefhhs.com
     â””â”€ phoneNumber: (508) 827-7954
     â””â”€ serviceLine: SNV
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '09/20/2022'}]
[14:09:37] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:09:39] â„¹ï¸  Order extraction - MRN: ''
[14:09:39] â„¹ï¸  Order extraction - Sex: ''
[14:09:39] â„¹ï¸  Order extraction - Service Line: 'SNV'
[14:09:39] â„¹ï¸  Order extraction - Payer Source: ''
[14:09:39] âœ… Order data extraction completed successfully
[14:09:39] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:09:39] âš ï¸  No MRN found in either patient or order data
[14:09:39] â„¹ï¸  Inferred sex as FEMALE from name: SUSAN
[14:09:39] â„¹ï¸  Service line consistent in both sources: 'SNV'
[14:09:39] âœ… Patient name cross-validation successful
[14:09:39] âœ…    âœ… Data merged successfully
[14:09:40] âœ…    âœ… Order data extracted and validated
[14:09:40] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:09:48] [DOC: 9304160] â„¹ï¸  Patient not found in cache or API: SUSAN RAMOS
[14:09:48] [DOC: 9304160] â„¹ï¸  Patient not found, creating new patient via API...
[14:09:48] [DOC: 9304160] â„¹ï¸  Creating patient via API: SUSAN RAMOS
[14:09:49] [DOC: 9304160] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[14:09:49] âŒ    âŒ Failed to create patient
[14:09:49] [DOC: 9304160] â„¹ï¸  API push details saved for document 9304160
================================================================================
â•‘                        Processing Document ID: 9304088                         â•‘
================================================================================
[14:09:49] â„¹ï¸  Agency: Visiting Rehab & Nursing Services
[14:09:49] â„¹ï¸  Date: 05/21/2025
[14:09:49] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:09:52] [DOC: 9304088] âœ… Text extracted using pdfplumber (1368 chars)
[14:09:52] âœ…    âœ… Text extracted using pdfplumber (1356 chars)
[14:09:52] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:09:55] â„¹ï¸  AI extracted raw sex value: ''
[14:09:55] â„¹ï¸  AI extracted service line: 'Home health services'
[14:09:55] â„¹ï¸  AI extracted payer source: ''
[14:09:55] â„¹ï¸  AI extracted diagnoses:
[14:09:55] â„¹ï¸    - Diagnosis 1: 'M51.16'
[14:09:55] â„¹ï¸    - Diagnosis 2: 'G89.4'
[14:09:55] â„¹ï¸    - Diagnosis 3: 'M51.14'
[14:09:55] â„¹ï¸    - Diagnosis 4: 'None'
[14:09:55] â„¹ï¸    - Diagnosis 5: 'None'
[14:09:55] â„¹ï¸    - Diagnosis 6: 'None'
[14:09:55] â„¹ï¸  Final extracted MRN: 'brSWH003'
[14:09:55] â„¹ï¸  Final extracted Sex: ''
[14:09:55] â„¹ï¸  Final extracted Service Line: 'Home health services'
[14:09:55] â„¹ï¸  Final extracted Payer Source: ''
[14:09:55] âœ… Patient data extraction completed successfully
[14:09:55] âœ…    âœ… Patient data extracted successfully
[14:09:55] ğŸ“Š Patient Response
     â””â”€ patientFName: Elizabeth
     â””â”€ patientLName: St. Jacques
     â””â”€ dob: 07/18/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: brSWH003
     â””â”€ billingProvider: June Rodrigues NP
     â””â”€ npi: 1821065913
     â””â”€ physicianNPI: 1821065913
     â””â”€ nameOfAgency: 
     â””â”€ address: 125 High Street STE 204
     â””â”€ city: Mansfield
     â””â”€ state: MA
     â””â”€ zip: 02048
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 994-2106
     â””â”€ serviceLine: Home health services
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '02/22/2025', 'endOfEpisode': '04/22/2025', 'firstDiagnosis': 'M51.16', 'secondDiagnosis': 'G89.4', 'thirdDiagnosis': 'M51.14', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[14:09:55] âœ…    âœ… Patient identified: Elizabeth St. Jacques
[14:09:55] âœ…    âœ… Patient name validation passed
[14:09:55] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:09:55] [DOC: 9304088] â„¹ï¸  DOB normalized: 07/18/1941
[14:09:55] [DOC: 9304088] â„¹ï¸  Episode startOfEpisode normalized: 02/22/2025
[14:09:55] [DOC: 9304088] â„¹ï¸  Episode endOfEpisode normalized: 04/22/2025
[14:09:55] [DOC: 9304088] âœ… Patient date processing completed successfully
[14:09:55] âœ…    âœ… Date processing completed
[14:09:55] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Elizabeth
     â””â”€ patientLName: St. Jacques
     â””â”€ dob: 07/18/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: brSWH003
     â””â”€ billingProvider: June Rodrigues NP
     â””â”€ npi: 1821065913
     â””â”€ physicianNPI: 1821065913
     â””â”€ nameOfAgency: 
     â””â”€ address: 125 High Street STE 204
     â””â”€ city: Mansfield
     â””â”€ state: MA
     â””â”€ zip: 02048
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 994-2106
     â””â”€ serviceLine: Home health services
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '02/22/2025', 'endOfEpisode': '04/22/2025', 'firstDiagnosis': 'M51.16', 'secondDiagnosis': 'G89.4', 'thirdDiagnosis': 'M51.14'}]
[14:09:55] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:09:57] â„¹ï¸  Order extraction - MRN: 'brSWH003'
[14:09:57] â„¹ï¸  Order extraction - Sex: ''
[14:09:57] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[14:09:57] â„¹ï¸  Order extraction - Payer Source: ''
[14:09:57] âœ… Order data extraction completed successfully
[14:09:57] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:09:57] â„¹ï¸  Using MRN from patient data: 'brSWH003' over 'brSWH003'
[14:09:57] â„¹ï¸  Inferred sex as FEMALE from name: Elizabeth
[14:09:57] â„¹ï¸  Combined service lines: Patient='Home health services' + Order='Skilled Nursing' = 'Home health services, Skilled Nursing'
[14:09:57] âœ… Patient name cross-validation successful
[14:09:57] âœ…    âœ… Data merged successfully
[14:09:58] âœ…    âœ… Order data extracted and validated
[14:09:58] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:10:09] [DOC: 9304088] â„¹ï¸  Patient not found in cache or API: Elizabeth St. Jacques
[14:10:09] [DOC: 9304088] â„¹ï¸  Patient not found, creating new patient via API...
[14:10:09] [DOC: 9304088] â„¹ï¸  Creating patient via API: Elizabeth St. Jacques
[14:10:10] [DOC: 9304088] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[14:10:10] âŒ    âŒ Failed to create patient
[14:10:10] [DOC: 9304088] â„¹ï¸  API push details saved for document 9304088
================================================================================
â•‘                        Processing Document ID: 9304087                         â•‘
================================================================================
[14:10:10] â„¹ï¸  Agency: Visiting Rehab & Nursing Services
[14:10:10] â„¹ï¸  Date: 05/21/2025
[14:10:10] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:10:14] [DOC: 9304087] âœ… Text extracted using pdfplumber (1024 chars)
[14:10:14] âœ…    âœ… Text extracted using pdfplumber (1012 chars)
[14:10:14] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:10:16] â„¹ï¸  AI extracted raw sex value: ''
[14:10:16] â„¹ï¸  AI extracted service line: 'Rehab'
[14:10:16] â„¹ï¸  AI extracted payer source: ''
[14:10:16] â„¹ï¸  AI extracted diagnoses:
[14:10:16] â„¹ï¸    - Diagnosis 1: 'M51.16'
[14:10:16] â„¹ï¸    - Diagnosis 2: 'G89.4'
[14:10:16] â„¹ï¸    - Diagnosis 3: 'M51.14'
[14:10:16] â„¹ï¸    - Diagnosis 4: ''
[14:10:16] â„¹ï¸    - Diagnosis 5: ''
[14:10:16] â„¹ï¸    - Diagnosis 6: ''
[14:10:16] â„¹ï¸  Final extracted MRN: 'brSWH003'
[14:10:16] â„¹ï¸  Final extracted Sex: ''
[14:10:16] â„¹ï¸  Final extracted Service Line: 'Rehab'
[14:10:16] â„¹ï¸  Final extracted Payer Source: ''
[14:10:16] âœ… Patient data extraction completed successfully
[14:10:16] âœ…    âœ… Patient data extracted successfully
[14:10:16] ğŸ“Š Patient Response
     â””â”€ patientFName: Elizabeth
     â””â”€ patientLName: St. Jacques
     â””â”€ dob: 07/18/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: brSWH003
     â””â”€ billingProvider: June Rodrigues NP
     â””â”€ npi: 1821065913
     â””â”€ physicianNPI: 1821065913
     â””â”€ nameOfAgency: Visiting Rehab and Nursing
     â””â”€ address: 125 High Street STE 204
     â””â”€ city: Mansfield
     â””â”€ state: MA
     â””â”€ zip: 02048
     â””â”€ email: 
     â””â”€ phoneNumber: (877) 242-8771
     â””â”€ serviceLine: Rehab
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '04/23/2025', 'endOfEpisode': '06/21/2025', 'firstDiagnosis': 'M51.16', 'secondDiagnosis': 'G89.4', 'thirdDiagnosis': 'M51.14', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:10:16] âœ…    âœ… Patient identified: Elizabeth St. Jacques
[14:10:16] âœ…    âœ… Patient name validation passed
[14:10:16] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:10:16] [DOC: 9304087] â„¹ï¸  DOB normalized: 07/18/1941
[14:10:16] [DOC: 9304087] â„¹ï¸  Episode startOfEpisode normalized: 04/23/2025
[14:10:16] [DOC: 9304087] â„¹ï¸  Episode endOfEpisode normalized: 06/21/2025
[14:10:16] [DOC: 9304087] âœ… Patient date processing completed successfully
[14:10:16] âœ…    âœ… Date processing completed
[14:10:16] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Elizabeth
     â””â”€ patientLName: St. Jacques
     â””â”€ dob: 07/18/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: brSWH003
     â””â”€ billingProvider: June Rodrigues NP
     â””â”€ npi: 1821065913
     â””â”€ physicianNPI: 1821065913
     â””â”€ nameOfAgency: Visiting Rehab and Nursing
     â””â”€ address: 125 High Street STE 204
     â””â”€ city: Mansfield
     â””â”€ state: MA
     â””â”€ zip: 02048
     â””â”€ email: 
     â””â”€ phoneNumber: (877) 242-8771
     â””â”€ serviceLine: Rehab
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/23/2025', 'endOfEpisode': '06/21/2025', 'firstDiagnosis': 'M51.16', 'secondDiagnosis': 'G89.4', 'thirdDiagnosis': 'M51.14', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:10:16] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:10:19] â„¹ï¸  Order extraction - MRN: 'brSWH003'
[14:10:19] â„¹ï¸  Order extraction - Sex: ''
[14:10:19] â„¹ï¸  Order extraction - Service Line: 'Rehab and Nursing'
[14:10:19] â„¹ï¸  Order extraction - Payer Source: ''
[14:10:19] âœ… Order data extraction completed successfully
[14:10:19] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:10:19] â„¹ï¸  Using MRN from patient data: 'brSWH003' over 'brSWH003'
[14:10:19] â„¹ï¸  Inferred sex as FEMALE from name: Elizabeth
[14:10:19] â„¹ï¸  Combined service lines: Patient='Rehab' + Order='Rehab and Nursing' = 'Rehab, Rehab and Nursing'
[14:10:19] âœ… Patient name cross-validation successful
[14:10:19] âœ…    âœ… Data merged successfully
[14:10:20] âœ…    âœ… Order data extracted and validated
[14:10:20] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:11:00] [DOC: 9304087] â„¹ï¸  Patient not found in cache or API: Elizabeth St. Jacques
[14:11:00] [DOC: 9304087] â„¹ï¸  Patient not found, creating new patient via API...
[14:11:00] [DOC: 9304087] â„¹ï¸  Creating patient via API: Elizabeth St. Jacques
[14:11:02] [DOC: 9304087] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[14:11:02] âŒ    âŒ Failed to create patient
[14:11:02] [DOC: 9304087] â„¹ï¸  API push details saved for document 9304087
================================================================================
â•‘                        Processing Document ID: 2178125                         â•‘
================================================================================
[14:11:02] â„¹ï¸  Agency: Visiting Rehab & Nursing Services
[14:11:02] â„¹ï¸  Date: 05/20/2025
[14:11:02] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:11:03] [DOC: 2178125] âŒ Critical failure in get_pdf_text: Invalid response format
[14:11:03] âŒ Failed to extract text for Doc ID 2178125
[14:11:03] [DOC: 2178125] â„¹ï¸  API push details saved for document 2178125
================================================================================
â•‘                        Processing Document ID: 9303106                         â•‘
================================================================================
[14:11:03] â„¹ï¸  Agency: Southcoast VNA â€“ Community Office (Fairhaven)
[14:11:03] â„¹ï¸  Date: 05/20/2025
[14:11:03] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:11:09] [DOC: 9303106] âœ… Text extracted using pdfplumber (33391 chars)
[14:11:09] âœ…    âœ… Text extracted using pdfplumber (33381 chars)
[14:11:09] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:11:12] â„¹ï¸  AI extracted raw sex value: 'F'
[14:11:12] â„¹ï¸  AI extracted service line: 'Skilled Nursing,Physical Therapy,Occupational Therapy,Speech Language Pathology'
[14:11:12] â„¹ï¸  AI extracted payer source: ''
[14:11:12] â„¹ï¸  AI extracted diagnoses:
[14:11:12] â„¹ï¸    - Diagnosis 1: 'I69.354'
[14:11:12] â„¹ï¸    - Diagnosis 2: 'I69.322'
[14:11:12] â„¹ï¸    - Diagnosis 3: 'M24.542'
[14:11:12] â„¹ï¸    - Diagnosis 4: 'E11.42'
[14:11:12] â„¹ï¸    - Diagnosis 5: 'I10'
[14:11:12] â„¹ï¸    - Diagnosis 6: 'F32.A'
[14:11:12] â„¹ï¸  Final extracted MRN: '2476336'
[14:11:12] â„¹ï¸  Final extracted Sex: 'FEMALE'
[14:11:12] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing,Physical Therapy,Occupational Therapy,Speech Language Pathology'
[14:11:12] â„¹ï¸  Final extracted Payer Source: ''
[14:11:12] âœ… Patient data extraction completed successfully
[14:11:12] âœ…    âœ… Patient data extracted successfully
[14:11:12] ğŸ“Š Patient Response
     â””â”€ patientFName: Kathleen
     â””â”€ patientLName: Fletcher
     â””â”€ dob: 03/28/1945
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2476336
     â””â”€ billingProvider: Earl Potts Jr., MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: 508-973-3200
     â””â”€ serviceLine: Skilled Nursing,Physical Therapy,Occupational Therapy,Speech Language Pathology
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '05/02/2025', 'startOfEpisode': '05/03/2025', 'endOfEpisode': '07/01/2025', 'firstDiagnosis': 'I69.354', 'secondDiagnosis': 'I69.322', 'thirdDiagnosis': 'M24.542', 'fourthDiagnosis': 'E11.42', 'fifthDiagnosis': 'I10', 'sixthDiagnosis': 'F32.A'}]
[14:11:12] âœ…    âœ… Patient identified: Kathleen Fletcher
[14:11:12] âœ…    âœ… Patient name validation passed
[14:11:12] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:11:12] [DOC: 9303106] â„¹ï¸  DOB normalized: 03/28/1945
[14:11:12] [DOC: 9303106] â„¹ï¸  Episode startOfCare normalized: 05/02/2025
[14:11:12] [DOC: 9303106] â„¹ï¸  Episode startOfEpisode normalized: 05/03/2025
[14:11:12] [DOC: 9303106] â„¹ï¸  Episode endOfEpisode normalized: 07/01/2025
[14:11:12] [DOC: 9303106] âœ… Patient date processing completed successfully
[14:11:12] âœ…    âœ… Date processing completed
[14:11:12] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Kathleen
     â””â”€ patientLName: Fletcher
     â””â”€ dob: 03/28/1945
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2476336
     â””â”€ billingProvider: Earl Potts Jr., MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: 508-973-3200
     â””â”€ serviceLine: Skilled Nursing,Physical Therapy,Occupational Therapy,Speech Language Pathology
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '05/02/2025', 'startOfEpisode': '05/03/2025', 'endOfEpisode': '07/01/2025', 'firstDiagnosis': 'I69.354', 'secondDiagnosis': 'I69.322', 'thirdDiagnosis': 'M24.542', 'fourthDiagnosis': 'E11.42', 'fifthDiagnosis': 'I10', 'sixthDiagnosis': 'F32.A'}]
[14:11:12] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:11:15] â„¹ï¸  Order extraction - MRN: '2476336'
[14:11:15] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[14:11:15] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing,Physical Therapy,Occupational Therapy,Speech Language Pathology'
[14:11:15] â„¹ï¸  Order extraction - Payer Source: ''
[14:11:15] âœ… Order data extraction completed successfully
[14:11:15] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:11:15] â„¹ï¸  Using MRN from patient data: '2476336' over '2476336'
[14:11:15] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing,Physical Therapy,Occupational Therapy,Speech Language Pathology'
[14:11:15] âœ… Patient name cross-validation successful
[14:11:15] âœ…    âœ… Data merged successfully
[14:11:17] âœ…    âœ… Order data extracted and validated
[14:11:17] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:11:17] [DOC: 9303106] âœ… Patient found in local cache: Kathleen Fletcher, ID: 8d503e74-0fe5-45d3-8f98-cb96855a3cd5
[14:11:17] âœ…    âœ… Existing patient found with ID: 8d503e74-0fe5-45d3-8f98-cb96855a3cd5
[14:11:17] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:11:17] [DOC: 9303106] â„¹ï¸  Pushing order via API for patient ID: 8d503e74-0fe5-45d3-8f98-cb96855a3cd5
[14:11:19] [DOC: 9303106] âŒ Order push failed with status 201: {"id":"2cb8f2bf-3e81-4977-b059-bbd05a7335c7","orderWAVId":"ORD19947","orderNo":"1093210","orderDate":"05/19/2025","startOfCare":"05/02/2025","episodeStartDate":"05/03/2025","episodeEndDate":"07/01/2025","documentID":"9303106","mrn":"2476336","patientName":"Fletcher,Kathleen","sentToPhysicianDate":"05/20/2025","sentToPhysicianStatus":true,"signedByPhysicianDate":null,"signedByPhysicianStatus":false,"uploadedSignedOrderDate":null,"uploadedSignedOrderStatus":false,"uploadedSignedPgOrderDate":null,"uploadedSignedPgOrderStatus":false,"cpoMinutes":null,"orderUrl":null,"documentName":"Plan of Care","ehr":null,"account":null,"location":null,"remarks":null,"patientId":"8d503e74-0fe5-45d3-8f98-cb96855a3cd5","companyId":"370583e3-01c8-477e-8b6d-d3537a10c767","pgCompanyId":"4b51c8b7-c8c4-4779-808c-038c057f026b","entityType":null,"clinicalJustification":null,"billingProvider":null,"billingProviderNPI":null,"supervisingProvider":null,"supervisingProviderNPI":null,"bit64Url":null,"daOrderType":null,"daUploadSuccess":null,"daResponseStatusCode":null,"daResponseDetails":null}
[14:11:19] âŒ    âŒ Failed to push order
[14:11:19] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:11:19] [DOC: 9303106] â„¹ï¸  Calculated age: 80 from DOB: 03/28/1945
[14:11:19] [DOC: 9303106] â„¹ï¸  Service Line extracted: 'Skilled Nursing,Physical Therapy,Occupational Therapy,Speech Language Pathology'
[14:11:19] [DOC: 9303106] â„¹ï¸  Payer Source extracted: ''
[14:11:19] [DOC: 9303106] â„¹ï¸  Diagnosis codes being written:
[14:11:19] [DOC: 9303106] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'I69.354'
[14:11:19] [DOC: 9303106] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'I69.322'
[14:11:19] [DOC: 9303106] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'M24.542'
[14:11:19] [DOC: 9303106] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'E11.42'
[14:11:19] [DOC: 9303106] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'I10'
[14:11:19] [DOC: 9303106] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'F32.A'
[14:11:19] [DOC: 9303106] âœ… Patient data written to CSV: Kathleen Fletcher | Sex: FEMALE | Age: 80 | Service: Skilled Nursing,Physical Therapy,Occupational Therapy,Speech Language Pathology | Payer:  | MRN: 2476336
[14:11:19] âœ…    âœ… Document 9303106 processed and saved successfully
[14:11:19] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:11:19] [DOC: 9303106] â„¹ï¸  API push details saved for document 9303106
[14:11:19] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9302028                         â•‘
================================================================================
[14:11:19] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:11:19] â„¹ï¸  Date: 05/20/2025
[14:11:19] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:11:23] [DOC: 9302028] âœ… Text extracted using pdfplumber (15216 chars)
[14:11:23] âœ…    âœ… Text extracted using pdfplumber (15216 chars)
[14:11:23] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:11:26] â„¹ï¸  AI extracted raw sex value: 'F'
[14:11:26] â„¹ï¸  AI extracted service line: 'Physical Therapy, Occupational Therapy'
[14:11:26] â„¹ï¸  AI extracted payer source: 'Medicare'
[14:11:26] â„¹ï¸  AI extracted diagnoses:
[14:11:26] â„¹ï¸    - Diagnosis 1: 'N39.0'
[14:11:26] â„¹ï¸    - Diagnosis 2: 'G93.41'
[14:11:26] â„¹ï¸    - Diagnosis 3: 'R44.3'
[14:11:26] â„¹ï¸    - Diagnosis 4: 'R33.8'
[14:11:26] â„¹ï¸    - Diagnosis 5: 'R41.89'
[14:11:26] â„¹ï¸    - Diagnosis 6: 'N40.1'
[14:11:26] â„¹ï¸  Final extracted MRN: 'MA220425084103'
[14:11:26] â„¹ï¸  Final extracted Sex: 'FEMALE'
[14:11:26] â„¹ï¸  Final extracted Service Line: 'Physical Therapy, Occupational Therapy'
[14:11:26] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[14:11:26] âœ… Patient data extraction completed successfully
[14:11:26] âœ…    âœ… Patient data extracted successfully
[14:11:26] ğŸ“Š Patient Response
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: Dr. Alcaraz, Achilles
     â””â”€ npi: 1881923936
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST.
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780-3561
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '11/07/2024', 'startOfEpisode': '05/06/2025', 'endOfEpisode': '07/04/2025', 'firstDiagnosis': 'N39.0', 'secondDiagnosis': 'G93.41', 'thirdDiagnosis': 'R44.3', 'fourthDiagnosis': 'R33.8', 'fifthDiagnosis': 'R41.89', 'sixthDiagnosis': 'N40.1'}]
[14:11:26] âœ…    âœ… Patient identified: Carlos Camara
[14:11:26] âœ…    âœ… Patient name validation passed
[14:11:26] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:11:26] [DOC: 9302028] â„¹ï¸  DOB normalized: 08/08/1941
[14:11:26] [DOC: 9302028] â„¹ï¸  Episode startOfCare normalized: 11/07/2024
[14:11:26] [DOC: 9302028] â„¹ï¸  Episode startOfEpisode normalized: 05/06/2025
[14:11:26] [DOC: 9302028] â„¹ï¸  Episode endOfEpisode normalized: 07/04/2025
[14:11:26] [DOC: 9302028] âœ… Patient date processing completed successfully
[14:11:26] âœ…    âœ… Date processing completed
[14:11:26] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: Dr. Alcaraz, Achilles
     â””â”€ npi: 1881923936
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST.
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780-3561
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '11/07/2024', 'startOfEpisode': '05/06/2025', 'endOfEpisode': '07/04/2025', 'firstDiagnosis': 'N39.0', 'secondDiagnosis': 'G93.41', 'thirdDiagnosis': 'R44.3', 'fourthDiagnosis': 'R33.8', 'fifthDiagnosis': 'R41.89', 'sixthDiagnosis': 'N40.1'}]
[14:11:26] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:11:29] â„¹ï¸  Order extraction - MRN: 'MA220425084103'
[14:11:29] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[14:11:29] â„¹ï¸  Order extraction - Service Line: 'PT, OT'
[14:11:29] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[14:11:29] âœ… Order data extraction completed successfully
[14:11:29] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:11:29] â„¹ï¸  Using MRN from patient data: 'MA220425084103' over 'MA220425084103'
[14:11:29] â„¹ï¸  Combined service lines: Patient='Physical Therapy, Occupational Therapy' + Order='PT, OT' = 'OT, Occupational Therapy, PT, Physical Therapy'
[14:11:29] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[14:11:29] âœ… Patient name cross-validation successful
[14:11:29] âœ…    âœ… Data merged successfully
[14:11:31] âœ…    âœ… Order data extracted and validated
[14:11:31] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:11:38] [DOC: 9302028] âœ… Patient exists in API: Carlos Camara, ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:11:38] âœ…    âœ… Existing patient found with ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:11:38] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:11:38] [DOC: 9302028] â„¹ï¸  Pushing order via API for patient ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:11:40] [DOC: 9302028] âŒ Order push failed with status 201: {"id":"5c9bfa75-d6b2-4863-a7fe-d24fdfb4b18b","orderWAVId":"ORD19948","orderNo":"1281200747","orderDate":"06/04/2025","startOfCare":"11/07/2024","episodeStartDate":"05/06/2025","episodeEndDate":"07/04/2025","documentID":"9302028","mrn":"MA220425084103","patientName":"Camara, Carlos","sentToPhysicianDate":"05/20/2025","sentToPhysicianStatus":true,"signedByPhysicianDate":"06/04/2025","signedByPhysicianStatus":true,"uploadedSignedOrderDate":null,"uploadedSignedOrderStatus":false,"uploadedSignedPgOrderDate":null,"uploadedSignedPgOrderStatus":false,"cpoMinutes":null,"orderUrl":null,"documentName":"Home Health Certification and Plan of Care","ehr":null,"account":null,"location":null,"remarks":null,"patientId":"16e2744a-5e38-4445-8968-fe8ad953d698","companyId":"b2d6c486-d448-45bc-91ac-8e3e898a1620","pgCompanyId":"4b51c8b7-c8c4-4779-808c-038c057f026b","entityType":null,"clinicalJustification":null,"billingProvider":null,"billingProviderNPI":null,"supervisingProvider":null,"supervisingProviderNPI":null,"bit64Url":null,"daOrderType":null,"daUploadSuccess":null,"daResponseStatusCode":null,"daResponseDetails":null}
[14:11:40] âŒ    âŒ Failed to push order
[14:11:40] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:11:40] [DOC: 9302028] â„¹ï¸  Calculated age: 83 from DOB: 08/08/1941
[14:11:40] [DOC: 9302028] â„¹ï¸  Service Line extracted: 'OT, Occupational Therapy, PT, Physical Therapy'
[14:11:40] [DOC: 9302028] â„¹ï¸  Payer Source extracted: 'Medicare'
[14:11:40] [DOC: 9302028] â„¹ï¸  Diagnosis codes being written:
[14:11:40] [DOC: 9302028] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'N39.0'
[14:11:40] [DOC: 9302028] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'G93.41'
[14:11:40] [DOC: 9302028] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'R44.3'
[14:11:40] [DOC: 9302028] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'R33.8'
[14:11:40] [DOC: 9302028] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'R41.89'
[14:11:40] [DOC: 9302028] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'N40.1'
[14:11:40] [DOC: 9302028] âœ… Patient data written to CSV: Carlos Camara | Sex: FEMALE | Age: 83 | Service: OT, Occupational Therapy, PT, Physical Therapy | Payer: Medicare | MRN: MA220425084103
[14:11:40] âœ…    âœ… Document 9302028 processed and saved successfully
[14:11:40] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:11:40] [DOC: 9302028] â„¹ï¸  API push details saved for document 9302028
[14:11:40] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9301992                         â•‘
================================================================================
[14:11:40] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:11:40] â„¹ï¸  Date: 05/20/2025
[14:11:40] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:11:45] [DOC: 9301992] âœ… Text extracted using pdfplumber (16289 chars)
[14:11:45] âœ…    âœ… Text extracted using pdfplumber (16277 chars)
[14:11:45] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:11:48] â„¹ï¸  AI extracted raw sex value: 'F'
[14:11:48] â„¹ï¸  AI extracted service line: 'Physical Therapy, Occupational Therapy'
[14:11:48] â„¹ï¸  AI extracted payer source: 'Medicare'
[14:11:48] â„¹ï¸  AI extracted diagnoses:
[14:11:48] â„¹ï¸    - Diagnosis 1: 'S42.201'
[14:11:48] â„¹ï¸    - Diagnosis 2: 'M19.011'
[14:11:48] â„¹ï¸    - Diagnosis 3: 'E03.9'
[14:11:48] â„¹ï¸    - Diagnosis 4: 'E78.5'
[14:11:48] â„¹ï¸    - Diagnosis 5: 'J84.10'
[14:11:48] â„¹ï¸    - Diagnosis 6: 'I10'
[14:11:48] â„¹ï¸  Final extracted MRN: 'MA250311063603'
[14:11:48] â„¹ï¸  Final extracted Sex: 'FEMALE'
[14:11:48] â„¹ï¸  Final extracted Service Line: 'Physical Therapy, Occupational Therapy'
[14:11:48] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[14:11:48] âœ… Patient data extraction completed successfully
[14:11:48] âœ…    âœ… Patient data extracted successfully
[14:11:48] ğŸ“Š Patient Response
     â””â”€ patientFName: Maria
     â””â”€ patientLName: Demelo
     â””â”€ dob: 06/13/1936
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: MA250311063603
     â””â”€ billingProvider: Afonso Fede, Gloriane MD
     â””â”€ npi: 1376525063
     â””â”€ physicianNPI: 1376525063
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST.
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780-3561
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 789-4352
     â””â”€ serviceLine: Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/13/2025', 'startOfEpisode': '05/12/2025', 'endOfEpisode': '07/10/2025', 'firstDiagnosis': 'S42.201', 'secondDiagnosis': 'M19.011', 'thirdDiagnosis': 'E03.9', 'fourthDiagnosis': 'E78.5', 'fifthDiagnosis': 'J84.10', 'sixthDiagnosis': 'I10'}]
[14:11:48] âœ…    âœ… Patient identified: Maria Demelo
[14:11:48] âœ…    âœ… Patient name validation passed
[14:11:48] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:11:48] [DOC: 9301992] â„¹ï¸  DOB normalized: 06/13/1936
[14:11:48] [DOC: 9301992] â„¹ï¸  Episode startOfCare normalized: 03/13/2025
[14:11:48] [DOC: 9301992] â„¹ï¸  Episode startOfEpisode normalized: 05/12/2025
[14:11:48] [DOC: 9301992] â„¹ï¸  Episode endOfEpisode normalized: 07/10/2025
[14:11:48] [DOC: 9301992] âœ… Patient date processing completed successfully
[14:11:48] âœ…    âœ… Date processing completed
[14:11:48] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Maria
     â””â”€ patientLName: Demelo
     â””â”€ dob: 06/13/1936
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: MA250311063603
     â””â”€ billingProvider: Afonso Fede, Gloriane MD
     â””â”€ npi: 1376525063
     â””â”€ physicianNPI: 1376525063
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST.
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780-3561
     â””â”€ phoneNumber: (508) 789-4352
     â””â”€ serviceLine: Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/13/2025', 'startOfEpisode': '05/12/2025', 'endOfEpisode': '07/10/2025', 'firstDiagnosis': 'S42.201', 'secondDiagnosis': 'M19.011', 'thirdDiagnosis': 'E03.9', 'fourthDiagnosis': 'E78.5', 'fifthDiagnosis': 'J84.10', 'sixthDiagnosis': 'I10'}]
[14:11:48] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:11:51] â„¹ï¸  Order extraction - MRN: 'MA250311063603'
[14:11:51] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[14:11:51] â„¹ï¸  Order extraction - Service Line: 'PT, OT'
[14:11:51] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[14:11:51] âœ… Order data extraction completed successfully
[14:11:51] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:11:51] â„¹ï¸  Using MRN from patient data: 'MA250311063603' over 'MA250311063603'
[14:11:51] â„¹ï¸  Combined service lines: Patient='Physical Therapy, Occupational Therapy' + Order='PT, OT' = 'OT, Occupational Therapy, PT, Physical Therapy'
[14:11:51] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[14:11:51] âœ… Patient name cross-validation successful
[14:11:51] âœ…    âœ… Data merged successfully
[14:11:53] âœ…    âœ… Order data extracted and validated
[14:11:53] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:12:35] [DOC: 9301992] â„¹ï¸  Patient not found in cache or API: Maria Demelo
[14:12:35] [DOC: 9301992] â„¹ï¸  Patient not found, creating new patient via API...
[14:12:35] [DOC: 9301992] â„¹ï¸  Creating patient via API: Maria Demelo
[14:12:37] [DOC: 9301992] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[14:12:37] âŒ    âŒ Failed to create patient
[14:12:37] [DOC: 9301992] â„¹ï¸  API push details saved for document 9301992
================================================================================
â•‘                        Processing Document ID: 9301667                         â•‘
================================================================================
[14:12:37] â„¹ï¸  Agency: Fairhaven HH&H
[14:12:37] â„¹ï¸  Date: 05/20/2025
[14:12:37] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:12:39] [DOC: 9301667] âœ… Text extracted using pdfplumber (1166 chars)
[14:12:39] âœ…    âœ… Text extracted using pdfplumber (1166 chars)
[14:12:39] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:12:42] â„¹ï¸  AI extracted raw sex value: 'F'
[14:12:42] â„¹ï¸  AI extracted service line: 'Hospice'
[14:12:42] â„¹ï¸  AI extracted payer source: 'Medicare'
[14:12:42] â„¹ï¸  AI extracted diagnoses:
[14:12:42] â„¹ï¸    - Diagnosis 1: ''
[14:12:42] â„¹ï¸    - Diagnosis 2: ''
[14:12:42] â„¹ï¸    - Diagnosis 3: ''
[14:12:42] â„¹ï¸    - Diagnosis 4: ''
[14:12:42] â„¹ï¸    - Diagnosis 5: ''
[14:12:42] â„¹ï¸    - Diagnosis 6: ''
[14:12:42] â„¹ï¸  Final extracted MRN: '2406002'
[14:12:42] â„¹ï¸  Final extracted Sex: 'FEMALE'
[14:12:42] â„¹ï¸  Final extracted Service Line: 'Hospice'
[14:12:42] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[14:12:42] âœ… Patient data extraction completed successfully
[14:12:42] âœ…    âœ… Patient data extracted successfully
[14:12:42] ğŸ“Š Patient Response
     â””â”€ patientFName: Patricia
     â””â”€ patientLName: Lobo
     â””â”€ dob: 02/06/1938
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2406002
     â””â”€ billingProvider: Community Nurse Inc
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Hospice
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '06/05/2024', 'startOfEpisode': '04/01/2025', 'endOfEpisode': '05/30/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:12:42] âœ…    âœ… Patient identified: Patricia Lobo
[14:12:42] âœ…    âœ… Patient name validation passed
[14:12:42] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:12:42] [DOC: 9301667] â„¹ï¸  DOB normalized: 02/06/1938
[14:12:42] [DOC: 9301667] â„¹ï¸  Episode startOfCare normalized: 06/05/2024
[14:12:42] [DOC: 9301667] â„¹ï¸  Episode startOfEpisode normalized: 04/01/2025
[14:12:42] [DOC: 9301667] â„¹ï¸  Episode endOfEpisode normalized: 05/30/2025
[14:12:42] [DOC: 9301667] âœ… Patient date processing completed successfully
[14:12:42] âœ…    âœ… Date processing completed
[14:12:42] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Patricia
     â””â”€ patientLName: Lobo
     â””â”€ dob: 02/06/1938
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2406002
     â””â”€ billingProvider: Community Nurse Inc
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Hospice
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '06/05/2024', 'startOfEpisode': '04/01/2025', 'endOfEpisode': '05/30/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:12:42] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:12:44] â„¹ï¸  Order extraction - MRN: ''
[14:12:44] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[14:12:44] â„¹ï¸  Order extraction - Service Line: 'Hospice'
[14:12:44] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[14:12:44] âœ… Order data extraction completed successfully
[14:12:44] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:12:44] â„¹ï¸  Using MRN from patient data: '2406002'
[14:12:44] â„¹ï¸  Service line consistent in both sources: 'Hospice'
[14:12:44] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[14:12:44] âœ… Patient name cross-validation successful
[14:12:44] âœ…    âœ… Data merged successfully
[14:12:46] âœ…    âœ… Order data extracted and validated
[14:12:46] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:13:13] [DOC: 9301667] âœ… Patient exists in API: Patricia Lobo, ID: e3cec393-5922-48e9-8f93-33ef00fae6a8
[14:13:13] âœ…    âœ… Existing patient found with ID: e3cec393-5922-48e9-8f93-33ef00fae6a8
[14:13:13] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:13:13] [DOC: 9301667] â„¹ï¸  Pushing order via API for patient ID: e3cec393-5922-48e9-8f93-33ef00fae6a8
[14:13:14] [DOC: 9301667] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13949"}
[14:13:14] âŒ    âŒ Failed to push order
[14:13:14] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:13:14] [DOC: 9301667] â„¹ï¸  Calculated age: 87 from DOB: 02/06/1938
[14:13:14] [DOC: 9301667] â„¹ï¸  Service Line extracted: 'Hospice'
[14:13:14] [DOC: 9301667] â„¹ï¸  Payer Source extracted: 'Medicare'
[14:13:14] [DOC: 9301667] â„¹ï¸  Diagnosis codes being written:
[14:13:14] [DOC: 9301667] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[14:13:14] [DOC: 9301667] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[14:13:14] [DOC: 9301667] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[14:13:14] [DOC: 9301667] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:13:14] [DOC: 9301667] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:13:14] [DOC: 9301667] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:13:14] [DOC: 9301667] âœ… Patient data written to CSV: Patricia Lobo | Sex: FEMALE | Age: 87 | Service: Hospice | Payer: Medicare | MRN: 2406002
[14:13:14] âœ…    âœ… Document 9301667 processed and saved successfully
[14:13:14] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:13:14] [DOC: 9301667] â„¹ï¸  API push details saved for document 9301667
[14:13:14] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9301620                         â•‘
================================================================================
[14:13:14] â„¹ï¸  Agency: Dartmouth HH
[14:13:14] â„¹ï¸  Date: 05/20/2025
[14:13:14] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:13:18] [DOC: 9301620] âœ… Text extracted using pdfplumber (7752 chars)
[14:13:18] âœ…    âœ… Text extracted using pdfplumber (7752 chars)
[14:13:18] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:13:20] â„¹ï¸  AI extracted raw sex value: 'F'
[14:13:20] â„¹ï¸  AI extracted service line: 'Occupational Therapy'
[14:13:20] â„¹ï¸  AI extracted payer source: 'Senior Whole Health'
[14:13:20] â„¹ï¸  AI extracted diagnoses:
[14:13:20] â„¹ï¸    - Diagnosis 1: ''
[14:13:20] â„¹ï¸    - Diagnosis 2: ''
[14:13:20] â„¹ï¸    - Diagnosis 3: ''
[14:13:20] â„¹ï¸    - Diagnosis 4: ''
[14:13:20] â„¹ï¸    - Diagnosis 5: ''
[14:13:20] â„¹ï¸    - Diagnosis 6: ''
[14:13:20] â„¹ï¸  Final extracted MRN: '1508015'
[14:13:20] â„¹ï¸  Final extracted Sex: 'FEMALE'
[14:13:20] â„¹ï¸  Final extracted Service Line: 'Occupational Therapy'
[14:13:20] â„¹ï¸  Final extracted Payer Source: 'Senior Whole Health'
[14:13:20] âœ… Patient data extraction completed successfully
[14:13:20] âœ…    âœ… Patient data extracted successfully
[14:13:20] ğŸ“Š Patient Response
     â””â”€ patientFName: Paula
     â””â”€ patientLName: Hatch
     â””â”€ dob: 06/22/1940
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 1508015
     â””â”€ billingProvider: Community Nurse Inc
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: Senior Whole Health
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/23/2024', 'startOfEpisode': '04/05/2025', 'endOfEpisode': '05/16/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:13:20] âœ…    âœ… Patient identified: Paula Hatch
[14:13:20] âœ…    âœ… Patient name validation passed
[14:13:20] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:13:20] [DOC: 9301620] â„¹ï¸  DOB normalized: 06/22/1940
[14:13:20] [DOC: 9301620] â„¹ï¸  Episode startOfCare normalized: 03/23/2024
[14:13:20] [DOC: 9301620] â„¹ï¸  Episode startOfEpisode normalized: 04/05/2025
[14:13:20] [DOC: 9301620] â„¹ï¸  Episode endOfEpisode normalized: 05/16/2025
[14:13:20] [DOC: 9301620] âœ… Patient date processing completed successfully
[14:13:20] âœ…    âœ… Date processing completed
[14:13:20] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Paula
     â””â”€ patientLName: Hatch
     â””â”€ dob: 06/22/1940
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 1508015
     â””â”€ billingProvider: Community Nurse Inc
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: Senior Whole Health
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/23/2024', 'startOfEpisode': '04/05/2025', 'endOfEpisode': '05/16/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:13:20] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:13:23] â„¹ï¸  Order extraction - MRN: ''
[14:13:23] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[14:13:23] â„¹ï¸  Order extraction - Service Line: 'OT'
[14:13:23] â„¹ï¸  Order extraction - Payer Source: 'Senior Whole Health'
[14:13:23] âœ… Order data extraction completed successfully
[14:13:23] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:13:23] â„¹ï¸  Using MRN from patient data: '1508015'
[14:13:23] â„¹ï¸  Combined service lines: Patient='Occupational Therapy' + Order='OT' = 'OT, Occupational Therapy'
[14:13:23] â„¹ï¸  Payer source consistent in both sources: 'Senior Whole Health'
[14:13:23] âœ… Patient name cross-validation successful
[14:13:23] âœ…    âœ… Data merged successfully
[14:13:24] âœ…    âœ… Order data extracted and validated
[14:13:24] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:14:19] [DOC: 9301620] âœ… Patient exists in API: Paula Hatch, ID: 7e9f0551-7213-4bc8-8b8b-ae0e8ddfecc3
[14:14:19] âœ…    âœ… Existing patient found with ID: 7e9f0551-7213-4bc8-8b8b-ae0e8ddfecc3
[14:14:19] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:14:19] [DOC: 9301620] â„¹ï¸  Pushing order via API for patient ID: 7e9f0551-7213-4bc8-8b8b-ae0e8ddfecc3
[14:14:20] [DOC: 9301620] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13832"}
[14:14:20] âŒ    âŒ Failed to push order
[14:14:20] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:14:20] [DOC: 9301620] â„¹ï¸  Calculated age: 84 from DOB: 06/22/1940
[14:14:20] [DOC: 9301620] â„¹ï¸  Service Line extracted: 'OT, Occupational Therapy'
[14:14:20] [DOC: 9301620] â„¹ï¸  Payer Source extracted: 'Senior Whole Health'
[14:14:20] [DOC: 9301620] â„¹ï¸  Diagnosis codes being written:
[14:14:20] [DOC: 9301620] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[14:14:20] [DOC: 9301620] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[14:14:20] [DOC: 9301620] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[14:14:20] [DOC: 9301620] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:14:20] [DOC: 9301620] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:14:20] [DOC: 9301620] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:14:20] [DOC: 9301620] âœ… Patient data written to CSV: Paula Hatch | Sex: FEMALE | Age: 84 | Service: OT, Occupational Therapy | Payer: Senior Whole Health | MRN: 1508015
[14:14:20] âœ…    âœ… Document 9301620 processed and saved successfully
[14:14:20] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:14:20] [DOC: 9301620] â„¹ï¸  API push details saved for document 9301620
[14:14:20] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9301619                         â•‘
================================================================================
[14:14:20] â„¹ï¸  Agency: Dartmouth HH
[14:14:20] â„¹ï¸  Date: 05/20/2025
[14:14:20] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:14:22] [DOC: 9301619] âœ… Text extracted using pdfplumber (1080 chars)
[14:14:22] âœ…    âœ… Text extracted using pdfplumber (1080 chars)
[14:14:22] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:14:25] â„¹ï¸  AI extracted raw sex value: 'M'
[14:14:25] â„¹ï¸  AI extracted service line: 'HHA'
[14:14:25] â„¹ï¸  AI extracted payer source: 'Medicare'
[14:14:25] â„¹ï¸  AI extracted diagnoses:
[14:14:25] â„¹ï¸    - Diagnosis 1: ''
[14:14:25] â„¹ï¸    - Diagnosis 2: ''
[14:14:25] â„¹ï¸    - Diagnosis 3: ''
[14:14:25] â„¹ï¸    - Diagnosis 4: ''
[14:14:25] â„¹ï¸    - Diagnosis 5: ''
[14:14:25] â„¹ï¸    - Diagnosis 6: ''
[14:14:25] â„¹ï¸  Final extracted MRN: '1547002'
[14:14:25] â„¹ï¸  Final extracted Sex: 'MALE'
[14:14:25] â„¹ï¸  Final extracted Service Line: 'HHA'
[14:14:25] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[14:14:25] âœ… Patient data extraction completed successfully
[14:14:25] âœ…    âœ… Patient data extracted successfully
[14:14:25] ğŸ“Š Patient Response
     â””â”€ patientFName: Henry
     â””â”€ patientLName: Pina
     â””â”€ dob: 09/11/1943
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 1547002
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: HHA
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/25/2025', 'startOfEpisode': '04/25/2025', 'endOfEpisode': '06/23/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:14:25] âœ…    âœ… Patient identified: Henry Pina
[14:14:25] âœ…    âœ… Patient name validation passed
[14:14:25] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:14:25] [DOC: 9301619] â„¹ï¸  DOB normalized: 09/11/1943
[14:14:25] [DOC: 9301619] â„¹ï¸  Episode startOfCare normalized: 04/25/2025
[14:14:25] [DOC: 9301619] â„¹ï¸  Episode startOfEpisode normalized: 04/25/2025
[14:14:25] [DOC: 9301619] â„¹ï¸  Episode endOfEpisode normalized: 06/23/2025
[14:14:25] [DOC: 9301619] âœ… Patient date processing completed successfully
[14:14:25] âœ…    âœ… Date processing completed
[14:14:25] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Henry
     â””â”€ patientLName: Pina
     â””â”€ dob: 09/11/1943
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 1547002
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: HHA
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/25/2025', 'startOfEpisode': '04/25/2025', 'endOfEpisode': '06/23/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:14:25] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:14:28] â„¹ï¸  Order extraction - MRN: ''
[14:14:28] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:14:28] â„¹ï¸  Order extraction - Service Line: ''
[14:14:28] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[14:14:28] âœ… Order data extraction completed successfully
[14:14:28] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:14:28] â„¹ï¸  Using MRN from patient data: '1547002'
[14:14:28] â„¹ï¸  Using service line from patient data: 'HHA'
[14:14:28] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[14:14:28] âœ… Patient name cross-validation successful
[14:14:28] âœ…    âœ… Data merged successfully
[14:14:29] âœ…    âœ… Order data extracted and validated
[14:14:29] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:14:59] [DOC: 9301619] âœ… Patient exists in API: Henry Pina, ID: 08ab05c1-ef08-4bd0-b345-2991f29c5e55
[14:14:59] âœ…    âœ… Existing patient found with ID: 08ab05c1-ef08-4bd0-b345-2991f29c5e55
[14:14:59] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:14:59] [DOC: 9301619] â„¹ï¸  Pushing order via API for patient ID: 08ab05c1-ef08-4bd0-b345-2991f29c5e55
[14:15:01] [DOC: 9301619] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13072"}
[14:15:01] âŒ    âŒ Failed to push order
[14:15:01] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:15:01] [DOC: 9301619] â„¹ï¸  Calculated age: 81 from DOB: 09/11/1943
[14:15:01] [DOC: 9301619] â„¹ï¸  Service Line extracted: 'HHA'
[14:15:01] [DOC: 9301619] â„¹ï¸  Payer Source extracted: 'Medicare'
[14:15:01] [DOC: 9301619] â„¹ï¸  Diagnosis codes being written:
[14:15:01] [DOC: 9301619] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[14:15:01] [DOC: 9301619] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[14:15:01] [DOC: 9301619] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[14:15:01] [DOC: 9301619] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:15:01] [DOC: 9301619] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:15:01] [DOC: 9301619] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:15:01] [DOC: 9301619] âœ… Patient data written to CSV: Henry Pina | Sex: MALE | Age: 81 | Service: HHA | Payer: Medicare | MRN: 1547002
[14:15:01] âœ…    âœ… Document 9301619 processed and saved successfully
[14:15:01] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:15:01] [DOC: 9301619] â„¹ï¸  API push details saved for document 9301619
[14:15:01] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9301609                         â•‘
================================================================================
[14:15:01] â„¹ï¸  Agency: Dartmouth HH
[14:15:01] â„¹ï¸  Date: 05/20/2025
[14:15:01] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:15:03] [DOC: 9301609] âœ… Text extracted using pdfplumber (5109 chars)
[14:15:03] âœ…    âœ… Text extracted using pdfplumber (5109 chars)
[14:15:03] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:15:06] â„¹ï¸  AI extracted raw sex value: 'M'
[14:15:06] â„¹ï¸  AI extracted service line: 'Physical Therapy'
[14:15:06] â„¹ï¸  AI extracted payer source: 'Blue Cross Blue Shield'
[14:15:06] â„¹ï¸  AI extracted diagnoses:
[14:15:06] â„¹ï¸    - Diagnosis 1: ''
[14:15:06] â„¹ï¸    - Diagnosis 2: ''
[14:15:06] â„¹ï¸    - Diagnosis 3: ''
[14:15:06] â„¹ï¸    - Diagnosis 4: ''
[14:15:06] â„¹ï¸    - Diagnosis 5: ''
[14:15:06] â„¹ï¸    - Diagnosis 6: ''
[14:15:06] â„¹ï¸  Final extracted MRN: '6348015'
[14:15:06] â„¹ï¸  Final extracted Sex: 'MALE'
[14:15:06] â„¹ï¸  Final extracted Service Line: 'Physical Therapy'
[14:15:06] â„¹ï¸  Final extracted Payer Source: 'Blue Cross Blue Shield'
[14:15:06] âœ… Patient data extraction completed successfully
[14:15:06] âœ…    âœ… Patient data extracted successfully
[14:15:06] ğŸ“Š Patient Response
     â””â”€ patientFName: David
     â””â”€ patientLName: Teixeira
     â””â”€ dob: 12/29/1956
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 6348015
     â””â”€ billingProvider: Community Nurse Inc
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: Blue Cross Blue Shield
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/08/2025', 'startOfEpisode': '04/08/2025', 'endOfEpisode': '06/06/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:15:06] âœ…    âœ… Patient identified: David Teixeira
[14:15:06] âœ…    âœ… Patient name validation passed
[14:15:06] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:15:06] [DOC: 9301609] â„¹ï¸  DOB normalized: 12/29/1956
[14:15:06] [DOC: 9301609] â„¹ï¸  Episode startOfCare normalized: 04/08/2025
[14:15:06] [DOC: 9301609] â„¹ï¸  Episode startOfEpisode normalized: 04/08/2025
[14:15:06] [DOC: 9301609] â„¹ï¸  Episode endOfEpisode normalized: 06/06/2025
[14:15:06] [DOC: 9301609] âœ… Patient date processing completed successfully
[14:15:06] âœ…    âœ… Date processing completed
[14:15:06] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: David
     â””â”€ patientLName: Teixeira
     â””â”€ dob: 12/29/1956
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 6348015
     â””â”€ billingProvider: Community Nurse Inc
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: Blue Cross Blue Shield
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/08/2025', 'startOfEpisode': '04/08/2025', 'endOfEpisode': '06/06/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:15:06] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:15:09] â„¹ï¸  Order extraction - MRN: '6348015'
[14:15:09] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:15:09] â„¹ï¸  Order extraction - Service Line: 'PT'
[14:15:09] â„¹ï¸  Order extraction - Payer Source: 'Blue Cross Blue Shield'
[14:15:09] âœ… Order data extraction completed successfully
[14:15:09] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:15:09] â„¹ï¸  Using MRN from patient data: '6348015' over '6348015'
[14:15:09] â„¹ï¸  Combined service lines: Patient='Physical Therapy' + Order='PT' = 'PT, Physical Therapy'
[14:15:09] â„¹ï¸  Payer source consistent in both sources: 'Blue Cross Blue Shield'
[14:15:09] âœ… Patient name cross-validation successful
[14:15:09] âœ…    âœ… Data merged successfully
[14:15:10] âœ…    âœ… Order data extracted and validated
[14:15:10] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:15:10] [DOC: 9301609] âœ… Patient found in local cache: David Teixeira, ID: 92d56142-8dce-415a-ac6f-6020de943b51
[14:15:10] âœ…    âœ… Existing patient found with ID: 92d56142-8dce-415a-ac6f-6020de943b51
[14:15:10] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:15:10] [DOC: 9301609] â„¹ï¸  Pushing order via API for patient ID: 92d56142-8dce-415a-ac6f-6020de943b51
[14:15:11] [DOC: 9301609] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[14:15:11] âŒ    âŒ Failed to push order
[14:15:11] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:15:11] [DOC: 9301609] â„¹ï¸  Calculated age: 68 from DOB: 12/29/1956
[14:15:11] [DOC: 9301609] â„¹ï¸  Service Line extracted: 'PT, Physical Therapy'
[14:15:11] [DOC: 9301609] â„¹ï¸  Payer Source extracted: 'Blue Cross Blue Shield'
[14:15:11] [DOC: 9301609] â„¹ï¸  Diagnosis codes being written:
[14:15:11] [DOC: 9301609] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[14:15:11] [DOC: 9301609] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[14:15:11] [DOC: 9301609] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[14:15:11] [DOC: 9301609] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:15:11] [DOC: 9301609] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:15:11] [DOC: 9301609] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:15:11] [DOC: 9301609] âœ… Patient data written to CSV: David Teixeira | Sex: MALE | Age: 68 | Service: PT, Physical Therapy | Payer: Blue Cross Blue Shield | MRN: 6348015
[14:15:11] âœ…    âœ… Document 9301609 processed and saved successfully
[14:15:11] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:15:11] [DOC: 9301609] â„¹ï¸  API push details saved for document 9301609
[14:15:11] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9299133                         â•‘
================================================================================
[14:15:11] â„¹ï¸  Agency: Visiting Rehab & Nursing Services
[14:15:11] â„¹ï¸  Date: 05/19/2025
[14:15:11] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:15:15] [DOC: 9299133] âœ… Text extracted using pdfplumber (23669 chars)
[14:15:15] âœ…    âœ… Text extracted using pdfplumber (23657 chars)
[14:15:15] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:15:19] â„¹ï¸  AI extracted raw sex value: 'F'
[14:15:19] â„¹ï¸  AI extracted service line: 'Skilled Nursing, Physical Therapy'
[14:15:19] â„¹ï¸  AI extracted payer source: 'Medicare'
[14:15:19] â„¹ï¸  AI extracted diagnoses:
[14:15:19] â„¹ï¸    - Diagnosis 1: 'M51.16'
[14:15:19] â„¹ï¸    - Diagnosis 2: 'G89.4'
[14:15:19] â„¹ï¸    - Diagnosis 3: 'M51.14'
[14:15:19] â„¹ï¸    - Diagnosis 4: 'I73.89'
[14:15:19] â„¹ï¸    - Diagnosis 5: 'F32.A'
[14:15:19] â„¹ï¸    - Diagnosis 6: 'F41.9'
[14:15:19] â„¹ï¸  Final extracted MRN: 'hcbrSWH003'
[14:15:19] â„¹ï¸  Final extracted Sex: 'FEMALE'
[14:15:19] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing, Physical Therapy'
[14:15:19] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[14:15:19] âœ… Patient data extraction completed successfully
[14:15:19] âœ…    âœ… Patient data extracted successfully
[14:15:19] ğŸ“Š Patient Response
     â””â”€ patientFName: Elizabeth
     â””â”€ patientLName: St Jacques
     â””â”€ dob: 07/18/1941
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: hcbrSWH003
     â””â”€ billingProvider: Rodrigues, June NP
     â””â”€ npi: 1821065913
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Visiting Rehab and Nursing
     â””â”€ address: 276 Cottage Street
     â””â”€ city: NEW BEDFORD
     â””â”€ state: MA
     â””â”€ zip: 02740
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 994-2106
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '01/11/2022', 'startOfEpisode': '04/23/2025', 'endOfEpisode': '06/21/2025', 'firstDiagnosis': 'M51.16', 'secondDiagnosis': 'G89.4', 'thirdDiagnosis': 'M51.14', 'fourthDiagnosis': 'I73.89', 'fifthDiagnosis': 'F32.A', 'sixthDiagnosis': 'F41.9'}]
[14:15:19] âœ…    âœ… Patient identified: Elizabeth St Jacques
[14:15:19] âœ…    âœ… Patient name validation passed
[14:15:19] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:15:19] [DOC: 9299133] â„¹ï¸  DOB normalized: 07/18/1941
[14:15:19] [DOC: 9299133] â„¹ï¸  Episode startOfCare normalized: 01/11/2022
[14:15:19] [DOC: 9299133] â„¹ï¸  Episode startOfEpisode normalized: 04/23/2025
[14:15:19] [DOC: 9299133] â„¹ï¸  Episode endOfEpisode normalized: 06/21/2025
[14:15:19] [DOC: 9299133] âœ… Patient date processing completed successfully
[14:15:19] âœ…    âœ… Date processing completed
[14:15:19] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Elizabeth
     â””â”€ patientLName: St Jacques
     â””â”€ dob: 07/18/1941
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: hcbrSWH003
     â””â”€ billingProvider: Rodrigues, June NP
     â””â”€ npi: 1821065913
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Visiting Rehab and Nursing
     â””â”€ address: 276 Cottage Street
     â””â”€ city: NEW BEDFORD
     â””â”€ state: MA
     â””â”€ zip: 02740
     â””â”€ phoneNumber: (508) 994-2106
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '01/11/2022', 'startOfEpisode': '04/23/2025', 'endOfEpisode': '06/21/2025', 'firstDiagnosis': 'M51.16', 'secondDiagnosis': 'G89.4', 'thirdDiagnosis': 'M51.14', 'fourthDiagnosis': 'I73.89', 'fifthDiagnosis': 'F32.A', 'sixthDiagnosis': 'F41.9'}]
[14:15:19] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:15:22] â„¹ï¸  Order extraction - MRN: 'hcbrSWH003'
[14:15:22] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[14:15:22] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[14:15:22] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[14:15:22] âœ… Order data extraction completed successfully
[14:15:22] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:15:22] â„¹ï¸  Using MRN from patient data: 'hcbrSWH003' over 'hcbrSWH003'
[14:15:22] â„¹ï¸  Combined service lines: Patient='Skilled Nursing, Physical Therapy' + Order='Skilled Nursing' = 'Physical Therapy, Skilled Nursing'
[14:15:22] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[14:15:22] âœ… Patient name cross-validation successful
[14:15:22] âœ…    âœ… Data merged successfully
[14:15:23] âœ…    âœ… Order data extracted and validated
[14:15:23] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:15:34] [DOC: 9299133] â„¹ï¸  Patient not found in cache or API: Elizabeth St Jacques
[14:15:34] [DOC: 9299133] â„¹ï¸  Patient not found, creating new patient via API...
[14:15:34] [DOC: 9299133] â„¹ï¸  Creating patient via API: Elizabeth St Jacques
[14:15:35] [DOC: 9299133] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[14:15:35] âŒ    âŒ Failed to create patient
[14:15:35] [DOC: 9299133] â„¹ï¸  API push details saved for document 9299133
================================================================================
â•‘                        Processing Document ID: 9296924                         â•‘
================================================================================
[14:15:35] â„¹ï¸  Agency: Dartmouth HH
[14:15:35] â„¹ï¸  Date: 05/16/2025
[14:15:35] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:15:37] [DOC: 9296924] âœ… Text extracted using pdfplumber (12297 chars)
[14:15:37] âœ…    âœ… Text extracted using pdfplumber (12297 chars)
[14:15:37] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:15:41] â„¹ï¸  AI extracted raw sex value: 'M'
[14:15:41] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[14:15:41] â„¹ï¸  AI extracted payer source: 'Blue Cross Blue Shield'
[14:15:41] â„¹ï¸  AI extracted diagnoses:
[14:15:41] â„¹ï¸    - Diagnosis 1: 'K50.918'
[14:15:41] â„¹ï¸    - Diagnosis 2: 'E83.42'
[14:15:41] â„¹ï¸    - Diagnosis 3: 'N30.01'
[14:15:41] â„¹ï¸    - Diagnosis 4: 'N13.8'
[14:15:41] â„¹ï¸    - Diagnosis 5: 'R53.83'
[14:15:41] â„¹ï¸    - Diagnosis 6: 'I12.9'
[14:15:41] â„¹ï¸  Final extracted MRN: '6348015'
[14:15:41] â„¹ï¸  Final extracted Sex: 'MALE'
[14:15:41] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[14:15:41] â„¹ï¸  Final extracted Payer Source: 'Blue Cross Blue Shield'
[14:15:41] âœ… Patient data extraction completed successfully
[14:15:41] âœ…    âœ… Patient data extracted successfully
[14:15:41] ğŸ“Š Patient Response
     â””â”€ patientFName: David
     â””â”€ patientLName: Teixeira
     â””â”€ dob: 12/29/1956
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 6348015
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Blue Cross Blue Shield
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/08/2025', 'startOfEpisode': '04/08/2025', 'endOfEpisode': '06/06/2025', 'firstDiagnosis': 'K50.918', 'secondDiagnosis': 'E83.42', 'thirdDiagnosis': 'N30.01', 'fourthDiagnosis': 'N13.8', 'fifthDiagnosis': 'R53.83', 'sixthDiagnosis': 'I12.9'}]
[14:15:41] âœ…    âœ… Patient identified: David Teixeira
[14:15:41] âœ…    âœ… Patient name validation passed
[14:15:41] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:15:41] [DOC: 9296924] â„¹ï¸  DOB normalized: 12/29/1956
[14:15:41] [DOC: 9296924] â„¹ï¸  Episode startOfCare normalized: 04/08/2025
[14:15:41] [DOC: 9296924] â„¹ï¸  Episode startOfEpisode normalized: 04/08/2025
[14:15:41] [DOC: 9296924] â„¹ï¸  Episode endOfEpisode normalized: 06/06/2025
[14:15:41] [DOC: 9296924] âœ… Patient date processing completed successfully
[14:15:41] âœ…    âœ… Date processing completed
[14:15:41] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: David
     â””â”€ patientLName: Teixeira
     â””â”€ dob: 12/29/1956
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 6348015
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Blue Cross Blue Shield
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/08/2025', 'startOfEpisode': '04/08/2025', 'endOfEpisode': '06/06/2025', 'firstDiagnosis': 'K50.918', 'secondDiagnosis': 'E83.42', 'thirdDiagnosis': 'N30.01', 'fourthDiagnosis': 'N13.8', 'fifthDiagnosis': 'R53.83', 'sixthDiagnosis': 'I12.9'}]
[14:15:41] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:15:43] â„¹ï¸  Order extraction - MRN: '6348015'
[14:15:43] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:15:43] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[14:15:43] â„¹ï¸  Order extraction - Payer Source: 'Blue Cross Blue Shield'
[14:15:43] âœ… Order data extraction completed successfully
[14:15:43] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:15:43] â„¹ï¸  Using MRN from patient data: '6348015' over '6348015'
[14:15:43] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing'
[14:15:43] â„¹ï¸  Payer source consistent in both sources: 'Blue Cross Blue Shield'
[14:15:43] âœ… Patient name cross-validation successful
[14:15:43] âœ…    âœ… Data merged successfully
[14:15:44] âœ…    âœ… Order data extracted and validated
[14:15:44] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:15:44] [DOC: 9296924] âœ… Patient found in local cache: David Teixeira, ID: 92d56142-8dce-415a-ac6f-6020de943b51
[14:15:44] âœ…    âœ… Existing patient found with ID: 92d56142-8dce-415a-ac6f-6020de943b51
[14:15:44] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:15:44] [DOC: 9296924] â„¹ï¸  Pushing order via API for patient ID: 92d56142-8dce-415a-ac6f-6020de943b51
[14:15:46] [DOC: 9296924] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[14:15:46] âŒ    âŒ Failed to push order
[14:15:46] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:15:46] [DOC: 9296924] â„¹ï¸  Calculated age: 68 from DOB: 12/29/1956
[14:15:46] [DOC: 9296924] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[14:15:46] [DOC: 9296924] â„¹ï¸  Payer Source extracted: 'Blue Cross Blue Shield'
[14:15:46] [DOC: 9296924] â„¹ï¸  Diagnosis codes being written:
[14:15:46] [DOC: 9296924] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'K50.918'
[14:15:46] [DOC: 9296924] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'E83.42'
[14:15:46] [DOC: 9296924] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'N30.01'
[14:15:46] [DOC: 9296924] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'N13.8'
[14:15:46] [DOC: 9296924] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'R53.83'
[14:15:46] [DOC: 9296924] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'I12.9'
[14:15:46] [DOC: 9296924] âœ… Patient data written to CSV: David Teixeira | Sex: MALE | Age: 68 | Service: Skilled Nursing | Payer: Blue Cross Blue Shield | MRN: 6348015
[14:15:46] âœ…    âœ… Document 9296924 processed and saved successfully
[14:15:46] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:15:46] [DOC: 9296924] â„¹ï¸  API push details saved for document 9296924
[14:15:46] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9296471                         â•‘
================================================================================
[14:15:46] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:15:46] â„¹ï¸  Date: 05/16/2025
[14:15:46] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:15:48] [DOC: 9296471] âœ… Text extracted using pdfplumber (1354 chars)
[14:15:48] âœ…    âœ… Text extracted using pdfplumber (1354 chars)
[14:15:48] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:15:51] â„¹ï¸  AI extracted raw sex value: ''
[14:15:51] â„¹ï¸  AI extracted service line: 'Occupational Therapy'
[14:15:51] â„¹ï¸  AI extracted payer source: ''
[14:15:51] â„¹ï¸  AI extracted diagnoses:
[14:15:51] â„¹ï¸    - Diagnosis 1: 'I13.0'
[14:15:51] â„¹ï¸    - Diagnosis 2: 'I50.42'
[14:15:51] â„¹ï¸    - Diagnosis 3: 'E11.22'
[14:15:51] â„¹ï¸    - Diagnosis 4: 'None'
[14:15:51] â„¹ï¸    - Diagnosis 5: 'None'
[14:15:51] â„¹ï¸    - Diagnosis 6: 'None'
[14:15:51] â„¹ï¸  Final extracted MRN: 'MA250206063603'
[14:15:51] â„¹ï¸  Final extracted Sex: ''
[14:15:51] â„¹ï¸  Final extracted Service Line: 'Occupational Therapy'
[14:15:51] â„¹ï¸  Final extracted Payer Source: ''
[14:15:51] âœ… Patient data extraction completed successfully
[14:15:51] âœ…    âœ… Patient data extracted successfully
[14:15:51] ğŸ“Š Patient Response
     â””â”€ patientFName: Maria
     â””â”€ patientLName: Lopes
     â””â”€ dob: 06/25/1936
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250206063603
     â””â”€ billingProvider: JONATHAN BIER MD
     â””â”€ npi: 1306883343
     â””â”€ physicianNPI: 1306883343
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '05/07/2025', 'endOfEpisode': '07/05/2025', 'firstDiagnosis': 'I13.0', 'secondDiagnosis': 'I50.42', 'thirdDiagnosis': 'E11.22', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[14:15:51] âœ…    âœ… Patient identified: Maria Lopes
[14:15:51] âœ…    âœ… Patient name validation passed
[14:15:51] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:15:51] [DOC: 9296471] â„¹ï¸  DOB normalized: 06/25/1936
[14:15:51] [DOC: 9296471] â„¹ï¸  Episode startOfEpisode normalized: 05/07/2025
[14:15:51] [DOC: 9296471] â„¹ï¸  Episode endOfEpisode normalized: 07/05/2025
[14:15:51] [DOC: 9296471] âœ… Patient date processing completed successfully
[14:15:51] âœ…    âœ… Date processing completed
[14:15:51] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Maria
     â””â”€ patientLName: Lopes
     â””â”€ dob: 06/25/1936
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250206063603
     â””â”€ billingProvider: JONATHAN BIER MD
     â””â”€ npi: 1306883343
     â””â”€ physicianNPI: 1306883343
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '05/07/2025', 'endOfEpisode': '07/05/2025', 'firstDiagnosis': 'I13.0', 'secondDiagnosis': 'I50.42', 'thirdDiagnosis': 'E11.22'}]
[14:15:51] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:15:53] â„¹ï¸  Order extraction - MRN: 'MA250206063603'
[14:15:53] â„¹ï¸  Order extraction - Sex: ''
[14:15:53] â„¹ï¸  Order extraction - Service Line: 'Occupational Therapy'
[14:15:53] â„¹ï¸  Order extraction - Payer Source: ''
[14:15:53] âœ… Order data extraction completed successfully
[14:15:53] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:15:53] â„¹ï¸  Using MRN from patient data: 'MA250206063603' over 'MA250206063603'
[14:15:53] â„¹ï¸  Inferred sex as FEMALE from name: Maria
[14:15:53] â„¹ï¸  Service line consistent in both sources: 'Occupational Therapy'
[14:15:53] âœ… Patient name cross-validation successful
[14:15:53] âœ…    âœ… Data merged successfully
[14:15:54] âœ…    âœ… Order data extracted and validated
[14:15:54] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:16:02] [DOC: 9296471] â„¹ï¸  Patient not found in cache or API: Maria Lopes
[14:16:02] [DOC: 9296471] â„¹ï¸  Patient not found, creating new patient via API...
[14:16:02] [DOC: 9296471] â„¹ï¸  Creating patient via API: Maria Lopes
[14:16:03] [DOC: 9296471] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[14:16:03] âŒ    âŒ Failed to create patient
[14:16:03] [DOC: 9296471] â„¹ï¸  API push details saved for document 9296471
================================================================================
â•‘                        Processing Document ID: 9296456                         â•‘
================================================================================
[14:16:03] â„¹ï¸  Agency: Dartmouth HH
[14:16:03] â„¹ï¸  Date: 05/16/2025
[14:16:03] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:16:05] [DOC: 9296456] âœ… Text extracted using pdfplumber (6255 chars)
[14:16:05] âœ…    âœ… Text extracted using pdfplumber (6255 chars)
[14:16:05] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:16:08] â„¹ï¸  AI extracted raw sex value: 'F'
[14:16:08] â„¹ï¸  AI extracted service line: 'PT, OT'
[14:16:08] â„¹ï¸  AI extracted payer source: 'Medicare'
[14:16:08] â„¹ï¸  AI extracted diagnoses:
[14:16:08] â„¹ï¸    - Diagnosis 1: 'None'
[14:16:08] â„¹ï¸    - Diagnosis 2: 'None'
[14:16:08] â„¹ï¸    - Diagnosis 3: 'None'
[14:16:08] â„¹ï¸    - Diagnosis 4: 'None'
[14:16:08] â„¹ï¸    - Diagnosis 5: 'None'
[14:16:08] â„¹ï¸    - Diagnosis 6: 'None'
[14:16:08] â„¹ï¸  Final extracted MRN: '1252008'
[14:16:08] â„¹ï¸  Final extracted Sex: 'FEMALE'
[14:16:08] â„¹ï¸  Final extracted Service Line: 'PT, OT'
[14:16:08] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[14:16:08] âœ… Patient data extraction completed successfully
[14:16:08] âœ…    âœ… Patient data extracted successfully
[14:16:08] ğŸ“Š Patient Response
     â””â”€ patientFName: Linda
     â””â”€ patientLName: Sykes
     â””â”€ dob: 09/19/1947
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 1252008
     â””â”€ billingProvider: Community Nurse Inc
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: PT, OT
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/13/2025', 'startOfEpisode': '04/13/2025', 'endOfEpisode': '06/11/2025', 'firstDiagnosis': None, 'secondDiagnosis': None, 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[14:16:08] âœ…    âœ… Patient identified: Linda Sykes
[14:16:08] âœ…    âœ… Patient name validation passed
[14:16:08] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:16:08] [DOC: 9296456] â„¹ï¸  DOB normalized: 09/19/1947
[14:16:08] [DOC: 9296456] â„¹ï¸  Episode startOfCare normalized: 04/13/2025
[14:16:08] [DOC: 9296456] â„¹ï¸  Episode startOfEpisode normalized: 04/13/2025
[14:16:08] [DOC: 9296456] â„¹ï¸  Episode endOfEpisode normalized: 06/11/2025
[14:16:08] [DOC: 9296456] âœ… Patient date processing completed successfully
[14:16:08] âœ…    âœ… Date processing completed
[14:16:08] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Linda
     â””â”€ patientLName: Sykes
     â””â”€ dob: 09/19/1947
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 1252008
     â””â”€ billingProvider: Community Nurse Inc
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: PT, OT
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/13/2025', 'startOfEpisode': '04/13/2025', 'endOfEpisode': '06/11/2025'}]
[14:16:08] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:16:10] â„¹ï¸  Order extraction - MRN: ''
[14:16:10] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[14:16:10] â„¹ï¸  Order extraction - Service Line: 'PT, OT'
[14:16:10] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[14:16:10] âœ… Order data extraction completed successfully
[14:16:10] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:16:10] â„¹ï¸  Using MRN from patient data: '1252008'
[14:16:10] â„¹ï¸  Service line consistent in both sources: 'PT, OT'
[14:16:10] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[14:16:10] âœ… Patient name cross-validation successful
[14:16:10] âœ…    âœ… Data merged successfully
[14:16:11] âœ…    âœ… Order data extracted and validated
[14:16:11] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:16:11] [DOC: 9296456] âœ… Patient found in local cache: Linda Sykes, ID: a10dd95f-9d80-4489-8146-b834f50f18d5
[14:16:11] âœ…    âœ… Existing patient found with ID: a10dd95f-9d80-4489-8146-b834f50f18d5
[14:16:11] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:16:11] [DOC: 9296456] â„¹ï¸  Pushing order via API for patient ID: a10dd95f-9d80-4489-8146-b834f50f18d5
[14:16:12] [DOC: 9296456] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14469"}
[14:16:12] âŒ    âŒ Failed to push order
[14:16:12] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:16:12] [DOC: 9296456] â„¹ï¸  Calculated age: 77 from DOB: 09/19/1947
[14:16:12] [DOC: 9296456] â„¹ï¸  Service Line extracted: 'PT, OT'
[14:16:12] [DOC: 9296456] â„¹ï¸  Payer Source extracted: 'Medicare'
[14:16:12] [DOC: 9296456] â„¹ï¸  Diagnosis codes being written:
[14:16:12] [DOC: 9296456] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[14:16:12] [DOC: 9296456] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[14:16:12] [DOC: 9296456] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[14:16:12] [DOC: 9296456] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:16:12] [DOC: 9296456] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:16:12] [DOC: 9296456] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:16:12] [DOC: 9296456] âœ… Patient data written to CSV: Linda Sykes | Sex: FEMALE | Age: 77 | Service: PT, OT | Payer: Medicare | MRN: 1252008
[14:16:12] âœ…    âœ… Document 9296456 processed and saved successfully
[14:16:12] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:16:12] [DOC: 9296456] â„¹ï¸  API push details saved for document 9296456
[14:16:12] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9294524                         â•‘
================================================================================
[14:16:12] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:16:12] â„¹ï¸  Date: 05/15/2025
[14:16:12] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:16:16] [DOC: 9294524] âœ… Text extracted using pdfplumber (13566 chars)
[14:16:16] âœ…    âœ… Text extracted using pdfplumber (13566 chars)
[14:16:16] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:16:19] â„¹ï¸  AI extracted raw sex value: ''
[14:16:19] â„¹ï¸  AI extracted service line: 'OT'
[14:16:19] â„¹ï¸  AI extracted payer source: ''
[14:16:19] â„¹ï¸  AI extracted diagnoses:
[14:16:19] â„¹ï¸    - Diagnosis 1: 'osteoporosis'
[14:16:19] â„¹ï¸    - Diagnosis 2: 'L2-L3 Fracture'
[14:16:19] â„¹ï¸    - Diagnosis 3: 'muscle weakness'
[14:16:19] â„¹ï¸    - Diagnosis 4: 'None'
[14:16:19] â„¹ï¸    - Diagnosis 5: 'None'
[14:16:19] â„¹ï¸    - Diagnosis 6: 'None'
[14:16:19] â„¹ï¸  Final extracted MRN: 'MA220425084103'
[14:16:19] â„¹ï¸  Final extracted Sex: ''
[14:16:19] â„¹ï¸  Final extracted Service Line: 'OT'
[14:16:19] â„¹ï¸  Final extracted Payer Source: ''
[14:16:19] âœ… Patient data extraction completed successfully
[14:16:19] âœ…    âœ… Patient data extracted successfully
[14:16:19] ğŸ“Š Patient Response
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: Dr. Alcaraz, Achilles Romualdo E.
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '11/12/2024', 'endOfEpisode': None, 'firstDiagnosis': 'osteoporosis', 'secondDiagnosis': 'L2-L3 Fracture', 'thirdDiagnosis': 'muscle weakness', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[14:16:19] âœ…    âœ… Patient identified: Carlos Camara
[14:16:19] âœ…    âœ… Patient name validation passed
[14:16:19] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:16:19] [DOC: 9294524] â„¹ï¸  DOB normalized: 08/08/1941
[14:16:19] [DOC: 9294524] â„¹ï¸  Episode startOfEpisode normalized: 11/12/2024
[14:16:19] [DOC: 9294524] âœ… Patient date processing completed successfully
[14:16:19] âœ…    âœ… Date processing completed
[14:16:19] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: Dr. Alcaraz, Achilles Romualdo E.
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '11/12/2024', 'firstDiagnosis': 'osteoporosis', 'secondDiagnosis': 'L2-L3 Fracture', 'thirdDiagnosis': 'muscle weakness'}]
[14:16:19] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:16:21] â„¹ï¸  Order extraction - MRN: 'MA220425084103'
[14:16:21] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:16:21] â„¹ï¸  Order extraction - Service Line: 'OT'
[14:16:21] â„¹ï¸  Order extraction - Payer Source: ''
[14:16:21] âœ… Order data extraction completed successfully
[14:16:21] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:16:21] â„¹ï¸  Using MRN from patient data: 'MA220425084103' over 'MA220425084103'
[14:16:21] â„¹ï¸  Service line consistent in both sources: 'OT'
[14:16:21] âœ… Patient name cross-validation successful
[14:16:21] âœ…    âœ… Data merged successfully
[14:16:23] âœ…    âœ… Order data extracted and validated
[14:16:23] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:16:23] [DOC: 9294524] âœ… Patient found in local cache: Carlos Camara, ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:16:23] âœ…    âœ… Existing patient found with ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:16:23] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:16:23] [DOC: 9294524] â„¹ï¸  Pushing order via API for patient ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:16:24] [DOC: 9294524] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[14:16:24] âŒ    âŒ Failed to push order
[14:16:24] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:16:24] [DOC: 9294524] â„¹ï¸  Calculated age: 83 from DOB: 08/08/1941
[14:16:24] [DOC: 9294524] â„¹ï¸  Service Line extracted: 'OT'
[14:16:24] [DOC: 9294524] â„¹ï¸  Payer Source extracted: ''
[14:16:24] [DOC: 9294524] â„¹ï¸  Diagnosis codes being written:
[14:16:24] [DOC: 9294524] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'osteoporosis'
[14:16:24] [DOC: 9294524] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'L2-L3 Fracture'
[14:16:24] [DOC: 9294524] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'muscle weakness'
[14:16:24] [DOC: 9294524] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:16:24] [DOC: 9294524] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:16:24] [DOC: 9294524] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:16:24] [DOC: 9294524] âœ… Patient data written to CSV: Carlos Camara | Sex: MALE | Age: 83 | Service: OT | Payer:  | MRN: MA220425084103
[14:16:24] âœ…    âœ… Document 9294524 processed and saved successfully
[14:16:24] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:16:24] [DOC: 9294524] â„¹ï¸  API push details saved for document 9294524
[14:16:24] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9294522                         â•‘
================================================================================
[14:16:24] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:16:24] â„¹ï¸  Date: 05/15/2025
[14:16:24] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:16:27] [DOC: 9294522] âœ… Text extracted using pdfplumber (14886 chars)
[14:16:27] âœ…    âœ… Text extracted using pdfplumber (14886 chars)
[14:16:27] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:16:30] â„¹ï¸  AI extracted raw sex value: 'M'
[14:16:30] â„¹ï¸  AI extracted service line: 'OT'
[14:16:30] â„¹ï¸  AI extracted payer source: ''
[14:16:30] â„¹ï¸  AI extracted diagnoses:
[14:16:30] â„¹ï¸    - Diagnosis 1: 'osteoporosis'
[14:16:30] â„¹ï¸    - Diagnosis 2: 'L2- L3 Fracture'
[14:16:30] â„¹ï¸    - Diagnosis 3: 'muscle weakness'
[14:16:30] â„¹ï¸    - Diagnosis 4: ''
[14:16:30] â„¹ï¸    - Diagnosis 5: ''
[14:16:30] â„¹ï¸    - Diagnosis 6: ''
[14:16:30] â„¹ï¸  Final extracted MRN: 'MA220425084103'
[14:16:30] â„¹ï¸  Final extracted Sex: 'MALE'
[14:16:30] â„¹ï¸  Final extracted Service Line: 'OT'
[14:16:30] â„¹ï¸  Final extracted Payer Source: ''
[14:16:30] âœ… Patient data extraction completed successfully
[14:16:30] âœ…    âœ… Patient data extracted successfully
[14:16:30] ğŸ“Š Patient Response
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: Dr. Alcaraz, Achilles
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST.
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '11/12/2024', 'endOfEpisode': '', 'firstDiagnosis': 'osteoporosis', 'secondDiagnosis': 'L2- L3 Fracture', 'thirdDiagnosis': 'muscle weakness', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:16:30] âœ…    âœ… Patient identified: Carlos Camara
[14:16:30] âœ…    âœ… Patient name validation passed
[14:16:30] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:16:30] [DOC: 9294522] â„¹ï¸  DOB normalized: 08/08/1941
[14:16:30] [DOC: 9294522] â„¹ï¸  Episode startOfEpisode normalized: 11/12/2024
[14:16:30] [DOC: 9294522] âœ… Patient date processing completed successfully
[14:16:30] âœ…    âœ… Date processing completed
[14:16:30] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: Dr. Alcaraz, Achilles
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST.
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '11/12/2024', 'endOfEpisode': '', 'firstDiagnosis': 'osteoporosis', 'secondDiagnosis': 'L2- L3 Fracture', 'thirdDiagnosis': 'muscle weakness', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:16:30] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:16:33] â„¹ï¸  Order extraction - MRN: 'MA220425084103'
[14:16:33] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:16:33] â„¹ï¸  Order extraction - Service Line: 'OT'
[14:16:33] â„¹ï¸  Order extraction - Payer Source: ''
[14:16:33] âœ… Order data extraction completed successfully
[14:16:33] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:16:33] â„¹ï¸  Using MRN from patient data: 'MA220425084103' over 'MA220425084103'
[14:16:33] â„¹ï¸  Service line consistent in both sources: 'OT'
[14:16:33] âœ… Patient name cross-validation successful
[14:16:33] âœ…    âœ… Data merged successfully
[14:16:34] âœ…    âœ… Order data extracted and validated
[14:16:34] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:16:34] [DOC: 9294522] âœ… Patient found in local cache: Carlos Camara, ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:16:34] âœ…    âœ… Existing patient found with ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:16:34] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:16:34] [DOC: 9294522] â„¹ï¸  Pushing order via API for patient ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:16:35] [DOC: 9294522] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[14:16:35] âŒ    âŒ Failed to push order
[14:16:35] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:16:35] [DOC: 9294522] â„¹ï¸  Calculated age: 83 from DOB: 08/08/1941
[14:16:35] [DOC: 9294522] â„¹ï¸  Service Line extracted: 'OT'
[14:16:35] [DOC: 9294522] â„¹ï¸  Payer Source extracted: ''
[14:16:35] [DOC: 9294522] â„¹ï¸  Diagnosis codes being written:
[14:16:35] [DOC: 9294522] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'osteoporosis'
[14:16:35] [DOC: 9294522] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'L2- L3 Fracture'
[14:16:35] [DOC: 9294522] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'muscle weakness'
[14:16:35] [DOC: 9294522] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:16:35] [DOC: 9294522] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:16:35] [DOC: 9294522] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:16:35] [DOC: 9294522] âœ… Patient data written to CSV: Carlos Camara | Sex: MALE | Age: 83 | Service: OT | Payer:  | MRN: MA220425084103
[14:16:35] âœ…    âœ… Document 9294522 processed and saved successfully
[14:16:35] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:16:35] [DOC: 9294522] â„¹ï¸  API push details saved for document 9294522
[14:16:35] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 2176923                         â•‘
================================================================================
[14:16:35] â„¹ï¸  Agency: Visiting Rehab & Nursing Services
[14:16:35] â„¹ï¸  Date: 05/14/2025
[14:16:35] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:16:37] [DOC: 2176923] âŒ Critical failure in get_pdf_text: Invalid response format
[14:16:37] âŒ Failed to extract text for Doc ID 2176923
[14:16:37] [DOC: 2176923] â„¹ï¸  API push details saved for document 2176923
================================================================================
â•‘                        Processing Document ID: 9293320                         â•‘
================================================================================
[14:16:37] â„¹ï¸  Agency: Guardian Home Health Care LLC - West Bridgewater
[14:16:37] â„¹ï¸  Date: 05/14/2025
[14:16:37] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:16:38] [DOC: 9293320] âœ… Text extracted using pdfplumber (1463 chars)
[14:16:38] âœ…    âœ… Text extracted using pdfplumber (1463 chars)
[14:16:38] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:16:41] â„¹ï¸  AI extracted raw sex value: 'M'
[14:16:41] â„¹ï¸  AI extracted service line: 'RN, PT'
[14:16:41] â„¹ï¸  AI extracted payer source: 'Medicaid/MA'
[14:16:41] â„¹ï¸  AI extracted diagnoses:
[14:16:41] â„¹ï¸    - Diagnosis 1: ''
[14:16:41] â„¹ï¸    - Diagnosis 2: ''
[14:16:41] â„¹ï¸    - Diagnosis 3: ''
[14:16:41] â„¹ï¸    - Diagnosis 4: ''
[14:16:41] â„¹ï¸    - Diagnosis 5: ''
[14:16:41] â„¹ï¸    - Diagnosis 6: ''
[14:16:41] â„¹ï¸  Final extracted MRN: '648005'
[14:16:41] â„¹ï¸  Final extracted Sex: 'MALE'
[14:16:41] â„¹ï¸  Final extracted Service Line: 'RN, PT'
[14:16:41] â„¹ï¸  Final extracted Payer Source: 'Medicaid/MA'
[14:16:41] âœ… Patient data extraction completed successfully
[14:16:41] âœ…    âœ… Patient data extracted successfully
[14:16:41] ğŸ“Š Patient Response
     â””â”€ patientFName: Pedro
     â””â”€ patientLName: Sousa
     â””â”€ dob: 03/29/1964
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 648005
     â””â”€ billingProvider: Theophilus Addo, MD
     â””â”€ npi: 1750479283
     â””â”€ physicianNPI: 1750479283
     â””â”€ nameOfAgency: Guardian Home Health Care, LLC
     â””â”€ address: 750 West Center St 3rd Floor
     â””â”€ city: W Bridgewater
     â””â”€ state: MA
     â””â”€ zip: 02379
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 588-5811
     â””â”€ serviceLine: RN, PT
     â””â”€ payorSource: Medicaid/MA
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/25/2025', 'startOfEpisode': '03/25/2025', 'endOfEpisode': '05/23/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:16:41] âœ…    âœ… Patient identified: Pedro Sousa
[14:16:41] âœ…    âœ… Patient name validation passed
[14:16:41] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:16:41] [DOC: 9293320] â„¹ï¸  DOB normalized: 03/29/1964
[14:16:41] [DOC: 9293320] â„¹ï¸  Episode startOfCare normalized: 03/25/2025
[14:16:41] [DOC: 9293320] â„¹ï¸  Episode startOfEpisode normalized: 03/25/2025
[14:16:41] [DOC: 9293320] â„¹ï¸  Episode endOfEpisode normalized: 05/23/2025
[14:16:41] [DOC: 9293320] âœ… Patient date processing completed successfully
[14:16:41] âœ…    âœ… Date processing completed
[14:16:41] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Pedro
     â””â”€ patientLName: Sousa
     â””â”€ dob: 03/29/1964
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 648005
     â””â”€ billingProvider: Theophilus Addo, MD
     â””â”€ npi: 1750479283
     â””â”€ physicianNPI: 1750479283
     â””â”€ nameOfAgency: Guardian Home Health Care, LLC
     â””â”€ address: 750 West Center St 3rd Floor
     â””â”€ city: W Bridgewater
     â””â”€ state: MA
     â””â”€ zip: 02379
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 588-5811
     â””â”€ serviceLine: RN, PT
     â””â”€ payorSource: Medicaid/MA
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/25/2025', 'startOfEpisode': '03/25/2025', 'endOfEpisode': '05/23/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:16:41] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:16:43] â„¹ï¸  Order extraction - MRN: '648005'
[14:16:43] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:16:43] â„¹ï¸  Order extraction - Service Line: 'RN, PT'
[14:16:43] â„¹ï¸  Order extraction - Payer Source: 'Medicaid/MA'
[14:16:43] âœ… Order data extraction completed successfully
[14:16:43] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:16:43] â„¹ï¸  Using MRN from patient data: '648005' over '648005'
[14:16:43] â„¹ï¸  Service line consistent in both sources: 'RN, PT'
[14:16:43] â„¹ï¸  Payer source consistent in both sources: 'Medicaid/MA'
[14:16:43] âœ… Patient name cross-validation successful
[14:16:43] âœ…    âœ… Data merged successfully
[14:16:45] âœ…    âœ… Order data extracted and validated
[14:16:45] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:16:45] [DOC: 9293320] âœ… Patient found in local cache: Pedro Sousa, ID: 2dc51ce5-9447-429a-994f-bc659210b701
[14:16:45] âœ…    âœ… Existing patient found with ID: 2dc51ce5-9447-429a-994f-bc659210b701
[14:16:45] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:16:45] [DOC: 9293320] â„¹ï¸  Pushing order via API for patient ID: 2dc51ce5-9447-429a-994f-bc659210b701
[14:16:46] [DOC: 9293320] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[14:16:46] âŒ    âŒ Failed to push order
[14:16:46] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:16:46] [DOC: 9293320] â„¹ï¸  Calculated age: 61 from DOB: 03/29/1964
[14:16:46] [DOC: 9293320] â„¹ï¸  Service Line extracted: 'RN, PT'
[14:16:46] [DOC: 9293320] â„¹ï¸  Payer Source extracted: 'Medicaid/MA'
[14:16:46] [DOC: 9293320] â„¹ï¸  Diagnosis codes being written:
[14:16:46] [DOC: 9293320] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[14:16:46] [DOC: 9293320] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[14:16:46] [DOC: 9293320] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[14:16:46] [DOC: 9293320] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:16:46] [DOC: 9293320] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:16:46] [DOC: 9293320] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:16:46] [DOC: 9293320] âœ… Patient data written to CSV: Pedro Sousa | Sex: MALE | Age: 61 | Service: RN, PT | Payer: Medicaid/MA | MRN: 648005
[14:16:46] âœ…    âœ… Document 9293320 processed and saved successfully
[14:16:46] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:16:46] [DOC: 9293320] â„¹ï¸  API push details saved for document 9293320
[14:16:46] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 2176795                         â•‘
================================================================================
[14:16:46] â„¹ï¸  Agency: Guardian Home Health Care LLC - West Bridgewater
[14:16:46] â„¹ï¸  Date: 05/14/2025
[14:16:46] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:16:47] [DOC: 2176795] âŒ Critical failure in get_pdf_text: Invalid response format
[14:16:47] âŒ Failed to extract text for Doc ID 2176795
[14:16:47] [DOC: 2176795] â„¹ï¸  API push details saved for document 2176795
================================================================================
â•‘                        Processing Document ID: 9291946                         â•‘
================================================================================
[14:16:47] â„¹ï¸  Agency: COMFORT HOME CARE LLC-METHUEN
[14:16:47] â„¹ï¸  Date: 05/14/2025
[14:16:47] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:16:49] [DOC: 9291946] âœ… Text extracted using pdfplumber (10460 chars)
[14:16:49] âœ…    âœ… Text extracted using pdfplumber (10460 chars)
[14:16:49] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:16:52] â„¹ï¸  AI extracted raw sex value: 'F'
[14:16:52] â„¹ï¸  AI extracted service line: 'Skilled Nursing, Medication Administration'
[14:16:52] â„¹ï¸  AI extracted payer source: 'Medicare'
[14:16:52] â„¹ï¸  AI extracted diagnoses:
[14:16:52] â„¹ï¸    - Diagnosis 1: 'F31.9'
[14:16:52] â„¹ï¸    - Diagnosis 2: 'F41.1'
[14:16:52] â„¹ï¸    - Diagnosis 3: 'F11.20'
[14:16:52] â„¹ï¸    - Diagnosis 4: 'F12.20'
[14:16:52] â„¹ï¸    - Diagnosis 5: 'I10'
[14:16:52] â„¹ï¸    - Diagnosis 6: 'J43.9'
[14:16:52] â„¹ï¸  Final extracted MRN: '8155001'
[14:16:52] â„¹ï¸  Final extracted Sex: 'FEMALE'
[14:16:52] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing, Medication Administration'
[14:16:52] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[14:16:52] âœ… Patient data extraction completed successfully
[14:16:52] âœ…    âœ… Patient data extracted successfully
[14:16:52] ğŸ“Š Patient Response
     â””â”€ patientFName: Dayna
     â””â”€ patientLName: Reynolds
     â””â”€ dob: 08/07/1962
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 8155001
     â””â”€ billingProvider: Comfort Home Care, LLC
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Comfort Home Care, LLC
     â””â”€ address: 147 Pelham Street
     â””â”€ city: Methuen
     â””â”€ state: MA
     â””â”€ zip: 01844
     â””â”€ email: 
     â””â”€ phoneNumber: (617) 242-1000
     â””â”€ serviceLine: Skilled Nursing, Medication Administration
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '11/28/2020', 'startOfEpisode': '05/06/2025', 'endOfEpisode': '07/04/2025', 'firstDiagnosis': 'F31.9', 'secondDiagnosis': 'F41.1', 'thirdDiagnosis': 'F11.20', 'fourthDiagnosis': 'F12.20', 'fifthDiagnosis': 'I10', 'sixthDiagnosis': 'J43.9'}]
[14:16:52] âœ…    âœ… Patient identified: Dayna Reynolds
[14:16:52] âœ…    âœ… Patient name validation passed
[14:16:52] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:16:52] [DOC: 9291946] â„¹ï¸  DOB normalized: 08/07/1962
[14:16:52] [DOC: 9291946] â„¹ï¸  Episode startOfCare normalized: 11/28/2020
[14:16:52] [DOC: 9291946] â„¹ï¸  Episode startOfEpisode normalized: 05/06/2025
[14:16:52] [DOC: 9291946] â„¹ï¸  Episode endOfEpisode normalized: 07/04/2025
[14:16:52] [DOC: 9291946] âœ… Patient date processing completed successfully
[14:16:52] âœ…    âœ… Date processing completed
[14:16:52] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Dayna
     â””â”€ patientLName: Reynolds
     â””â”€ dob: 08/07/1962
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 8155001
     â””â”€ billingProvider: Comfort Home Care, LLC
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Comfort Home Care, LLC
     â””â”€ address: 147 Pelham Street
     â””â”€ city: Methuen
     â””â”€ state: MA
     â””â”€ zip: 01844
     â””â”€ email: 
     â””â”€ phoneNumber: (617) 242-1000
     â””â”€ serviceLine: Skilled Nursing, Medication Administration
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '11/28/2020', 'startOfEpisode': '05/06/2025', 'endOfEpisode': '07/04/2025', 'firstDiagnosis': 'F31.9', 'secondDiagnosis': 'F41.1', 'thirdDiagnosis': 'F11.20', 'fourthDiagnosis': 'F12.20', 'fifthDiagnosis': 'I10', 'sixthDiagnosis': 'J43.9'}]
[14:16:52] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:16:55] â„¹ï¸  Order extraction - MRN: '100011627302'
[14:16:55] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[14:16:55] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing,  Medication Administration'
[14:16:55] â„¹ï¸  Order extraction - Payer Source: ''
[14:16:55] âœ… Order data extraction completed successfully
[14:16:55] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:16:55] â„¹ï¸  Using longer MRN from order data: '100011627302' over '8155001'
[14:16:55] â„¹ï¸  Combined service lines: Patient='Skilled Nursing, Medication Administration' + Order='Skilled Nursing,  Medication Administration' = 'Medication Administration, Skilled Nursing'
[14:16:55] â„¹ï¸  Using payer source from patient data: 'Medicare'
[14:16:55] âœ… Patient name cross-validation successful
[14:16:55] âœ…    âœ… Data merged successfully
[14:16:56] âœ…    âœ… Order data extracted and validated
[14:16:56] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:17:01] [DOC: 9291946] âœ… Patient exists in API: Dayna Reynolds, ID: 0c5f3109-b478-4705-9088-358811944271
[14:17:01] âœ…    âœ… Existing patient found with ID: 0c5f3109-b478-4705-9088-358811944271
[14:17:01] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:17:01] [DOC: 9291946] â„¹ï¸  Pushing order via API for patient ID: 0c5f3109-b478-4705-9088-358811944271
[14:17:02] [DOC: 9291946] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[14:17:02] âŒ    âŒ Failed to push order
[14:17:02] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:17:02] [DOC: 9291946] â„¹ï¸  Calculated age: 62 from DOB: 08/07/1962
[14:17:02] [DOC: 9291946] â„¹ï¸  Service Line extracted: 'Medication Administration, Skilled Nursing'
[14:17:02] [DOC: 9291946] â„¹ï¸  Payer Source extracted: 'Medicare'
[14:17:02] [DOC: 9291946] â„¹ï¸  Diagnosis codes being written:
[14:17:02] [DOC: 9291946] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'F31.9'
[14:17:02] [DOC: 9291946] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'F41.1'
[14:17:02] [DOC: 9291946] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'F11.20'
[14:17:02] [DOC: 9291946] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'F12.20'
[14:17:02] [DOC: 9291946] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'I10'
[14:17:02] [DOC: 9291946] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'J43.9'
[14:17:02] [DOC: 9291946] âœ… Patient data written to CSV: Dayna Reynolds | Sex: FEMALE | Age: 62 | Service: Medication Administration, Skilled Nursing | Payer: Medicare | MRN: 100011627302
[14:17:02] âœ…    âœ… Document 9291946 processed and saved successfully
[14:17:02] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:17:02] [DOC: 9291946] â„¹ï¸  API push details saved for document 9291946
[14:17:02] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9291478                         â•‘
================================================================================
[14:17:02] â„¹ï¸  Agency: All At Home Health Care-Allston
[14:17:02] â„¹ï¸  Date: 05/13/2025
[14:17:02] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:17:04] [DOC: 9291478] âœ… Text extracted using pdfplumber (2137 chars)
[14:17:04] âœ…    âœ… Text extracted using pdfplumber (2137 chars)
[14:17:04] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:17:07] â„¹ï¸  AI extracted raw sex value: ''
[14:17:07] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[14:17:07] â„¹ï¸  AI extracted payer source: ''
[14:17:07] â„¹ï¸  AI extracted diagnoses:
[14:17:07] â„¹ï¸    - Diagnosis 1: ''
[14:17:07] â„¹ï¸    - Diagnosis 2: ''
[14:17:07] â„¹ï¸    - Diagnosis 3: ''
[14:17:07] â„¹ï¸    - Diagnosis 4: ''
[14:17:07] â„¹ï¸    - Diagnosis 5: ''
[14:17:07] â„¹ï¸    - Diagnosis 6: ''
[14:17:07] â„¹ï¸  Final extracted MRN: ''
[14:17:07] â„¹ï¸  Final extracted Sex: ''
[14:17:07] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[14:17:07] â„¹ï¸  Final extracted Payer Source: ''
[14:17:07] âœ… Patient data extraction completed successfully
[14:17:07] âœ…    âœ… Patient data extracted successfully
[14:17:07] ğŸ“Š Patient Response
     â””â”€ patientFName: Jose
     â””â”€ patientLName: Desousa
     â””â”€ dob: 12/31/1944
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: 
     â””â”€ billingProvider: Achilles Romualdo Alcaraz, MD
     â””â”€ npi: 1720386378
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: All At Home Health Care
     â””â”€ address: 531 Faunce Corner Rd
     â””â”€ city: North Dartmouth
     â””â”€ state: MA
     â””â”€ zip: 02747
     â””â”€ email: olsa.rusha@allathomehealth.com
     â””â”€ phoneNumber: (508) 496-8539
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '05/01/2025', 'startOfEpisode': '05/01/2025', 'endOfEpisode': '06/29/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:17:07] âœ…    âœ… Patient identified: Jose Desousa
[14:17:07] âœ…    âœ… Patient name validation passed
[14:17:07] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:17:07] [DOC: 9291478] â„¹ï¸  DOB normalized: 12/31/1944
[14:17:07] [DOC: 9291478] â„¹ï¸  Episode startOfCare normalized: 05/01/2025
[14:17:07] [DOC: 9291478] â„¹ï¸  Episode startOfEpisode normalized: 05/01/2025
[14:17:07] [DOC: 9291478] â„¹ï¸  Episode endOfEpisode normalized: 06/29/2025
[14:17:07] [DOC: 9291478] âœ… Patient date processing completed successfully
[14:17:07] âœ…    âœ… Date processing completed
[14:17:07] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Jose
     â””â”€ patientLName: Desousa
     â””â”€ dob: 12/31/1944
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: 
     â””â”€ billingProvider: Achilles Romualdo Alcaraz, MD
     â””â”€ npi: 1720386378
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: All At Home Health Care
     â””â”€ address: 531 Faunce Corner Rd
     â””â”€ city: North Dartmouth
     â””â”€ state: MA
     â””â”€ zip: 02747
     â””â”€ email: olsa.rusha@allathomehealth.com
     â””â”€ phoneNumber: (508) 496-8539
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '05/01/2025', 'startOfEpisode': '05/01/2025', 'endOfEpisode': '06/29/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:17:07] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:17:09] â„¹ï¸  Order extraction - MRN: ''
[14:17:09] â„¹ï¸  Order extraction - Sex: ''
[14:17:09] â„¹ï¸  Order extraction - Service Line: 'SN'
[14:17:09] â„¹ï¸  Order extraction - Payer Source: ''
[14:17:09] âœ… Order data extraction completed successfully
[14:17:09] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:17:09] âš ï¸  No MRN found in either patient or order data
[14:17:09] âš ï¸  Could not determine sex using any available method
[14:17:09] â„¹ï¸  Combined service lines: Patient='Skilled Nursing' + Order='SN' = 'SN, Skilled Nursing'
[14:17:09] âœ… Patient name cross-validation successful
[14:17:09] âœ…    âœ… Data merged successfully
[14:17:11] âœ…    âœ… Order data extracted and validated
[14:17:11] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:17:17] [DOC: 9291478] âœ… Patient exists in API: Jose Desousa, ID: 71ef55b4-d5f6-40f1-a38f-328b2eae1b43
[14:17:17] âœ…    âœ… Existing patient found with ID: 71ef55b4-d5f6-40f1-a38f-328b2eae1b43
[14:17:17] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:17:17] [DOC: 9291478] â„¹ï¸  Pushing order via API for patient ID: 71ef55b4-d5f6-40f1-a38f-328b2eae1b43
[14:17:18] [DOC: 9291478] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[14:17:18] âŒ    âŒ Failed to push order
[14:17:18] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:17:18] [DOC: 9291478] â„¹ï¸  Calculated age: 80 from DOB: 12/31/1944
[14:17:18] [DOC: 9291478] â„¹ï¸  Service Line extracted: 'SN, Skilled Nursing'
[14:17:18] [DOC: 9291478] â„¹ï¸  Payer Source extracted: ''
[14:17:18] [DOC: 9291478] â„¹ï¸  Diagnosis codes being written:
[14:17:18] [DOC: 9291478] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[14:17:18] [DOC: 9291478] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[14:17:18] [DOC: 9291478] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[14:17:18] [DOC: 9291478] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:17:18] [DOC: 9291478] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:17:18] [DOC: 9291478] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:17:18] [DOC: 9291478] âœ… Patient data written to CSV: Jose Desousa | Sex:  | Age: 80 | Service: SN, Skilled Nursing | Payer:  | MRN: 
[14:17:18] âœ…    âœ… Document 9291478 processed and saved successfully
[14:17:18] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:17:18] [DOC: 9291478] â„¹ï¸  API push details saved for document 9291478
[14:17:18] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9291474                         â•‘
================================================================================
[14:17:18] â„¹ï¸  Agency: All At Home Health Care-Allston
[14:17:18] â„¹ï¸  Date: 05/13/2025
[14:17:18] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:17:22] [DOC: 9291474] âœ… Text extracted using pdfplumber (16437 chars)
[14:17:22] âœ…    âœ… Text extracted using pdfplumber (16437 chars)
[14:17:22] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:17:26] â„¹ï¸  AI extracted raw sex value: 'M'
[14:17:26] â„¹ï¸  AI extracted service line: 'Skilled Nursing, Physical Therapy'
[14:17:26] â„¹ï¸  AI extracted payer source: ''
[14:17:26] â„¹ï¸  AI extracted diagnoses:
[14:17:26] â„¹ï¸    - Diagnosis 1: 'G20.B1'
[14:17:26] â„¹ï¸    - Diagnosis 2: 'I95.1'
[14:17:26] â„¹ï¸    - Diagnosis 3: 'I12.9'
[14:17:26] â„¹ï¸    - Diagnosis 4: 'N18.31'
[14:17:26] â„¹ï¸    - Diagnosis 5: 'G70.00'
[14:17:26] â„¹ï¸    - Diagnosis 6: 'K59.04'
[14:17:26] â„¹ï¸  Final extracted MRN: '1827'
[14:17:26] â„¹ï¸  Final extracted Sex: 'MALE'
[14:17:26] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing, Physical Therapy'
[14:17:26] â„¹ï¸  Final extracted Payer Source: ''
[14:17:26] âœ… Patient data extraction completed successfully
[14:17:26] âœ…    âœ… Patient data extracted successfully
[14:17:26] ğŸ“Š Patient Response
     â””â”€ patientFName: Jose
     â””â”€ patientLName: Desousa
     â””â”€ dob: 12/31/1944
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 1827
     â””â”€ billingProvider: All At Home Health Care
     â””â”€ npi: 1720386378
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: All At Home Health Care
     â””â”€ address: 371 Earle St Apt 1
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02746
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 496-8539
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '05/01/2025', 'startOfEpisode': '05/01/2025', 'endOfEpisode': '06/29/2025', 'firstDiagnosis': 'G20.B1', 'secondDiagnosis': 'I95.1', 'thirdDiagnosis': 'I12.9', 'fourthDiagnosis': 'N18.31', 'fifthDiagnosis': 'G70.00', 'sixthDiagnosis': 'K59.04'}]
[14:17:26] âœ…    âœ… Patient identified: Jose Desousa
[14:17:26] âœ…    âœ… Patient name validation passed
[14:17:26] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:17:26] [DOC: 9291474] â„¹ï¸  DOB normalized: 12/31/1944
[14:17:26] [DOC: 9291474] â„¹ï¸  Episode startOfCare normalized: 05/01/2025
[14:17:26] [DOC: 9291474] â„¹ï¸  Episode startOfEpisode normalized: 05/01/2025
[14:17:26] [DOC: 9291474] â„¹ï¸  Episode endOfEpisode normalized: 06/29/2025
[14:17:26] [DOC: 9291474] âœ… Patient date processing completed successfully
[14:17:26] âœ…    âœ… Date processing completed
[14:17:26] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Jose
     â””â”€ patientLName: Desousa
     â””â”€ dob: 12/31/1944
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 1827
     â””â”€ billingProvider: All At Home Health Care
     â””â”€ npi: 1720386378
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: All At Home Health Care
     â””â”€ address: 371 Earle St Apt 1
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02746
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 496-8539
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '05/01/2025', 'startOfEpisode': '05/01/2025', 'endOfEpisode': '06/29/2025', 'firstDiagnosis': 'G20.B1', 'secondDiagnosis': 'I95.1', 'thirdDiagnosis': 'I12.9', 'fourthDiagnosis': 'N18.31', 'fifthDiagnosis': 'G70.00', 'sixthDiagnosis': 'K59.04'}]
[14:17:26] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:17:28] â„¹ï¸  Order extraction - MRN: '1827'
[14:17:28] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:17:28] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing, Physical Therapy'
[14:17:28] â„¹ï¸  Order extraction - Payer Source: ''
[14:17:28] âœ… Order data extraction completed successfully
[14:17:28] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:17:28] â„¹ï¸  Using MRN from patient data: '1827' over '1827'
[14:17:28] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing, Physical Therapy'
[14:17:28] âœ… Patient name cross-validation successful
[14:17:28] âœ…    âœ… Data merged successfully
[14:17:30] âœ…    âœ… Order data extracted and validated
[14:17:30] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:17:30] [DOC: 9291474] âœ… Patient found in local cache: Jose Desousa, ID: 71ef55b4-d5f6-40f1-a38f-328b2eae1b43
[14:17:30] âœ…    âœ… Existing patient found with ID: 71ef55b4-d5f6-40f1-a38f-328b2eae1b43
[14:17:30] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:17:30] [DOC: 9291474] â„¹ï¸  Pushing order via API for patient ID: 71ef55b4-d5f6-40f1-a38f-328b2eae1b43
[14:17:31] [DOC: 9291474] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[14:17:31] âŒ    âŒ Failed to push order
[14:17:31] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:17:31] [DOC: 9291474] â„¹ï¸  Calculated age: 80 from DOB: 12/31/1944
[14:17:31] [DOC: 9291474] â„¹ï¸  Service Line extracted: 'Skilled Nursing, Physical Therapy'
[14:17:31] [DOC: 9291474] â„¹ï¸  Payer Source extracted: ''
[14:17:31] [DOC: 9291474] â„¹ï¸  Diagnosis codes being written:
[14:17:31] [DOC: 9291474] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'G20.B1'
[14:17:31] [DOC: 9291474] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'I95.1'
[14:17:31] [DOC: 9291474] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'I12.9'
[14:17:31] [DOC: 9291474] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'N18.31'
[14:17:31] [DOC: 9291474] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'G70.00'
[14:17:31] [DOC: 9291474] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'K59.04'
[14:17:31] [DOC: 9291474] âœ… Patient data written to CSV: Jose Desousa | Sex: MALE | Age: 80 | Service: Skilled Nursing, Physical Therapy | Payer:  | MRN: 1827
[14:17:31] âœ…    âœ… Document 9291474 processed and saved successfully
[14:17:31] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:17:31] [DOC: 9291474] â„¹ï¸  API push details saved for document 9291474
[14:17:31] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9289670                         â•‘
================================================================================
[14:17:31] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:17:31] â„¹ï¸  Date: 05/13/2025
[14:17:31] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:17:34] [DOC: 9289670] âœ… Text extracted using pdfplumber (16372 chars)
[14:17:34] âœ…    âœ… Text extracted using pdfplumber (16360 chars)
[14:17:34] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:17:38] â„¹ï¸  AI extracted raw sex value: 'M'
[14:17:38] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[14:17:38] â„¹ï¸  AI extracted payer source: 'Private Pay'
[14:17:38] â„¹ï¸  AI extracted diagnoses:
[14:17:38] â„¹ï¸    - Diagnosis 1: 'I13.0'
[14:17:38] â„¹ï¸    - Diagnosis 2: 'I50.32'
[14:17:38] â„¹ï¸    - Diagnosis 3: 'N18.31'
[14:17:38] â„¹ï¸    - Diagnosis 4: 'D63.1'
[14:17:38] â„¹ï¸    - Diagnosis 5: 'L89.312'
[14:17:38] â„¹ï¸    - Diagnosis 6: 'M47.26'
[14:17:38] â„¹ï¸  Final extracted MRN: 'MA240214024201'
[14:17:38] â„¹ï¸  Final extracted Sex: 'MALE'
[14:17:38] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[14:17:38] â„¹ï¸  Final extracted Payer Source: 'Private Pay'
[14:17:38] âœ… Patient data extraction completed successfully
[14:17:38] âœ…    âœ… Patient data extracted successfully
[14:17:38] ğŸ“Š Patient Response
     â””â”€ patientFName: Charles
     â””â”€ patientLName: Gaspar
     â””â”€ dob: 02/28/1942
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: MA240214024201
     â””â”€ billingProvider: Marshman, Dannielle
     â””â”€ npi: 1881923936
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 237 Ryan St
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02740
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 991-2172
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Private Pay
     â””â”€ episodeDiagnoses: [{'startOfCare': '09/13/2024', 'startOfEpisode': '05/11/2025', 'endOfEpisode': '07/09/2025', 'firstDiagnosis': 'I13.0', 'secondDiagnosis': 'I50.32', 'thirdDiagnosis': 'N18.31', 'fourthDiagnosis': 'D63.1', 'fifthDiagnosis': 'L89.312', 'sixthDiagnosis': 'M47.26'}]
[14:17:38] âœ…    âœ… Patient identified: Charles Gaspar
[14:17:38] âœ…    âœ… Patient name validation passed
[14:17:38] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:17:38] [DOC: 9289670] â„¹ï¸  DOB normalized: 02/28/1942
[14:17:38] [DOC: 9289670] â„¹ï¸  Episode startOfCare normalized: 09/13/2024
[14:17:38] [DOC: 9289670] â„¹ï¸  Episode startOfEpisode normalized: 05/11/2025
[14:17:38] [DOC: 9289670] â„¹ï¸  Episode endOfEpisode normalized: 07/09/2025
[14:17:38] [DOC: 9289670] âœ… Patient date processing completed successfully
[14:17:38] âœ…    âœ… Date processing completed
[14:17:38] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Charles
     â””â”€ patientLName: Gaspar
     â””â”€ dob: 02/28/1942
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: MA240214024201
     â””â”€ billingProvider: Marshman, Dannielle
     â””â”€ npi: 1881923936
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 237 Ryan St
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02740
     â””â”€ phoneNumber: (508) 991-2172
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Private Pay
     â””â”€ episodeDiagnoses: [{'startOfCare': '09/13/2024', 'startOfEpisode': '05/11/2025', 'endOfEpisode': '07/09/2025', 'firstDiagnosis': 'I13.0', 'secondDiagnosis': 'I50.32', 'thirdDiagnosis': 'N18.31', 'fourthDiagnosis': 'D63.1', 'fifthDiagnosis': 'L89.312', 'sixthDiagnosis': 'M47.26'}]
[14:17:38] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:17:40] â„¹ï¸  Order extraction - MRN: 'MA240214024201'
[14:17:40] â„¹ï¸  Order extraction - Sex: 'MALE'
[14:17:40] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[14:17:40] â„¹ï¸  Order extraction - Payer Source: 'Private Pay'
[14:17:40] âœ… Order data extraction completed successfully
[14:17:40] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:17:40] â„¹ï¸  Using MRN from patient data: 'MA240214024201' over 'MA240214024201'
[14:17:40] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing'
[14:17:40] â„¹ï¸  Payer source consistent in both sources: 'Private Pay'
[14:17:40] âœ… Patient name cross-validation successful
[14:17:40] âœ…    âœ… Data merged successfully
[14:17:42] âœ…    âœ… Order data extracted and validated
[14:17:42] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:17:54] [DOC: 9289670] âœ… Patient exists in API: Charles Gaspar, ID: 876abdb3-5fa6-4c38-a4b6-a838b1d703e7
[14:17:54] âœ…    âœ… Existing patient found with ID: 876abdb3-5fa6-4c38-a4b6-a838b1d703e7
[14:17:54] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:17:54] [DOC: 9289670] â„¹ï¸  Pushing order via API for patient ID: 876abdb3-5fa6-4c38-a4b6-a838b1d703e7
[14:17:55] [DOC: 9289670] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13771"}
[14:17:55] âŒ    âŒ Failed to push order
[14:17:55] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:17:55] [DOC: 9289670] â„¹ï¸  Calculated age: 83 from DOB: 02/28/1942
[14:17:55] [DOC: 9289670] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[14:17:55] [DOC: 9289670] â„¹ï¸  Payer Source extracted: 'Private Pay'
[14:17:55] [DOC: 9289670] â„¹ï¸  Diagnosis codes being written:
[14:17:55] [DOC: 9289670] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'I13.0'
[14:17:55] [DOC: 9289670] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'I50.32'
[14:17:55] [DOC: 9289670] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'N18.31'
[14:17:55] [DOC: 9289670] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'D63.1'
[14:17:55] [DOC: 9289670] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'L89.312'
[14:17:55] [DOC: 9289670] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'M47.26'
[14:17:55] [DOC: 9289670] âœ… Patient data written to CSV: Charles Gaspar | Sex: MALE | Age: 83 | Service: Skilled Nursing | Payer: Private Pay | MRN: MA240214024201
[14:17:55] âœ…    âœ… Document 9289670 processed and saved successfully
[14:17:55] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:17:55] [DOC: 9289670] â„¹ï¸  API push details saved for document 9289670
[14:17:55] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9289776                         â•‘
================================================================================
[14:17:55] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:17:55] â„¹ï¸  Date: 05/13/2025
[14:17:55] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:17:57] [DOC: 9289776] âœ… Text extracted using pdfplumber (9427 chars)
[14:17:57] âœ…    âœ… Text extracted using pdfplumber (9415 chars)
[14:17:57] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:18:01] â„¹ï¸  AI extracted raw sex value: 'F'
[14:18:01] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[14:18:01] â„¹ï¸  AI extracted payer source: 'Medicare'
[14:18:01] â„¹ï¸  AI extracted diagnoses:
[14:18:01] â„¹ï¸    - Diagnosis 1: 'F32.A'
[14:18:01] â„¹ï¸    - Diagnosis 2: 'F41.9'
[14:18:01] â„¹ï¸    - Diagnosis 3: 'J44.9'
[14:18:01] â„¹ï¸    - Diagnosis 4: 'I10'
[14:18:01] â„¹ï¸    - Diagnosis 5: 'M47.816'
[14:18:01] â„¹ï¸    - Diagnosis 6: 'M81.0'
[14:18:01] â„¹ï¸  Final extracted MRN: 'MA230315023303'
[14:18:01] â„¹ï¸  Final extracted Sex: 'FEMALE'
[14:18:01] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[14:18:01] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[14:18:01] âœ… Patient data extraction completed successfully
[14:18:01] âœ…    âœ… Patient data extracted successfully
[14:18:01] ğŸ“Š Patient Response
     â””â”€ patientFName: Alice
     â””â”€ patientLName: Frates
     â””â”€ dob: 02/13/1933
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: MA230315023303
     â””â”€ billingProvider: POTHIER, JAHN MD
     â””â”€ npi: 1962478966
     â””â”€ physicianNPI: 1962478966
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 108 Coggeshall St
     â””â”€ city: North Dartmouth
     â””â”€ state: MA
     â””â”€ zip: 02747
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 995-4755
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '07/08/2023', 'startOfEpisode': '04/28/2025', 'endOfEpisode': '06/26/2025', 'firstDiagnosis': 'F32.A', 'secondDiagnosis': 'F41.9', 'thirdDiagnosis': 'J44.9', 'fourthDiagnosis': 'I10', 'fifthDiagnosis': 'M47.816', 'sixthDiagnosis': 'M81.0'}]
[14:18:01] âœ…    âœ… Patient identified: Alice Frates
[14:18:01] âœ…    âœ… Patient name validation passed
[14:18:01] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:18:01] [DOC: 9289776] â„¹ï¸  DOB normalized: 02/13/1933
[14:18:01] [DOC: 9289776] â„¹ï¸  Episode startOfCare normalized: 07/08/2023
[14:18:01] [DOC: 9289776] â„¹ï¸  Episode startOfEpisode normalized: 04/28/2025
[14:18:01] [DOC: 9289776] â„¹ï¸  Episode endOfEpisode normalized: 06/26/2025
[14:18:01] [DOC: 9289776] âœ… Patient date processing completed successfully
[14:18:01] âœ…    âœ… Date processing completed
[14:18:01] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Alice
     â””â”€ patientLName: Frates
     â””â”€ dob: 02/13/1933
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: MA230315023303
     â””â”€ billingProvider: POTHIER, JAHN MD
     â””â”€ npi: 1962478966
     â””â”€ physicianNPI: 1962478966
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 108 Coggeshall St
     â””â”€ city: North Dartmouth
     â””â”€ state: MA
     â””â”€ zip: 02747
     â””â”€ phoneNumber: (508) 995-4755
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '07/08/2023', 'startOfEpisode': '04/28/2025', 'endOfEpisode': '06/26/2025', 'firstDiagnosis': 'F32.A', 'secondDiagnosis': 'F41.9', 'thirdDiagnosis': 'J44.9', 'fourthDiagnosis': 'I10', 'fifthDiagnosis': 'M47.816', 'sixthDiagnosis': 'M81.0'}]
[14:18:01] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:18:03] â„¹ï¸  Order extraction - MRN: 'MA230315023303'
[14:18:03] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[14:18:03] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[14:18:03] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[14:18:03] âœ… Order data extraction completed successfully
[14:18:03] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:18:03] â„¹ï¸  Using MRN from patient data: 'MA230315023303' over 'MA230315023303'
[14:18:03] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing'
[14:18:03] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[14:18:03] âœ… Patient name cross-validation successful
[14:18:03] âœ…    âœ… Data merged successfully
[14:18:05] âœ…    âœ… Order data extracted and validated
[14:18:05] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:18:29] [DOC: 9289776] âœ… Patient exists in API: Alice Frates, ID: cbfbad22-0f9a-45e1-92c5-4b239b4ea390
[14:18:29] âœ…    âœ… Existing patient found with ID: cbfbad22-0f9a-45e1-92c5-4b239b4ea390
[14:18:29] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:18:29] [DOC: 9289776] â„¹ï¸  Pushing order via API for patient ID: cbfbad22-0f9a-45e1-92c5-4b239b4ea390
[14:18:30] [DOC: 9289776] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12907"}
[14:18:30] âŒ    âŒ Failed to push order
[14:18:30] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:18:30] [DOC: 9289776] â„¹ï¸  Calculated age: 92 from DOB: 02/13/1933
[14:18:30] [DOC: 9289776] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[14:18:30] [DOC: 9289776] â„¹ï¸  Payer Source extracted: 'Medicare'
[14:18:30] [DOC: 9289776] â„¹ï¸  Diagnosis codes being written:
[14:18:30] [DOC: 9289776] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'F32.A'
[14:18:30] [DOC: 9289776] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'F41.9'
[14:18:30] [DOC: 9289776] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'J44.9'
[14:18:30] [DOC: 9289776] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'I10'
[14:18:30] [DOC: 9289776] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'M47.816'
[14:18:30] [DOC: 9289776] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'M81.0'
[14:18:30] [DOC: 9289776] âœ… Patient data written to CSV: Alice Frates | Sex: FEMALE | Age: 92 | Service: Skilled Nursing | Payer: Medicare | MRN: MA230315023303
[14:18:30] âœ…    âœ… Document 9289776 processed and saved successfully
[14:18:30] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:18:30] [DOC: 9289776] â„¹ï¸  API push details saved for document 9289776
[14:18:30] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9287259                         â•‘
================================================================================
[14:18:30] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:18:30] â„¹ï¸  Date: 05/12/2025
[14:18:30] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:18:32] [DOC: 9287259] âœ… Text extracted using pdfplumber (1280 chars)
[14:18:32] âœ…    âœ… Text extracted using pdfplumber (1268 chars)
[14:18:32] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:18:35] â„¹ï¸  AI extracted raw sex value: ''
[14:18:35] â„¹ï¸  AI extracted service line: 'Occupational Therapy'
[14:18:35] â„¹ï¸  AI extracted payer source: ''
[14:18:35] â„¹ï¸  AI extracted diagnoses:
[14:18:35] â„¹ï¸    - Diagnosis 1: 'M17.0'
[14:18:35] â„¹ï¸    - Diagnosis 2: 'L29.89'
[14:18:35] â„¹ï¸    - Diagnosis 3: 'H54.3'
[14:18:35] â„¹ï¸    - Diagnosis 4: 'None'
[14:18:35] â„¹ï¸    - Diagnosis 5: 'None'
[14:18:35] â„¹ï¸    - Diagnosis 6: 'None'
[14:18:35] â„¹ï¸  Final extracted MRN: 'MA230914084702'
[14:18:35] â„¹ï¸  Final extracted Sex: ''
[14:18:35] â„¹ï¸  Final extracted Service Line: 'Occupational Therapy'
[14:18:35] â„¹ï¸  Final extracted Payer Source: ''
[14:18:35] âœ… Patient data extraction completed successfully
[14:18:35] âœ…    âœ… Patient data extracted successfully
[14:18:35] ğŸ“Š Patient Response
     â””â”€ patientFName: Nancy
     â””â”€ patientLName: Starr
     â””â”€ dob: 08/22/1947
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA230914084702
     â””â”€ billingProvider: Ahmet Dirican MD
     â””â”€ npi: 1396723813
     â””â”€ physicianNPI: 1396723813
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '05/05/2025', 'endOfEpisode': '07/03/2025', 'firstDiagnosis': 'M17.0', 'secondDiagnosis': 'L29.89', 'thirdDiagnosis': 'H54.3', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[14:18:35] âœ…    âœ… Patient identified: Nancy Starr
[14:18:35] âœ…    âœ… Patient name validation passed
[14:18:35] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:18:35] [DOC: 9287259] â„¹ï¸  DOB normalized: 08/22/1947
[14:18:35] [DOC: 9287259] â„¹ï¸  Episode startOfEpisode normalized: 05/05/2025
[14:18:35] [DOC: 9287259] â„¹ï¸  Episode endOfEpisode normalized: 07/03/2025
[14:18:35] [DOC: 9287259] âœ… Patient date processing completed successfully
[14:18:35] âœ…    âœ… Date processing completed
[14:18:35] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Nancy
     â””â”€ patientLName: Starr
     â””â”€ dob: 08/22/1947
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA230914084702
     â””â”€ billingProvider: Ahmet Dirican MD
     â””â”€ npi: 1396723813
     â””â”€ physicianNPI: 1396723813
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '05/05/2025', 'endOfEpisode': '07/03/2025', 'firstDiagnosis': 'M17.0', 'secondDiagnosis': 'L29.89', 'thirdDiagnosis': 'H54.3'}]
[14:18:35] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:18:38] â„¹ï¸  Order extraction - MRN: 'MA230914084702'
[14:18:38] â„¹ï¸  Order extraction - Sex: ''
[14:18:38] â„¹ï¸  Order extraction - Service Line: 'Occupational Therapy'
[14:18:38] â„¹ï¸  Order extraction - Payer Source: ''
[14:18:38] âœ… Order data extraction completed successfully
[14:18:38] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:18:38] â„¹ï¸  Using MRN from patient data: 'MA230914084702' over 'MA230914084702'
[14:18:38] â„¹ï¸  Inferred sex as FEMALE from name: Nancy
[14:18:38] â„¹ï¸  Service line consistent in both sources: 'Occupational Therapy'
[14:18:38] âœ… Patient name cross-validation successful
[14:18:38] âœ…    âœ… Data merged successfully
[14:18:39] âœ…    âœ… Order data extracted and validated
[14:18:39] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:18:48] [DOC: 9287259] âœ… Patient exists in API: Nancy Starr, ID: 18cbbb2e-3dff-4e63-b1de-1aae171650c1
[14:18:48] âœ…    âœ… Existing patient found with ID: 18cbbb2e-3dff-4e63-b1de-1aae171650c1
[14:18:48] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:18:48] [DOC: 9287259] â„¹ï¸  Pushing order via API for patient ID: 18cbbb2e-3dff-4e63-b1de-1aae171650c1
[14:18:49] [DOC: 9287259] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14449"}
[14:18:49] âŒ    âŒ Failed to push order
[14:18:49] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:18:49] [DOC: 9287259] â„¹ï¸  Calculated age: 77 from DOB: 08/22/1947
[14:18:49] [DOC: 9287259] â„¹ï¸  Service Line extracted: 'Occupational Therapy'
[14:18:49] [DOC: 9287259] â„¹ï¸  Payer Source extracted: ''
[14:18:49] [DOC: 9287259] â„¹ï¸  Diagnosis codes being written:
[14:18:49] [DOC: 9287259] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'M17.0'
[14:18:49] [DOC: 9287259] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'L29.89'
[14:18:49] [DOC: 9287259] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'H54.3'
[14:18:49] [DOC: 9287259] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:18:49] [DOC: 9287259] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:18:49] [DOC: 9287259] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:18:49] [DOC: 9287259] âœ… Patient data written to CSV: Nancy Starr | Sex: FEMALE | Age: 77 | Service: Occupational Therapy | Payer:  | MRN: MA230914084702
[14:18:49] âœ…    âœ… Document 9287259 processed and saved successfully
[14:18:49] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:18:49] [DOC: 9287259] â„¹ï¸  API push details saved for document 9287259
[14:18:49] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9287159                         â•‘
================================================================================
[14:18:49] â„¹ï¸  Agency: Dartmouth HH
[14:18:49] â„¹ï¸  Date: 05/12/2025
[14:18:49] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:18:52] [DOC: 9287159] âœ… Text extracted using pdfplumber (12592 chars)
[14:18:52] âœ…    âœ… Text extracted using pdfplumber (12592 chars)
[14:18:52] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:18:55] â„¹ï¸  AI extracted raw sex value: 'F'
[14:18:55] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[14:18:55] â„¹ï¸  AI extracted payer source: 'Medicaid/MA'
[14:18:55] â„¹ï¸  AI extracted diagnoses:
[14:18:55] â„¹ï¸    - Diagnosis 1: 'M79.605'
[14:18:55] â„¹ï¸    - Diagnosis 2: 'C49.21'
[14:18:55] â„¹ï¸    - Diagnosis 3: 'T45.1X5D'
[14:18:55] â„¹ï¸    - Diagnosis 4: 'K12.31'
[14:18:55] â„¹ï¸    - Diagnosis 5: 'K92.81'
[14:18:55] â„¹ï¸    - Diagnosis 6: 'N76.81'
[14:18:55] â„¹ï¸  Final extracted MRN: '5391015'
[14:18:55] â„¹ï¸  Final extracted Sex: 'FEMALE'
[14:18:55] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[14:18:55] â„¹ï¸  Final extracted Payer Source: 'Medicaid/MA'
[14:18:55] âœ… Patient data extraction completed successfully
[14:18:55] âœ…    âœ… Patient data extracted successfully
[14:18:55] ğŸ“Š Patient Response
     â””â”€ patientFName: Maribel
     â””â”€ patientLName: Pena
     â””â”€ dob: 09/16/1994
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 5391015
     â””â”€ billingProvider: Achilles Romualdo E Alcaraz, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicaid/MA
     â””â”€ episodeDiagnoses: [{'startOfCare': '10/17/2024', 'startOfEpisode': '10/17/2024', 'endOfEpisode': '06/13/2025', 'firstDiagnosis': 'M79.605', 'secondDiagnosis': 'C49.21', 'thirdDiagnosis': 'T45.1X5D', 'fourthDiagnosis': 'K12.31', 'fifthDiagnosis': 'K92.81', 'sixthDiagnosis': 'N76.81'}]
[14:18:55] âœ…    âœ… Patient identified: Maribel Pena
[14:18:55] âœ…    âœ… Patient name validation passed
[14:18:55] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:18:55] [DOC: 9287159] â„¹ï¸  DOB normalized: 09/16/1994
[14:18:55] [DOC: 9287159] â„¹ï¸  Episode startOfCare normalized: 10/17/2024
[14:18:55] [DOC: 9287159] â„¹ï¸  Episode startOfEpisode normalized: 10/17/2024
[14:18:55] [DOC: 9287159] â„¹ï¸  Episode endOfEpisode normalized: 06/13/2025
[14:18:55] [DOC: 9287159] âœ… Patient date processing completed successfully
[14:18:55] âœ…    âœ… Date processing completed
[14:18:55] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Maribel
     â””â”€ patientLName: Pena
     â””â”€ dob: 09/16/1994
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 5391015
     â””â”€ billingProvider: Achilles Romualdo E Alcaraz, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicaid/MA
     â””â”€ episodeDiagnoses: [{'startOfCare': '10/17/2024', 'startOfEpisode': '10/17/2024', 'endOfEpisode': '06/13/2025', 'firstDiagnosis': 'M79.605', 'secondDiagnosis': 'C49.21', 'thirdDiagnosis': 'T45.1X5D', 'fourthDiagnosis': 'K12.31', 'fifthDiagnosis': 'K92.81', 'sixthDiagnosis': 'N76.81'}]
[14:18:55] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:18:58] â„¹ï¸  Order extraction - MRN: ''
[14:18:58] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[14:18:58] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[14:18:58] â„¹ï¸  Order extraction - Payer Source: 'Medicaid/MA'
[14:18:58] âœ… Order data extraction completed successfully
[14:18:58] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:18:58] â„¹ï¸  Using MRN from patient data: '5391015'
[14:18:58] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing'
[14:18:58] â„¹ï¸  Payer source consistent in both sources: 'Medicaid/MA'
[14:18:58] âœ… Patient name cross-validation successful
[14:18:58] âœ…    âœ… Data merged successfully
[14:18:59] âœ…    âœ… Order data extracted and validated
[14:18:59] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:18:59] [DOC: 9287159] âœ… Patient found in local cache: Maribel Pena, ID: 21aca991-bba7-4f19-828f-34b178408fd4
[14:18:59] âœ…    âœ… Existing patient found with ID: 21aca991-bba7-4f19-828f-34b178408fd4
[14:18:59] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:18:59] [DOC: 9287159] â„¹ï¸  Pushing order via API for patient ID: 21aca991-bba7-4f19-828f-34b178408fd4
[14:19:00] [DOC: 9287159] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13008"}
[14:19:00] âŒ    âŒ Failed to push order
[14:19:00] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:19:00] [DOC: 9287159] â„¹ï¸  Calculated age: 30 from DOB: 09/16/1994
[14:19:00] [DOC: 9287159] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[14:19:00] [DOC: 9287159] â„¹ï¸  Payer Source extracted: 'Medicaid/MA'
[14:19:00] [DOC: 9287159] â„¹ï¸  Diagnosis codes being written:
[14:19:00] [DOC: 9287159] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'M79.605'
[14:19:00] [DOC: 9287159] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'C49.21'
[14:19:00] [DOC: 9287159] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'T45.1X5D'
[14:19:00] [DOC: 9287159] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'K12.31'
[14:19:00] [DOC: 9287159] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'K92.81'
[14:19:00] [DOC: 9287159] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'N76.81'
[14:19:00] [DOC: 9287159] âœ… Patient data written to CSV: Maribel Pena | Sex: FEMALE | Age: 30 | Service: Skilled Nursing | Payer: Medicaid/MA | MRN: 5391015
[14:19:00] âœ…    âœ… Document 9287159 processed and saved successfully
[14:19:00] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:19:00] [DOC: 9287159] â„¹ï¸  API push details saved for document 9287159
[14:19:00] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9286019                         â•‘
================================================================================
[14:19:00] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:19:00] â„¹ï¸  Date: 05/09/2025
[14:19:00] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:19:06] [DOC: 9286019] âœ… Text extracted using pdfplumber (1454 chars)
[14:19:06] âœ…    âœ… Text extracted using pdfplumber (1454 chars)
[14:19:06] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:19:09] â„¹ï¸  AI extracted raw sex value: ''
[14:19:09] â„¹ï¸  AI extracted service line: 'Occupational Therapy'
[14:19:09] â„¹ï¸  AI extracted payer source: ''
[14:19:09] â„¹ï¸  AI extracted diagnoses:
[14:19:09] â„¹ï¸    - Diagnosis 1: 'I13.0'
[14:19:09] â„¹ï¸    - Diagnosis 2: 'I50.33'
[14:19:09] â„¹ï¸    - Diagnosis 3: 'N18.31'
[14:19:09] â„¹ï¸    - Diagnosis 4: 'None'
[14:19:09] â„¹ï¸    - Diagnosis 5: 'None'
[14:19:09] â„¹ï¸    - Diagnosis 6: 'None'
[14:19:09] â„¹ï¸  Final extracted MRN: 'MA250331114803'
[14:19:09] â„¹ï¸  Final extracted Sex: ''
[14:19:09] â„¹ï¸  Final extracted Service Line: 'Occupational Therapy'
[14:19:09] â„¹ï¸  Final extracted Payer Source: ''
[14:19:09] âœ… Patient data extraction completed successfully
[14:19:09] âœ…    âœ… Patient data extracted successfully
[14:19:09] ğŸ“Š Patient Response
     â””â”€ patientFName: David
     â””â”€ patientLName: Sturgeon
     â””â”€ dob: 11/14/1948
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250331114803
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '04/04/2025', 'endOfEpisode': '06/02/2025', 'firstDiagnosis': 'I13.0', 'secondDiagnosis': 'I50.33', 'thirdDiagnosis': 'N18.31', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[14:19:09] âœ…    âœ… Patient identified: David Sturgeon
[14:19:09] âœ…    âœ… Patient name validation passed
[14:19:09] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:19:09] [DOC: 9286019] â„¹ï¸  DOB normalized: 11/14/1948
[14:19:09] [DOC: 9286019] â„¹ï¸  Episode startOfEpisode normalized: 04/04/2025
[14:19:09] [DOC: 9286019] â„¹ï¸  Episode endOfEpisode normalized: 06/02/2025
[14:19:09] [DOC: 9286019] âœ… Patient date processing completed successfully
[14:19:09] âœ…    âœ… Date processing completed
[14:19:09] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: David
     â””â”€ patientLName: Sturgeon
     â””â”€ dob: 11/14/1948
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250331114803
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/04/2025', 'endOfEpisode': '06/02/2025', 'firstDiagnosis': 'I13.0', 'secondDiagnosis': 'I50.33', 'thirdDiagnosis': 'N18.31'}]
[14:19:09] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:19:11] â„¹ï¸  Order extraction - MRN: 'MA250331114803'
[14:19:11] â„¹ï¸  Order extraction - Sex: ''
[14:19:11] â„¹ï¸  Order extraction - Service Line: 'Occupational Therapy'
[14:19:11] â„¹ï¸  Order extraction - Payer Source: ''
[14:19:11] âœ… Order data extraction completed successfully
[14:19:11] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:19:11] â„¹ï¸  Using MRN from patient data: 'MA250331114803' over 'MA250331114803'
[14:19:11] â„¹ï¸  Inferred sex as MALE from name: David
[14:19:11] â„¹ï¸  Service line consistent in both sources: 'Occupational Therapy'
[14:19:11] âœ… Patient name cross-validation successful
[14:19:11] âœ…    âœ… Data merged successfully
[14:19:12] âœ…    âœ… Order data extracted and validated
[14:19:12] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:19:12] [DOC: 9286019] âœ… Patient found in local cache: David Sturgeon, ID: 18718a98-7ff6-461c-a94e-9ab6f55f446f
[14:19:12] âœ…    âœ… Existing patient found with ID: 18718a98-7ff6-461c-a94e-9ab6f55f446f
[14:19:12] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:19:12] [DOC: 9286019] â„¹ï¸  Pushing order via API for patient ID: 18718a98-7ff6-461c-a94e-9ab6f55f446f
[14:19:14] [DOC: 9286019] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14456"}
[14:19:14] âŒ    âŒ Failed to push order
[14:19:14] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:19:14] [DOC: 9286019] â„¹ï¸  Calculated age: 76 from DOB: 11/14/1948
[14:19:14] [DOC: 9286019] â„¹ï¸  Service Line extracted: 'Occupational Therapy'
[14:19:14] [DOC: 9286019] â„¹ï¸  Payer Source extracted: ''
[14:19:14] [DOC: 9286019] â„¹ï¸  Diagnosis codes being written:
[14:19:14] [DOC: 9286019] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'I13.0'
[14:19:14] [DOC: 9286019] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'I50.33'
[14:19:14] [DOC: 9286019] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'N18.31'
[14:19:14] [DOC: 9286019] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:19:14] [DOC: 9286019] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:19:14] [DOC: 9286019] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:19:14] [DOC: 9286019] âœ… Patient data written to CSV: David Sturgeon | Sex: MALE | Age: 76 | Service: Occupational Therapy | Payer:  | MRN: MA250331114803
[14:19:14] âœ…    âœ… Document 9286019 processed and saved successfully
[14:19:14] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:19:14] [DOC: 9286019] â„¹ï¸  API push details saved for document 9286019
[14:19:14] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9286016                         â•‘
================================================================================
[14:19:14] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:19:14] â„¹ï¸  Date: 05/09/2025
[14:19:14] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:19:17] [DOC: 9286016] âœ… Text extracted using pdfplumber (1643 chars)
[14:19:17] âœ…    âœ… Text extracted using pdfplumber (1643 chars)
[14:19:17] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:19:20] â„¹ï¸  AI extracted raw sex value: ''
[14:19:20] â„¹ï¸  AI extracted service line: 'Occupational Therapy'
[14:19:20] â„¹ï¸  AI extracted payer source: ''
[14:19:20] â„¹ï¸  AI extracted diagnoses:
[14:19:20] â„¹ï¸    - Diagnosis 1: 'I13.0'
[14:19:20] â„¹ï¸    - Diagnosis 2: 'I50.33'
[14:19:20] â„¹ï¸    - Diagnosis 3: 'N18.31'
[14:19:20] â„¹ï¸    - Diagnosis 4: 'None'
[14:19:20] â„¹ï¸    - Diagnosis 5: 'None'
[14:19:20] â„¹ï¸    - Diagnosis 6: 'None'
[14:19:20] â„¹ï¸  Final extracted MRN: 'MA250331114803'
[14:19:20] â„¹ï¸  Final extracted Sex: ''
[14:19:20] â„¹ï¸  Final extracted Service Line: 'Occupational Therapy'
[14:19:20] â„¹ï¸  Final extracted Payer Source: ''
[14:19:20] âœ… Patient data extraction completed successfully
[14:19:20] âœ…    âœ… Patient data extracted successfully
[14:19:20] ğŸ“Š Patient Response
     â””â”€ patientFName: David
     â””â”€ patientLName: Sturgeon
     â””â”€ dob: 11/14/1948
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250331114803
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '04/04/2025', 'endOfEpisode': '06/02/2025', 'firstDiagnosis': 'I13.0', 'secondDiagnosis': 'I50.33', 'thirdDiagnosis': 'N18.31', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[14:19:20] âœ…    âœ… Patient identified: David Sturgeon
[14:19:20] âœ…    âœ… Patient name validation passed
[14:19:20] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:19:20] [DOC: 9286016] â„¹ï¸  DOB normalized: 11/14/1948
[14:19:20] [DOC: 9286016] â„¹ï¸  Episode startOfEpisode normalized: 04/04/2025
[14:19:20] [DOC: 9286016] â„¹ï¸  Episode endOfEpisode normalized: 06/02/2025
[14:19:20] [DOC: 9286016] âœ… Patient date processing completed successfully
[14:19:20] âœ…    âœ… Date processing completed
[14:19:20] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: David
     â””â”€ patientLName: Sturgeon
     â””â”€ dob: 11/14/1948
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250331114803
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/04/2025', 'endOfEpisode': '06/02/2025', 'firstDiagnosis': 'I13.0', 'secondDiagnosis': 'I50.33', 'thirdDiagnosis': 'N18.31'}]
[14:19:20] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:19:23] â„¹ï¸  Order extraction - MRN: 'MA250331114803'
[14:19:23] â„¹ï¸  Order extraction - Sex: ''
[14:19:23] â„¹ï¸  Order extraction - Service Line: 'Occupational Therapy'
[14:19:23] â„¹ï¸  Order extraction - Payer Source: ''
[14:19:23] âœ… Order data extraction completed successfully
[14:19:23] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:19:23] â„¹ï¸  Using MRN from patient data: 'MA250331114803' over 'MA250331114803'
[14:19:23] â„¹ï¸  Inferred sex as MALE from name: David
[14:19:23] â„¹ï¸  Service line consistent in both sources: 'Occupational Therapy'
[14:19:23] âœ… Patient name cross-validation successful
[14:19:23] âœ…    âœ… Data merged successfully
[14:19:24] âœ…    âœ… Order data extracted and validated
[14:19:24] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:19:24] [DOC: 9286016] âœ… Patient found in local cache: David Sturgeon, ID: 18718a98-7ff6-461c-a94e-9ab6f55f446f
[14:19:24] âœ…    âœ… Existing patient found with ID: 18718a98-7ff6-461c-a94e-9ab6f55f446f
[14:19:24] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:19:24] [DOC: 9286016] â„¹ï¸  Pushing order via API for patient ID: 18718a98-7ff6-461c-a94e-9ab6f55f446f
[14:19:26] [DOC: 9286016] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14457"}
[14:19:26] âŒ    âŒ Failed to push order
[14:19:26] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:19:26] [DOC: 9286016] â„¹ï¸  Calculated age: 76 from DOB: 11/14/1948
[14:19:26] [DOC: 9286016] â„¹ï¸  Service Line extracted: 'Occupational Therapy'
[14:19:26] [DOC: 9286016] â„¹ï¸  Payer Source extracted: ''
[14:19:26] [DOC: 9286016] â„¹ï¸  Diagnosis codes being written:
[14:19:26] [DOC: 9286016] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'I13.0'
[14:19:26] [DOC: 9286016] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'I50.33'
[14:19:26] [DOC: 9286016] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'N18.31'
[14:19:26] [DOC: 9286016] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:19:26] [DOC: 9286016] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:19:26] [DOC: 9286016] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:19:26] [DOC: 9286016] âœ… Patient data written to CSV: David Sturgeon | Sex: MALE | Age: 76 | Service: Occupational Therapy | Payer:  | MRN: MA250331114803
[14:19:26] âœ…    âœ… Document 9286016 processed and saved successfully
[14:19:26] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:19:26] [DOC: 9286016] â„¹ï¸  API push details saved for document 9286016
[14:19:26] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9286000                         â•‘
================================================================================
[14:19:26] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:19:26] â„¹ï¸  Date: 05/09/2025
[14:19:26] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:19:28] [DOC: 9286000] âœ… Text extracted using pdfplumber (1429 chars)
[14:19:28] âœ…    âœ… Text extracted using pdfplumber (1429 chars)
[14:19:28] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:19:31] â„¹ï¸  AI extracted raw sex value: ''
[14:19:31] â„¹ï¸  AI extracted service line: 'Occupational Therapy'
[14:19:31] â„¹ï¸  AI extracted payer source: ''
[14:19:31] â„¹ï¸  AI extracted diagnoses:
[14:19:31] â„¹ï¸    - Diagnosis 1: 'N39.0'
[14:19:31] â„¹ï¸    - Diagnosis 2: 'G93.41'
[14:19:31] â„¹ï¸    - Diagnosis 3: 'R44.3'
[14:19:31] â„¹ï¸    - Diagnosis 4: ''
[14:19:31] â„¹ï¸    - Diagnosis 5: ''
[14:19:31] â„¹ï¸    - Diagnosis 6: ''
[14:19:31] â„¹ï¸  Final extracted MRN: 'MA220425084103'
[14:19:31] â„¹ï¸  Final extracted Sex: ''
[14:19:31] â„¹ï¸  Final extracted Service Line: 'Occupational Therapy'
[14:19:31] â„¹ï¸  Final extracted Payer Source: ''
[14:19:31] âœ… Patient data extraction completed successfully
[14:19:31] âœ…    âœ… Patient data extracted successfully
[14:19:31] ğŸ“Š Patient Response
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '05/06/2025', 'endOfEpisode': '07/04/2025', 'firstDiagnosis': 'N39.0', 'secondDiagnosis': 'G93.41', 'thirdDiagnosis': 'R44.3', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:19:31] âœ…    âœ… Patient identified: Carlos Camara
[14:19:31] âœ…    âœ… Patient name validation passed
[14:19:31] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:19:31] [DOC: 9286000] â„¹ï¸  DOB normalized: 08/08/1941
[14:19:31] [DOC: 9286000] â„¹ï¸  Episode startOfEpisode normalized: 05/06/2025
[14:19:31] [DOC: 9286000] â„¹ï¸  Episode endOfEpisode normalized: 07/04/2025
[14:19:31] [DOC: 9286000] âœ… Patient date processing completed successfully
[14:19:31] âœ…    âœ… Date processing completed
[14:19:31] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '05/06/2025', 'endOfEpisode': '07/04/2025', 'firstDiagnosis': 'N39.0', 'secondDiagnosis': 'G93.41', 'thirdDiagnosis': 'R44.3', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:19:31] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:19:34] â„¹ï¸  Order extraction - MRN: 'MA220425084103'
[14:19:34] â„¹ï¸  Order extraction - Sex: ''
[14:19:34] â„¹ï¸  Order extraction - Service Line: 'Occupational Therapy'
[14:19:34] â„¹ï¸  Order extraction - Payer Source: ''
[14:19:34] âœ… Order data extraction completed successfully
[14:19:34] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:19:34] â„¹ï¸  Using MRN from patient data: 'MA220425084103' over 'MA220425084103'
[14:19:34] âš ï¸  Could not determine sex using any available method
[14:19:34] â„¹ï¸  Service line consistent in both sources: 'Occupational Therapy'
[14:19:34] âœ… Patient name cross-validation successful
[14:19:34] âœ…    âœ… Data merged successfully
[14:19:35] âœ…    âœ… Order data extracted and validated
[14:19:35] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:19:35] [DOC: 9286000] âœ… Patient found in local cache: Carlos Camara, ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:19:35] âœ…    âœ… Existing patient found with ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:19:35] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:19:35] [DOC: 9286000] â„¹ï¸  Pushing order via API for patient ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:19:36] [DOC: 9286000] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13430"}
[14:19:36] âŒ    âŒ Failed to push order
[14:19:36] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:19:36] [DOC: 9286000] â„¹ï¸  Calculated age: 83 from DOB: 08/08/1941
[14:19:36] [DOC: 9286000] â„¹ï¸  Service Line extracted: 'Occupational Therapy'
[14:19:36] [DOC: 9286000] â„¹ï¸  Payer Source extracted: ''
[14:19:36] [DOC: 9286000] â„¹ï¸  Diagnosis codes being written:
[14:19:36] [DOC: 9286000] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'N39.0'
[14:19:36] [DOC: 9286000] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'G93.41'
[14:19:36] [DOC: 9286000] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'R44.3'
[14:19:36] [DOC: 9286000] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:19:36] [DOC: 9286000] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:19:36] [DOC: 9286000] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:19:36] [DOC: 9286000] âœ… Patient data written to CSV: Carlos Camara | Sex:  | Age: 83 | Service: Occupational Therapy | Payer:  | MRN: MA220425084103
[14:19:36] âœ…    âœ… Document 9286000 processed and saved successfully
[14:19:36] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:19:36] [DOC: 9286000] â„¹ï¸  API push details saved for document 9286000
[14:19:36] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9285997                         â•‘
================================================================================
[14:19:36] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:19:36] â„¹ï¸  Date: 05/09/2025
[14:19:36] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:19:38] [DOC: 9285997] âœ… Text extracted using pdfplumber (1779 chars)
[14:19:38] âœ…    âœ… Text extracted using pdfplumber (1779 chars)
[14:19:38] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:19:41] â„¹ï¸  AI extracted raw sex value: ''
[14:19:41] â„¹ï¸  AI extracted service line: 'Physical Therapy'
[14:19:41] â„¹ï¸  AI extracted payer source: ''
[14:19:41] â„¹ï¸  AI extracted diagnoses:
[14:19:41] â„¹ï¸    - Diagnosis 1: 'N39.0'
[14:19:41] â„¹ï¸    - Diagnosis 2: 'G93.41'
[14:19:41] â„¹ï¸    - Diagnosis 3: 'R44.3'
[14:19:41] â„¹ï¸    - Diagnosis 4: ''
[14:19:41] â„¹ï¸    - Diagnosis 5: ''
[14:19:41] â„¹ï¸    - Diagnosis 6: ''
[14:19:41] â„¹ï¸  Final extracted MRN: 'MA220425084103'
[14:19:41] â„¹ï¸  Final extracted Sex: ''
[14:19:41] â„¹ï¸  Final extracted Service Line: 'Physical Therapy'
[14:19:41] â„¹ï¸  Final extracted Payer Source: ''
[14:19:41] âœ… Patient data extraction completed successfully
[14:19:41] âœ…    âœ… Patient data extracted successfully
[14:19:41] ğŸ“Š Patient Response
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '05/06/2025', 'endOfEpisode': '07/04/2025', 'firstDiagnosis': 'N39.0', 'secondDiagnosis': 'G93.41', 'thirdDiagnosis': 'R44.3', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:19:41] âœ…    âœ… Patient identified: Carlos Camara
[14:19:41] âœ…    âœ… Patient name validation passed
[14:19:41] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:19:41] [DOC: 9285997] â„¹ï¸  DOB normalized: 08/08/1941
[14:19:41] [DOC: 9285997] â„¹ï¸  Episode startOfEpisode normalized: 05/06/2025
[14:19:41] [DOC: 9285997] â„¹ï¸  Episode endOfEpisode normalized: 07/04/2025
[14:19:41] [DOC: 9285997] âœ… Patient date processing completed successfully
[14:19:41] âœ…    âœ… Date processing completed
[14:19:41] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '05/06/2025', 'endOfEpisode': '07/04/2025', 'firstDiagnosis': 'N39.0', 'secondDiagnosis': 'G93.41', 'thirdDiagnosis': 'R44.3', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:19:41] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:19:45] â„¹ï¸  Order extraction - MRN: 'MA220425084103'
[14:19:45] â„¹ï¸  Order extraction - Sex: ''
[14:19:45] â„¹ï¸  Order extraction - Service Line: 'Physical Therapy'
[14:19:45] â„¹ï¸  Order extraction - Payer Source: ''
[14:19:45] âœ… Order data extraction completed successfully
[14:19:45] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:19:45] â„¹ï¸  Using MRN from patient data: 'MA220425084103' over 'MA220425084103'
[14:19:45] âš ï¸  Could not determine sex using any available method
[14:19:45] â„¹ï¸  Service line consistent in both sources: 'Physical Therapy'
[14:19:45] âœ… Patient name cross-validation successful
[14:19:45] âœ…    âœ… Data merged successfully
[14:19:46] âœ…    âœ… Order data extracted and validated
[14:19:46] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:19:46] [DOC: 9285997] âœ… Patient found in local cache: Carlos Camara, ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:19:46] âœ…    âœ… Existing patient found with ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:19:46] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:19:46] [DOC: 9285997] â„¹ï¸  Pushing order via API for patient ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:19:47] [DOC: 9285997] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13432"}
[14:19:47] âŒ    âŒ Failed to push order
[14:19:47] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:19:47] [DOC: 9285997] â„¹ï¸  Calculated age: 83 from DOB: 08/08/1941
[14:19:47] [DOC: 9285997] â„¹ï¸  Service Line extracted: 'Physical Therapy'
[14:19:47] [DOC: 9285997] â„¹ï¸  Payer Source extracted: ''
[14:19:47] [DOC: 9285997] â„¹ï¸  Diagnosis codes being written:
[14:19:47] [DOC: 9285997] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'N39.0'
[14:19:47] [DOC: 9285997] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'G93.41'
[14:19:47] [DOC: 9285997] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'R44.3'
[14:19:47] [DOC: 9285997] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:19:47] [DOC: 9285997] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:19:47] [DOC: 9285997] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:19:47] [DOC: 9285997] âœ… Patient data written to CSV: Carlos Camara | Sex:  | Age: 83 | Service: Physical Therapy | Payer:  | MRN: MA220425084103
[14:19:47] âœ…    âœ… Document 9285997 processed and saved successfully
[14:19:47] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:19:47] [DOC: 9285997] â„¹ï¸  API push details saved for document 9285997
[14:19:47] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9285996                         â•‘
================================================================================
[14:19:47] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:19:47] â„¹ï¸  Date: 05/09/2025
[14:19:47] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:19:49] [DOC: 9285996] âœ… Text extracted using pdfplumber (1837 chars)
[14:19:49] âœ…    âœ… Text extracted using pdfplumber (1837 chars)
[14:19:49] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:19:52] â„¹ï¸  AI extracted raw sex value: ''
[14:19:52] â„¹ï¸  AI extracted service line: 'Physical Therapy'
[14:19:52] â„¹ï¸  AI extracted payer source: ''
[14:19:52] â„¹ï¸  AI extracted diagnoses:
[14:19:52] â„¹ï¸    - Diagnosis 1: 'N39.0'
[14:19:52] â„¹ï¸    - Diagnosis 2: 'G93.41'
[14:19:52] â„¹ï¸    - Diagnosis 3: 'R44.3'
[14:19:52] â„¹ï¸    - Diagnosis 4: ''
[14:19:52] â„¹ï¸    - Diagnosis 5: ''
[14:19:52] â„¹ï¸    - Diagnosis 6: ''
[14:19:52] â„¹ï¸  Final extracted MRN: 'MA220425084103'
[14:19:52] â„¹ï¸  Final extracted Sex: ''
[14:19:52] â„¹ï¸  Final extracted Service Line: 'Physical Therapy'
[14:19:52] â„¹ï¸  Final extracted Payer Source: ''
[14:19:52] âœ… Patient data extraction completed successfully
[14:19:52] âœ…    âœ… Patient data extracted successfully
[14:19:52] ğŸ“Š Patient Response
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '05/06/2025', 'endOfEpisode': '07/04/2025', 'firstDiagnosis': 'N39.0', 'secondDiagnosis': 'G93.41', 'thirdDiagnosis': 'R44.3', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:19:52] âœ…    âœ… Patient identified: Carlos Camara
[14:19:52] âœ…    âœ… Patient name validation passed
[14:19:52] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:19:52] [DOC: 9285996] â„¹ï¸  DOB normalized: 08/08/1941
[14:19:52] [DOC: 9285996] â„¹ï¸  Episode startOfEpisode normalized: 05/06/2025
[14:19:52] [DOC: 9285996] â„¹ï¸  Episode endOfEpisode normalized: 07/04/2025
[14:19:52] [DOC: 9285996] âœ… Patient date processing completed successfully
[14:19:52] âœ…    âœ… Date processing completed
[14:19:52] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '05/06/2025', 'endOfEpisode': '07/04/2025', 'firstDiagnosis': 'N39.0', 'secondDiagnosis': 'G93.41', 'thirdDiagnosis': 'R44.3', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:19:52] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:19:55] â„¹ï¸  Order extraction - MRN: 'MA220425084103'
[14:19:55] â„¹ï¸  Order extraction - Sex: ''
[14:19:55] â„¹ï¸  Order extraction - Service Line: 'Physical Therapy'
[14:19:55] â„¹ï¸  Order extraction - Payer Source: ''
[14:19:55] âœ… Order data extraction completed successfully
[14:19:55] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:19:55] â„¹ï¸  Using MRN from patient data: 'MA220425084103' over 'MA220425084103'
[14:19:55] âš ï¸  Could not determine sex using any available method
[14:19:55] â„¹ï¸  Service line consistent in both sources: 'Physical Therapy'
[14:19:55] âœ… Patient name cross-validation successful
[14:19:55] âœ…    âœ… Data merged successfully
[14:19:56] âœ…    âœ… Order data extracted and validated
[14:19:56] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:19:56] [DOC: 9285996] âœ… Patient found in local cache: Carlos Camara, ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:19:56] âœ…    âœ… Existing patient found with ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:19:56] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:19:56] [DOC: 9285996] â„¹ï¸  Pushing order via API for patient ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:19:57] [DOC: 9285996] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13433"}
[14:19:57] âŒ    âŒ Failed to push order
[14:19:57] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:19:57] [DOC: 9285996] â„¹ï¸  Calculated age: 83 from DOB: 08/08/1941
[14:19:57] [DOC: 9285996] â„¹ï¸  Service Line extracted: 'Physical Therapy'
[14:19:57] [DOC: 9285996] â„¹ï¸  Payer Source extracted: ''
[14:19:57] [DOC: 9285996] â„¹ï¸  Diagnosis codes being written:
[14:19:57] [DOC: 9285996] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'N39.0'
[14:19:57] [DOC: 9285996] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'G93.41'
[14:19:57] [DOC: 9285996] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'R44.3'
[14:19:57] [DOC: 9285996] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:19:57] [DOC: 9285996] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:19:57] [DOC: 9285996] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:19:57] [DOC: 9285996] âœ… Patient data written to CSV: Carlos Camara | Sex:  | Age: 83 | Service: Physical Therapy | Payer:  | MRN: MA220425084103
[14:19:57] âœ…    âœ… Document 9285996 processed and saved successfully
[14:19:57] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:19:57] [DOC: 9285996] â„¹ï¸  API push details saved for document 9285996
[14:19:57] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9285995                         â•‘
================================================================================
[14:19:57] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:19:57] â„¹ï¸  Date: 05/09/2025
[14:19:57] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:20:00] [DOC: 9285995] âœ… Text extracted using pdfplumber (1837 chars)
[14:20:00] âœ…    âœ… Text extracted using pdfplumber (1837 chars)
[14:20:00] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:20:03] â„¹ï¸  AI extracted raw sex value: ''
[14:20:03] â„¹ï¸  AI extracted service line: 'Physical Therapy'
[14:20:03] â„¹ï¸  AI extracted payer source: ''
[14:20:03] â„¹ï¸  AI extracted diagnoses:
[14:20:03] â„¹ï¸    - Diagnosis 1: 'N39.0'
[14:20:03] â„¹ï¸    - Diagnosis 2: 'G93.41'
[14:20:03] â„¹ï¸    - Diagnosis 3: 'R44.3'
[14:20:03] â„¹ï¸    - Diagnosis 4: ''
[14:20:03] â„¹ï¸    - Diagnosis 5: ''
[14:20:03] â„¹ï¸    - Diagnosis 6: ''
[14:20:03] â„¹ï¸  Final extracted MRN: 'MA220425084103'
[14:20:03] â„¹ï¸  Final extracted Sex: ''
[14:20:03] â„¹ï¸  Final extracted Service Line: 'Physical Therapy'
[14:20:03] â„¹ï¸  Final extracted Payer Source: ''
[14:20:03] âœ… Patient data extraction completed successfully
[14:20:03] âœ…    âœ… Patient data extracted successfully
[14:20:03] ğŸ“Š Patient Response
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '05/06/2025', 'endOfEpisode': '07/04/2025', 'firstDiagnosis': 'N39.0', 'secondDiagnosis': 'G93.41', 'thirdDiagnosis': 'R44.3', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:20:03] âœ…    âœ… Patient identified: Carlos Camara
[14:20:03] âœ…    âœ… Patient name validation passed
[14:20:03] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:20:03] [DOC: 9285995] â„¹ï¸  DOB normalized: 08/08/1941
[14:20:03] [DOC: 9285995] â„¹ï¸  Episode startOfEpisode normalized: 05/06/2025
[14:20:03] [DOC: 9285995] â„¹ï¸  Episode endOfEpisode normalized: 07/04/2025
[14:20:03] [DOC: 9285995] âœ… Patient date processing completed successfully
[14:20:03] âœ…    âœ… Date processing completed
[14:20:03] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '05/06/2025', 'endOfEpisode': '07/04/2025', 'firstDiagnosis': 'N39.0', 'secondDiagnosis': 'G93.41', 'thirdDiagnosis': 'R44.3', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:20:03] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:20:06] â„¹ï¸  Order extraction - MRN: 'MA220425084103'
[14:20:06] â„¹ï¸  Order extraction - Sex: ''
[14:20:06] â„¹ï¸  Order extraction - Service Line: 'Physical Therapy'
[14:20:06] â„¹ï¸  Order extraction - Payer Source: ''
[14:20:06] âœ… Order data extraction completed successfully
[14:20:06] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:20:06] â„¹ï¸  Using MRN from patient data: 'MA220425084103' over 'MA220425084103'
[14:20:06] âš ï¸  Could not determine sex using any available method
[14:20:06] â„¹ï¸  Service line consistent in both sources: 'Physical Therapy'
[14:20:06] âœ… Patient name cross-validation successful
[14:20:06] âœ…    âœ… Data merged successfully
[14:20:07] âœ…    âœ… Order data extracted and validated
[14:20:07] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:20:07] [DOC: 9285995] âœ… Patient found in local cache: Carlos Camara, ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:20:07] âœ…    âœ… Existing patient found with ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:20:07] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:20:07] [DOC: 9285995] â„¹ï¸  Pushing order via API for patient ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:20:08] [DOC: 9285995] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13433"}
[14:20:08] âŒ    âŒ Failed to push order
[14:20:08] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:20:08] [DOC: 9285995] â„¹ï¸  Calculated age: 83 from DOB: 08/08/1941
[14:20:08] [DOC: 9285995] â„¹ï¸  Service Line extracted: 'Physical Therapy'
[14:20:08] [DOC: 9285995] â„¹ï¸  Payer Source extracted: ''
[14:20:08] [DOC: 9285995] â„¹ï¸  Diagnosis codes being written:
[14:20:08] [DOC: 9285995] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'N39.0'
[14:20:08] [DOC: 9285995] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'G93.41'
[14:20:08] [DOC: 9285995] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'R44.3'
[14:20:08] [DOC: 9285995] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:20:08] [DOC: 9285995] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:20:08] [DOC: 9285995] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:20:08] [DOC: 9285995] âœ… Patient data written to CSV: Carlos Camara | Sex:  | Age: 83 | Service: Physical Therapy | Payer:  | MRN: MA220425084103
[14:20:08] âœ…    âœ… Document 9285995 processed and saved successfully
[14:20:08] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:20:08] [DOC: 9285995] â„¹ï¸  API push details saved for document 9285995
[14:20:08] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9285993                         â•‘
================================================================================
[14:20:08] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[14:20:08] â„¹ï¸  Date: 05/09/2025
[14:20:08] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:20:10] [DOC: 9285993] âœ… Text extracted using pdfplumber (1640 chars)
[14:20:10] âœ…    âœ… Text extracted using pdfplumber (1640 chars)
[14:20:10] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[14:20:13] â„¹ï¸  AI extracted raw sex value: ''
[14:20:13] â„¹ï¸  AI extracted service line: 'Physical Therapy, Occupational Therapy'
[14:20:13] â„¹ï¸  AI extracted payer source: ''
[14:20:13] â„¹ï¸  AI extracted diagnoses:
[14:20:13] â„¹ï¸    - Diagnosis 1: 'N39.0'
[14:20:13] â„¹ï¸    - Diagnosis 2: 'G93.41'
[14:20:13] â„¹ï¸    - Diagnosis 3: 'R44.3'
[14:20:13] â„¹ï¸    - Diagnosis 4: ''
[14:20:13] â„¹ï¸    - Diagnosis 5: ''
[14:20:13] â„¹ï¸    - Diagnosis 6: ''
[14:20:13] â„¹ï¸  Final extracted MRN: 'MA220425084103'
[14:20:13] â„¹ï¸  Final extracted Sex: ''
[14:20:13] â„¹ï¸  Final extracted Service Line: 'Physical Therapy, Occupational Therapy'
[14:20:13] â„¹ï¸  Final extracted Payer Source: ''
[14:20:13] âœ… Patient data extraction completed successfully
[14:20:13] âœ…    âœ… Patient data extracted successfully
[14:20:13] ğŸ“Š Patient Response
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy, Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '05/06/2025', 'endOfEpisode': '07/04/2025', 'firstDiagnosis': 'N39.0', 'secondDiagnosis': 'G93.41', 'thirdDiagnosis': 'R44.3', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:20:13] âœ…    âœ… Patient identified: Carlos Camara
[14:20:13] âœ…    âœ… Patient name validation passed
[14:20:13] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[14:20:13] [DOC: 9285993] â„¹ï¸  DOB normalized: 08/08/1941
[14:20:13] [DOC: 9285993] â„¹ï¸  Episode startOfEpisode normalized: 05/06/2025
[14:20:13] [DOC: 9285993] â„¹ï¸  Episode endOfEpisode normalized: 07/04/2025
[14:20:13] [DOC: 9285993] âœ… Patient date processing completed successfully
[14:20:13] âœ…    âœ… Date processing completed
[14:20:13] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Carlos
     â””â”€ patientLName: Camara
     â””â”€ dob: 08/08/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA220425084103
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy, Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '05/06/2025', 'endOfEpisode': '07/04/2025', 'firstDiagnosis': 'N39.0', 'secondDiagnosis': 'G93.41', 'thirdDiagnosis': 'R44.3', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[14:20:13] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[14:20:16] â„¹ï¸  Order extraction - MRN: 'MA220425084103'
[14:20:16] â„¹ï¸  Order extraction - Sex: ''
[14:20:16] â„¹ï¸  Order extraction - Service Line: 'Physical Therapy, Occupational Therapy'
[14:20:16] â„¹ï¸  Order extraction - Payer Source: ''
[14:20:16] âœ… Order data extraction completed successfully
[14:20:16] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[14:20:16] â„¹ï¸  Using MRN from patient data: 'MA220425084103' over 'MA220425084103'
[14:20:16] âš ï¸  Could not determine sex using any available method
[14:20:16] â„¹ï¸  Service line consistent in both sources: 'Physical Therapy, Occupational Therapy'
[14:20:16] âœ… Patient name cross-validation successful
[14:20:16] âœ…    âœ… Data merged successfully
[14:20:17] âœ…    âœ… Order data extracted and validated
[14:20:17] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[14:20:17] [DOC: 9285993] âœ… Patient found in local cache: Carlos Camara, ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:20:17] âœ…    âœ… Existing patient found with ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:20:17] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[14:20:17] [DOC: 9285993] â„¹ï¸  Pushing order via API for patient ID: 16e2744a-5e38-4445-8968-fe8ad953d698
[14:20:19] [DOC: 9285993] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13434"}
[14:20:19] âŒ    âŒ Failed to push order
[14:20:19] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[14:20:19] [DOC: 9285993] â„¹ï¸  Calculated age: 83 from DOB: 08/08/1941
[14:20:19] [DOC: 9285993] â„¹ï¸  Service Line extracted: 'Physical Therapy, Occupational Therapy'
[14:20:19] [DOC: 9285993] â„¹ï¸  Payer Source extracted: ''
[14:20:19] [DOC: 9285993] â„¹ï¸  Diagnosis codes being written:
[14:20:19] [DOC: 9285993] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'N39.0'
[14:20:19] [DOC: 9285993] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'G93.41'
[14:20:19] [DOC: 9285993] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'R44.3'
[14:20:19] [DOC: 9285993] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[14:20:19] [DOC: 9285993] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[14:20:19] [DOC: 9285993] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[14:20:19] [DOC: 9285993] âœ… Patient data written to CSV: Carlos Camara | Sex:  | Age: 83 | Service: Physical Therapy, Occupational Therapy | Payer:  | MRN: MA220425084103
[14:20:19] âœ…    âœ… Document 9285993 processed and saved successfully
[14:20:19] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[14:20:19] [DOC: 9285993] â„¹ï¸  API push details saved for document 9285993
[14:20:19] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 2175968                         â•‘
================================================================================
[14:20:19] â„¹ï¸  Agency: Guardian Home Health Care LLC - West Bridgewater
[14:20:19] â„¹ï¸  Date: 05/09/2025
[14:20:19] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[14:20:20] [DOC: 2175968] âŒ Critical failure in get_pdf_text: Invalid response format
[14:20:20] âŒ Failed to extract text for Doc ID 2175968
[14:20:20] [DOC: 2175968] â„¹ï¸  API push details saved for document 2175968
================================================================================
â•‘                               PROCESSING SUMMARY                               â•‘
================================================================================
[14:20:20] â„¹ï¸  Total Processed: 49
[14:20:20] â„¹ï¸  CSV Success: 36
[14:20:20] â„¹ï¸  CSV Errors: 5
[14:20:20] â„¹ï¸  API Success: 0
[14:20:20] â„¹ï¸  API Errors: 44
[14:20:20] â„¹ï¸  CSV Success Rate: 73.5%
[14:20:20] â„¹ï¸  API Success Rate: 0.0%
[14:20:20] â„¹ï¸  Output CSV File: csv_outputs/extracted_patients_20250607_140607.csv
[14:20:20] â„¹ï¸  API Details File: api_outputs/api_push_details_20250607_140607.csv
================================================================================
â•‘          ============================================================          â•‘
================================================================================
