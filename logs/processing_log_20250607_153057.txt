================================================================================
â•‘                            FINAL VERSION PROCESSOR                             â•‘
================================================================================
[15:30:57] â„¹ï¸  CSV Data Extraction & API Push Tool
[15:30:57] â„¹ï¸  
[15:30:57] â„¹ï¸  Features:
[15:30:57] â„¹ï¸  - 2 Robust text extraction methods (PDFPlumber + Tesseract OCR)
[15:30:57] â„¹ï¸  - AI-powered patient and order data extraction
[15:30:57] â„¹ï¸  - Enhanced error handling and logging
[15:30:57] â„¹ï¸  - Full API integration (patient creation + order pushing)
[15:30:57] â„¹ï¸  - CSV output with comprehensive patient data
[15:30:57] â„¹ï¸  - Detailed API tracking with remarks for every document
[15:30:57] â„¹ï¸  - Complete audit trail of all processing attempts
[15:30:57] â„¹ï¸  
[15:30:57] â„¹ï¸  Starting CSV processing with API integration: hawthorn_fam.csv
[15:30:57] âœ… Created output CSV file: csv_outputs/extracted_patients_20250607_153057.csv
[15:30:57] âœ… Created API details CSV file: api_outputs/api_push_details_20250607_153057.csv
================================================================================
â•‘                        Processing Document ID: 9274554                         â•‘
================================================================================
[15:30:57] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:30:57] â„¹ï¸  Date: 05/02/2025
[15:30:57] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:31:12] [DOC: 9274554] âœ… Text extracted using pdfplumber (19721 chars)
[15:31:12] âœ…    âœ… Text extracted using pdfplumber (19709 chars)
[15:31:12] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:31:17] â„¹ï¸  AI extracted raw sex value: 'F'
[15:31:17] â„¹ï¸  AI extracted service line: 'Physical Therapy, Occupational Therapy'
[15:31:17] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:31:17] â„¹ï¸  AI extracted diagnoses:
[15:31:17] â„¹ï¸    - Diagnosis 1: 'I65.29'
[15:31:17] â„¹ï¸    - Diagnosis 2: 'E78.5'
[15:31:17] â„¹ï¸    - Diagnosis 3: 'M81.0'
[15:31:17] â„¹ï¸    - Diagnosis 4: 'G47.00'
[15:31:17] â„¹ï¸    - Diagnosis 5: 'I10'
[15:31:17] â„¹ï¸    - Diagnosis 6: 'D50.9'
[15:31:17] â„¹ï¸  Final extracted MRN: 'MA250408034202'
[15:31:17] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:31:17] â„¹ï¸  Final extracted Service Line: 'Physical Therapy, Occupational Therapy'
[15:31:17] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:31:17] âœ… Patient data extraction completed successfully
[15:31:17] âœ…    âœ… Patient data extracted successfully
[15:31:17] ğŸ“Š Patient Response
     â””â”€ patientFName: Pamela
     â””â”€ patientLName: Newell
     â””â”€ dob: 03/15/1942
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: MA250408034202
     â””â”€ billingProvider: CALDAS, ROBERT
     â””â”€ npi: 1124032883
     â””â”€ physicianNPI: 1124032883
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST.
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780-3561
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/16/2025', 'startOfEpisode': '04/16/2025', 'endOfEpisode': '06/14/2025', 'firstDiagnosis': 'I65.29', 'secondDiagnosis': 'E78.5', 'thirdDiagnosis': 'M81.0', 'fourthDiagnosis': 'G47.00', 'fifthDiagnosis': 'I10', 'sixthDiagnosis': 'D50.9'}]
[15:31:17] âœ…    âœ… Patient identified: Pamela Newell
[15:31:17] âœ…    âœ… Patient name validation passed
[15:31:17] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:31:17] [DOC: 9274554] â„¹ï¸  DOB normalized: 03/15/1942
[15:31:17] [DOC: 9274554] â„¹ï¸  Episode startOfCare normalized: 04/16/2025
[15:31:17] [DOC: 9274554] â„¹ï¸  Episode startOfEpisode normalized: 04/16/2025
[15:31:17] [DOC: 9274554] â„¹ï¸  Episode endOfEpisode normalized: 06/14/2025
[15:31:17] [DOC: 9274554] âœ… Patient date processing completed successfully
[15:31:17] âœ…    âœ… Date processing completed
[15:31:17] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Pamela
     â””â”€ patientLName: Newell
     â””â”€ dob: 03/15/1942
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: MA250408034202
     â””â”€ billingProvider: CALDAS, ROBERT
     â””â”€ npi: 1124032883
     â””â”€ physicianNPI: 1124032883
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST.
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780-3561
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/16/2025', 'startOfEpisode': '04/16/2025', 'endOfEpisode': '06/14/2025', 'firstDiagnosis': 'I65.29', 'secondDiagnosis': 'E78.5', 'thirdDiagnosis': 'M81.0', 'fourthDiagnosis': 'G47.00', 'fifthDiagnosis': 'I10', 'sixthDiagnosis': 'D50.9'}]
[15:31:17] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:31:20] â„¹ï¸  Order extraction - MRN: 'MA250408034202'
[15:31:20] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:31:20] â„¹ï¸  Order extraction - Service Line: 'Physical Therapy, Occupational Therapy'
[15:31:20] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:31:20] âœ… Order data extraction completed successfully
[15:31:20] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:31:20] â„¹ï¸  Using MRN from patient data: 'MA250408034202' over 'MA250408034202'
[15:31:20] â„¹ï¸  Service line consistent in both sources: 'Physical Therapy, Occupational Therapy'
[15:31:20] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:31:20] âœ… Patient name cross-validation successful
[15:31:20] âœ…    âœ… Data merged successfully
[15:31:21] âœ…    âœ… Order data extracted and validated
[15:31:21] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:31:38] [DOC: 9274554] âœ… Patient exists in API: Pamela Newell, ID: 916ed949-8061-47b2-9022-7ec91bcc9d65
[15:31:38] âœ…    âœ… Existing patient found with ID: 916ed949-8061-47b2-9022-7ec91bcc9d65
[15:31:38] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:31:38] [DOC: 9274554] â„¹ï¸  Pushing order via API for patient ID: 916ed949-8061-47b2-9022-7ec91bcc9d65
[15:31:39] [DOC: 9274554] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14176"}
[15:31:39] âŒ    âŒ Failed to push order
[15:31:39] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:31:39] [DOC: 9274554] â„¹ï¸  Calculated age: 83 from DOB: 03/15/1942
[15:31:39] [DOC: 9274554] â„¹ï¸  Service Line extracted: 'Physical Therapy, Occupational Therapy'
[15:31:39] [DOC: 9274554] â„¹ï¸  Payer Source extracted: 'Medicare'
[15:31:39] [DOC: 9274554] â„¹ï¸  Diagnosis codes being written:
[15:31:39] [DOC: 9274554] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'I65.29'
[15:31:39] [DOC: 9274554] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'E78.5'
[15:31:39] [DOC: 9274554] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'M81.0'
[15:31:39] [DOC: 9274554] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'G47.00'
[15:31:39] [DOC: 9274554] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'I10'
[15:31:39] [DOC: 9274554] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'D50.9'
[15:31:39] [DOC: 9274554] âœ… Patient data written to CSV: Pamela Newell | Sex: FEMALE | Age: 83 | Service: Physical Therapy, Occupational Therapy | Payer: Medicare | MRN: MA250408034202
[15:31:39] âœ…    âœ… Document 9274554 processed and saved successfully
[15:31:39] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:31:39] [DOC: 9274554] â„¹ï¸  API push details saved for document 9274554
[15:31:39] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9273899                         â•‘
================================================================================
[15:31:39] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:31:39] â„¹ï¸  Date: 05/02/2025
[15:31:39] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:31:41] [DOC: 9273899] âœ… Text extracted using pdfplumber (1678 chars)
[15:31:41] âœ…    âœ… Text extracted using pdfplumber (1678 chars)
[15:31:41] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:31:44] â„¹ï¸  AI extracted raw sex value: ''
[15:31:44] â„¹ï¸  AI extracted service line: 'Physical Therapy'
[15:31:44] â„¹ï¸  AI extracted payer source: ''
[15:31:44] â„¹ï¸  AI extracted diagnoses:
[15:31:44] â„¹ï¸    - Diagnosis 1: 'M47.816'
[15:31:44] â„¹ï¸    - Diagnosis 2: 'M75.41'
[15:31:44] â„¹ï¸    - Diagnosis 3: 'M17.0'
[15:31:44] â„¹ï¸    - Diagnosis 4: 'None'
[15:31:44] â„¹ï¸    - Diagnosis 5: 'None'
[15:31:44] â„¹ï¸    - Diagnosis 6: 'None'
[15:31:44] â„¹ï¸  Final extracted MRN: 'MA241216044603'
[15:31:44] â„¹ï¸  Final extracted Sex: ''
[15:31:44] â„¹ï¸  Final extracted Service Line: 'Physical Therapy'
[15:31:44] â„¹ï¸  Final extracted Payer Source: ''
[15:31:44] âœ… Patient data extraction completed successfully
[15:31:44] âœ…    âœ… Patient data extracted successfully
[15:31:44] ğŸ“Š Patient Response
     â””â”€ patientFName: Leonor
     â””â”€ patientLName: Gomes
     â””â”€ dob: 04/15/1946
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA241216044603
     â””â”€ billingProvider: Gloriane Afonso Fede MD
     â””â”€ npi: 1376525063
     â””â”€ physicianNPI: 1376525063
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '04/22/2025', 'endOfEpisode': '06/20/2025', 'firstDiagnosis': 'M47.816', 'secondDiagnosis': 'M75.41', 'thirdDiagnosis': 'M17.0', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:31:44] âœ…    âœ… Patient identified: Leonor Gomes
[15:31:44] âœ…    âœ… Patient name validation passed
[15:31:44] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:31:44] [DOC: 9273899] â„¹ï¸  DOB normalized: 04/15/1946
[15:31:44] [DOC: 9273899] â„¹ï¸  Episode startOfEpisode normalized: 04/22/2025
[15:31:44] [DOC: 9273899] â„¹ï¸  Episode endOfEpisode normalized: 06/20/2025
[15:31:44] [DOC: 9273899] âœ… Patient date processing completed successfully
[15:31:44] âœ…    âœ… Date processing completed
[15:31:44] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Leonor
     â””â”€ patientLName: Gomes
     â””â”€ dob: 04/15/1946
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA241216044603
     â””â”€ billingProvider: Gloriane Afonso Fede MD
     â””â”€ npi: 1376525063
     â””â”€ physicianNPI: 1376525063
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/22/2025', 'endOfEpisode': '06/20/2025', 'firstDiagnosis': 'M47.816', 'secondDiagnosis': 'M75.41', 'thirdDiagnosis': 'M17.0'}]
[15:31:44] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:31:47] â„¹ï¸  Order extraction - MRN: 'MA241216044603'
[15:31:47] â„¹ï¸  Order extraction - Sex: ''
[15:31:47] â„¹ï¸  Order extraction - Service Line: 'Physical Therapy'
[15:31:47] â„¹ï¸  Order extraction - Payer Source: ''
[15:31:47] âœ… Order data extraction completed successfully
[15:31:47] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:31:47] â„¹ï¸  Using MRN from patient data: 'MA241216044603' over 'MA241216044603'
[15:31:47] âš ï¸  Could not determine sex using any available method
[15:31:47] â„¹ï¸  Service line consistent in both sources: 'Physical Therapy'
[15:31:47] âœ… Patient name cross-validation successful
[15:31:47] âœ…    âœ… Data merged successfully
[15:31:49] âœ…    âœ… Order data extracted and validated
[15:31:49] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:31:49] [DOC: 9273899] âœ… Patient found in local cache: Leonor Gomes, ID: 2f7fe652-20e0-42a4-9884-7cd4ba8861fa
[15:31:49] âœ…    âœ… Existing patient found with ID: 2f7fe652-20e0-42a4-9884-7cd4ba8861fa
[15:31:49] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:31:49] [DOC: 9273899] â„¹ï¸  Pushing order via API for patient ID: 2f7fe652-20e0-42a4-9884-7cd4ba8861fa
[15:31:50] [DOC: 9273899] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13800"}
[15:31:50] âŒ    âŒ Failed to push order
[15:31:50] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:31:50] [DOC: 9273899] â„¹ï¸  Calculated age: 79 from DOB: 04/15/1946
[15:31:50] [DOC: 9273899] â„¹ï¸  Service Line extracted: 'Physical Therapy'
[15:31:50] [DOC: 9273899] â„¹ï¸  Payer Source extracted: ''
[15:31:50] [DOC: 9273899] â„¹ï¸  Diagnosis codes being written:
[15:31:50] [DOC: 9273899] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'M47.816'
[15:31:50] [DOC: 9273899] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'M75.41'
[15:31:50] [DOC: 9273899] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'M17.0'
[15:31:50] [DOC: 9273899] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:31:50] [DOC: 9273899] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:31:50] [DOC: 9273899] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:31:50] [DOC: 9273899] âœ… Patient data written to CSV: Leonor Gomes | Sex:  | Age: 79 | Service: Physical Therapy | Payer:  | MRN: MA241216044603
[15:31:50] âœ…    âœ… Document 9273899 processed and saved successfully
[15:31:50] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:31:50] [DOC: 9273899] â„¹ï¸  API push details saved for document 9273899
[15:31:50] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9273162                         â•‘
================================================================================
[15:31:50] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:31:50] â„¹ï¸  Date: 05/02/2025
[15:31:50] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:31:52] [DOC: 9273162] âœ… Text extracted using pdfplumber (1605 chars)
[15:31:52] âœ…    âœ… Text extracted using pdfplumber (1605 chars)
[15:31:52] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:31:55] â„¹ï¸  AI extracted raw sex value: ''
[15:31:55] â„¹ï¸  AI extracted service line: 'Physical Therapy'
[15:31:55] â„¹ï¸  AI extracted payer source: ''
[15:31:55] â„¹ï¸  AI extracted diagnoses:
[15:31:55] â„¹ï¸    - Diagnosis 1: 'J44.0'
[15:31:55] â„¹ï¸    - Diagnosis 2: 'J15.8'
[15:31:55] â„¹ï¸    - Diagnosis 3: 'A41.3'
[15:31:55] â„¹ï¸    - Diagnosis 4: 'None'
[15:31:55] â„¹ï¸    - Diagnosis 5: 'None'
[15:31:55] â„¹ï¸    - Diagnosis 6: 'None'
[15:31:55] â„¹ï¸  Final extracted MRN: 'MA250203063802'
[15:31:55] â„¹ï¸  Final extracted Sex: ''
[15:31:55] â„¹ï¸  Final extracted Service Line: 'Physical Therapy'
[15:31:55] â„¹ï¸  Final extracted Payer Source: ''
[15:31:55] âœ… Patient data extraction completed successfully
[15:31:55] âœ…    âœ… Patient data extracted successfully
[15:31:55] ğŸ“Š Patient Response
     â””â”€ patientFName: Priscila
     â””â”€ patientLName: Diaz
     â””â”€ dob: 06/11/1938
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250203063802
     â””â”€ billingProvider: AILEEN SOUZA MD
     â””â”€ npi: 1598261745
     â””â”€ physicianNPI: 1598261745
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '04/19/2025', 'endOfEpisode': '06/17/2025', 'firstDiagnosis': 'J44.0', 'secondDiagnosis': 'J15.8', 'thirdDiagnosis': 'A41.3', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:31:55] âœ…    âœ… Patient identified: Priscila Diaz
[15:31:55] âœ…    âœ… Patient name validation passed
[15:31:55] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:31:55] [DOC: 9273162] â„¹ï¸  DOB normalized: 06/11/1938
[15:31:55] [DOC: 9273162] â„¹ï¸  Episode startOfEpisode normalized: 04/19/2025
[15:31:55] [DOC: 9273162] â„¹ï¸  Episode endOfEpisode normalized: 06/17/2025
[15:31:55] [DOC: 9273162] âœ… Patient date processing completed successfully
[15:31:55] âœ…    âœ… Date processing completed
[15:31:55] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Priscila
     â””â”€ patientLName: Diaz
     â””â”€ dob: 06/11/1938
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250203063802
     â””â”€ billingProvider: AILEEN SOUZA MD
     â””â”€ npi: 1598261745
     â””â”€ physicianNPI: 1598261745
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/19/2025', 'endOfEpisode': '06/17/2025', 'firstDiagnosis': 'J44.0', 'secondDiagnosis': 'J15.8', 'thirdDiagnosis': 'A41.3'}]
[15:31:55] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:31:57] â„¹ï¸  Order extraction - MRN: 'MA250203063802'
[15:31:57] â„¹ï¸  Order extraction - Sex: ''
[15:31:57] â„¹ï¸  Order extraction - Service Line: 'Physical Therapy'
[15:31:57] â„¹ï¸  Order extraction - Payer Source: ''
[15:31:57] âœ… Order data extraction completed successfully
[15:31:57] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:31:57] â„¹ï¸  Using MRN from patient data: 'MA250203063802' over 'MA250203063802'
[15:31:57] âš ï¸  Could not determine sex using any available method
[15:31:57] â„¹ï¸  Service line consistent in both sources: 'Physical Therapy'
[15:31:57] âœ… Patient name cross-validation successful
[15:31:57] âœ…    âœ… Data merged successfully
[15:31:59] âœ…    âœ… Order data extracted and validated
[15:31:59] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:32:07] [DOC: 9273162] âœ… Patient exists in API: Priscila Diaz, ID: bf0b26ec-d3e8-461a-b0d6-329cae009b94
[15:32:07] âœ…    âœ… Existing patient found with ID: bf0b26ec-d3e8-461a-b0d6-329cae009b94
[15:32:07] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:32:07] [DOC: 9273162] â„¹ï¸  Pushing order via API for patient ID: bf0b26ec-d3e8-461a-b0d6-329cae009b94
[15:32:08] [DOC: 9273162] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13862"}
[15:32:08] âŒ    âŒ Failed to push order
[15:32:08] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:32:08] [DOC: 9273162] â„¹ï¸  Calculated age: 86 from DOB: 06/11/1938
[15:32:08] [DOC: 9273162] â„¹ï¸  Service Line extracted: 'Physical Therapy'
[15:32:08] [DOC: 9273162] â„¹ï¸  Payer Source extracted: ''
[15:32:08] [DOC: 9273162] â„¹ï¸  Diagnosis codes being written:
[15:32:08] [DOC: 9273162] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'J44.0'
[15:32:08] [DOC: 9273162] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'J15.8'
[15:32:08] [DOC: 9273162] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'A41.3'
[15:32:08] [DOC: 9273162] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:32:08] [DOC: 9273162] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:32:08] [DOC: 9273162] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:32:08] [DOC: 9273162] âœ… Patient data written to CSV: Priscila Diaz | Sex:  | Age: 86 | Service: Physical Therapy | Payer:  | MRN: MA250203063802
[15:32:08] âœ…    âœ… Document 9273162 processed and saved successfully
[15:32:08] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:32:08] [DOC: 9273162] â„¹ï¸  API push details saved for document 9273162
[15:32:08] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9273158                         â•‘
================================================================================
[15:32:08] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:32:08] â„¹ï¸  Date: 05/02/2025
[15:32:08] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:32:10] [DOC: 9273158] âœ… Text extracted using pdfplumber (1535 chars)
[15:32:10] âœ…    âœ… Text extracted using pdfplumber (1535 chars)
[15:32:10] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:32:13] â„¹ï¸  AI extracted raw sex value: ''
[15:32:13] â„¹ï¸  AI extracted service line: 'Occupational Therapy'
[15:32:13] â„¹ï¸  AI extracted payer source: ''
[15:32:13] â„¹ï¸  AI extracted diagnoses:
[15:32:13] â„¹ï¸    - Diagnosis 1: 'J44.0'
[15:32:13] â„¹ï¸    - Diagnosis 2: 'J15.8'
[15:32:13] â„¹ï¸    - Diagnosis 3: 'A41.3'
[15:32:13] â„¹ï¸    - Diagnosis 4: ''
[15:32:13] â„¹ï¸    - Diagnosis 5: ''
[15:32:13] â„¹ï¸    - Diagnosis 6: ''
[15:32:13] â„¹ï¸  Final extracted MRN: 'MA250203063802'
[15:32:13] â„¹ï¸  Final extracted Sex: ''
[15:32:13] â„¹ï¸  Final extracted Service Line: 'Occupational Therapy'
[15:32:13] â„¹ï¸  Final extracted Payer Source: ''
[15:32:13] âœ… Patient data extraction completed successfully
[15:32:13] âœ…    âœ… Patient data extracted successfully
[15:32:13] ğŸ“Š Patient Response
     â””â”€ patientFName: Priscila
     â””â”€ patientLName: Diaz
     â””â”€ dob: 06/11/1938
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250203063802
     â””â”€ billingProvider: AILEEN SOUZA MD
     â””â”€ npi: 1598261745
     â””â”€ physicianNPI: 1598261745
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '04/19/2025', 'endOfEpisode': '06/17/2025', 'firstDiagnosis': 'J44.0', 'secondDiagnosis': 'J15.8', 'thirdDiagnosis': 'A41.3', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:32:13] âœ…    âœ… Patient identified: Priscila Diaz
[15:32:13] âœ…    âœ… Patient name validation passed
[15:32:13] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:32:13] [DOC: 9273158] â„¹ï¸  DOB normalized: 06/11/1938
[15:32:13] [DOC: 9273158] â„¹ï¸  Episode startOfEpisode normalized: 04/19/2025
[15:32:13] [DOC: 9273158] â„¹ï¸  Episode endOfEpisode normalized: 06/17/2025
[15:32:13] [DOC: 9273158] âœ… Patient date processing completed successfully
[15:32:13] âœ…    âœ… Date processing completed
[15:32:13] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Priscila
     â””â”€ patientLName: Diaz
     â””â”€ dob: 06/11/1938
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250203063802
     â””â”€ billingProvider: AILEEN SOUZA MD
     â””â”€ npi: 1598261745
     â””â”€ physicianNPI: 1598261745
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/19/2025', 'endOfEpisode': '06/17/2025', 'firstDiagnosis': 'J44.0', 'secondDiagnosis': 'J15.8', 'thirdDiagnosis': 'A41.3', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:32:13] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:32:16] â„¹ï¸  Order extraction - MRN: 'MA250203063802'
[15:32:16] â„¹ï¸  Order extraction - Sex: ''
[15:32:16] â„¹ï¸  Order extraction - Service Line: 'Occupational Therapy'
[15:32:16] â„¹ï¸  Order extraction - Payer Source: ''
[15:32:16] âœ… Order data extraction completed successfully
[15:32:16] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:32:16] â„¹ï¸  Using MRN from patient data: 'MA250203063802' over 'MA250203063802'
[15:32:16] âš ï¸  Could not determine sex using any available method
[15:32:16] â„¹ï¸  Service line consistent in both sources: 'Occupational Therapy'
[15:32:16] âœ… Patient name cross-validation successful
[15:32:16] âœ…    âœ… Data merged successfully
[15:32:17] âœ…    âœ… Order data extracted and validated
[15:32:17] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:32:17] [DOC: 9273158] âœ… Patient found in local cache: Priscila Diaz, ID: bf0b26ec-d3e8-461a-b0d6-329cae009b94
[15:32:17] âœ…    âœ… Existing patient found with ID: bf0b26ec-d3e8-461a-b0d6-329cae009b94
[15:32:17] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:32:17] [DOC: 9273158] â„¹ï¸  Pushing order via API for patient ID: bf0b26ec-d3e8-461a-b0d6-329cae009b94
[15:32:18] [DOC: 9273158] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13864"}
[15:32:18] âŒ    âŒ Failed to push order
[15:32:18] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:32:18] [DOC: 9273158] â„¹ï¸  Calculated age: 86 from DOB: 06/11/1938
[15:32:18] [DOC: 9273158] â„¹ï¸  Service Line extracted: 'Occupational Therapy'
[15:32:18] [DOC: 9273158] â„¹ï¸  Payer Source extracted: ''
[15:32:18] [DOC: 9273158] â„¹ï¸  Diagnosis codes being written:
[15:32:18] [DOC: 9273158] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'J44.0'
[15:32:18] [DOC: 9273158] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'J15.8'
[15:32:18] [DOC: 9273158] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'A41.3'
[15:32:18] [DOC: 9273158] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:32:18] [DOC: 9273158] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:32:18] [DOC: 9273158] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:32:18] [DOC: 9273158] âœ… Patient data written to CSV: Priscila Diaz | Sex:  | Age: 86 | Service: Occupational Therapy | Payer:  | MRN: MA250203063802
[15:32:18] âœ…    âœ… Document 9273158 processed and saved successfully
[15:32:18] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:32:18] [DOC: 9273158] â„¹ï¸  API push details saved for document 9273158
[15:32:18] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9273156                         â•‘
================================================================================
[15:32:18] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:32:18] â„¹ï¸  Date: 05/02/2025
[15:32:18] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:32:20] [DOC: 9273156] âœ… Text extracted using pdfplumber (12240 chars)
[15:32:20] âœ…    âœ… Text extracted using pdfplumber (12240 chars)
[15:32:20] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:32:23] â„¹ï¸  AI extracted raw sex value: 'F'
[15:32:23] â„¹ï¸  AI extracted service line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:32:23] â„¹ï¸  AI extracted payer source: 'SWH'
[15:32:23] â„¹ï¸  AI extracted diagnoses:
[15:32:23] â„¹ï¸    - Diagnosis 1: 'J44.0'
[15:32:23] â„¹ï¸    - Diagnosis 2: 'J15.8'
[15:32:23] â„¹ï¸    - Diagnosis 3: 'A41.3'
[15:32:23] â„¹ï¸    - Diagnosis 4: 'A40.9'
[15:32:23] â„¹ï¸    - Diagnosis 5: 'J96.00'
[15:32:23] â„¹ï¸    - Diagnosis 6: 'I48.91'
[15:32:23] â„¹ï¸  Final extracted MRN: 'MA250203063802'
[15:32:23] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:32:23] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:32:23] â„¹ï¸  Final extracted Payer Source: 'SWH'
[15:32:23] âœ… Patient data extraction completed successfully
[15:32:23] âœ…    âœ… Patient data extracted successfully
[15:32:23] ğŸ“Š Patient Response
     â””â”€ patientFName: Priscila
     â””â”€ patientLName: Diaz
     â””â”€ dob: 06/11/1938
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: MA250203063802
     â””â”€ billingProvider: SOUZA, AILEEN MD
     â””â”€ npi: 1598261745
     â””â”€ physicianNPI: 1598261745
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 151 Rockway St
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02740
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 817-7759
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy
     â””â”€ payorSource: SWH
     â””â”€ episodeDiagnoses: [{'startOfCare': '02/18/2025', 'startOfEpisode': '04/19/2025', 'endOfEpisode': '06/17/2025', 'firstDiagnosis': 'J44.0', 'secondDiagnosis': 'J15.8', 'thirdDiagnosis': 'A41.3', 'fourthDiagnosis': 'A40.9', 'fifthDiagnosis': 'J96.00', 'sixthDiagnosis': 'I48.91'}]
[15:32:23] âœ…    âœ… Patient identified: Priscila Diaz
[15:32:23] âœ…    âœ… Patient name validation passed
[15:32:23] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:32:23] [DOC: 9273156] â„¹ï¸  DOB normalized: 06/11/1938
[15:32:23] [DOC: 9273156] â„¹ï¸  Episode startOfCare normalized: 02/18/2025
[15:32:23] [DOC: 9273156] â„¹ï¸  Episode startOfEpisode normalized: 04/19/2025
[15:32:23] [DOC: 9273156] â„¹ï¸  Episode endOfEpisode normalized: 06/17/2025
[15:32:23] [DOC: 9273156] âœ… Patient date processing completed successfully
[15:32:23] âœ…    âœ… Date processing completed
[15:32:23] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Priscila
     â””â”€ patientLName: Diaz
     â””â”€ dob: 06/11/1938
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: MA250203063802
     â””â”€ billingProvider: SOUZA, AILEEN MD
     â””â”€ npi: 1598261745
     â””â”€ physicianNPI: 1598261745
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 151 Rockway St
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02740
     â””â”€ phoneNumber: (508) 817-7759
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy
     â””â”€ payorSource: SWH
     â””â”€ episodeDiagnoses: [{'startOfCare': '02/18/2025', 'startOfEpisode': '04/19/2025', 'endOfEpisode': '06/17/2025', 'firstDiagnosis': 'J44.0', 'secondDiagnosis': 'J15.8', 'thirdDiagnosis': 'A41.3', 'fourthDiagnosis': 'A40.9', 'fifthDiagnosis': 'J96.00', 'sixthDiagnosis': 'I48.91'}]
[15:32:23] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:32:26] â„¹ï¸  Order extraction - MRN: 'MA250203063802'
[15:32:26] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:32:26] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:32:26] â„¹ï¸  Order extraction - Payer Source: 'SWH'
[15:32:26] âœ… Order data extraction completed successfully
[15:32:26] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:32:26] â„¹ï¸  Using MRN from patient data: 'MA250203063802' over 'MA250203063802'
[15:32:26] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:32:26] â„¹ï¸  Payer source consistent in both sources: 'SWH'
[15:32:26] âœ… Patient name cross-validation successful
[15:32:26] âœ…    âœ… Data merged successfully
[15:32:28] âœ…    âœ… Order data extracted and validated
[15:32:28] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:32:28] [DOC: 9273156] âœ… Patient found in local cache: Priscila Diaz, ID: bf0b26ec-d3e8-461a-b0d6-329cae009b94
[15:32:28] âœ…    âœ… Existing patient found with ID: bf0b26ec-d3e8-461a-b0d6-329cae009b94
[15:32:28] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:32:28] [DOC: 9273156] â„¹ï¸  Pushing order via API for patient ID: bf0b26ec-d3e8-461a-b0d6-329cae009b94
[15:32:29] [DOC: 9273156] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13865"}
[15:32:29] âŒ    âŒ Failed to push order
[15:32:29] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:32:29] [DOC: 9273156] â„¹ï¸  Calculated age: 86 from DOB: 06/11/1938
[15:32:29] [DOC: 9273156] â„¹ï¸  Service Line extracted: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:32:29] [DOC: 9273156] â„¹ï¸  Payer Source extracted: 'SWH'
[15:32:29] [DOC: 9273156] â„¹ï¸  Diagnosis codes being written:
[15:32:29] [DOC: 9273156] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'J44.0'
[15:32:29] [DOC: 9273156] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'J15.8'
[15:32:29] [DOC: 9273156] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'A41.3'
[15:32:29] [DOC: 9273156] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'A40.9'
[15:32:29] [DOC: 9273156] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'J96.00'
[15:32:29] [DOC: 9273156] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'I48.91'
[15:32:29] [DOC: 9273156] âœ… Patient data written to CSV: Priscila Diaz | Sex: FEMALE | Age: 86 | Service: Skilled Nursing, Physical Therapy, Occupational Therapy | Payer: SWH | MRN: MA250203063802
[15:32:29] âœ…    âœ… Document 9273156 processed and saved successfully
[15:32:29] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:32:29] [DOC: 9273156] â„¹ï¸  API push details saved for document 9273156
[15:32:29] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9273152                         â•‘
================================================================================
[15:32:29] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:32:29] â„¹ï¸  Date: 05/02/2025
[15:32:29] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:32:31] [DOC: 9273152] âœ… Text extracted using pdfplumber (3310 chars)
[15:32:31] âœ…    âœ… Text extracted using pdfplumber (3310 chars)
[15:32:31] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:32:34] â„¹ï¸  AI extracted raw sex value: ''
[15:32:34] â„¹ï¸  AI extracted service line: 'Physical Therapy'
[15:32:34] â„¹ï¸  AI extracted payer source: ''
[15:32:34] â„¹ï¸  AI extracted diagnoses:
[15:32:34] â„¹ï¸    - Diagnosis 1: 'J44.0'
[15:32:34] â„¹ï¸    - Diagnosis 2: 'J15.8'
[15:32:34] â„¹ï¸    - Diagnosis 3: 'A41.3'
[15:32:34] â„¹ï¸    - Diagnosis 4: 'None'
[15:32:34] â„¹ï¸    - Diagnosis 5: 'None'
[15:32:34] â„¹ï¸    - Diagnosis 6: 'None'
[15:32:34] â„¹ï¸  Final extracted MRN: 'MA250203063802'
[15:32:34] â„¹ï¸  Final extracted Sex: ''
[15:32:34] â„¹ï¸  Final extracted Service Line: 'Physical Therapy'
[15:32:34] â„¹ï¸  Final extracted Payer Source: ''
[15:32:34] âœ… Patient data extraction completed successfully
[15:32:34] âœ…    âœ… Patient data extracted successfully
[15:32:34] ğŸ“Š Patient Response
     â””â”€ patientFName: Priscila
     â””â”€ patientLName: Diaz
     â””â”€ dob: 06/11/1938
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250203063802
     â””â”€ billingProvider: AILEEN SOUZA MD
     â””â”€ npi: 1598261745
     â””â”€ physicianNPI: 1598261745
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '02/18/2025', 'endOfEpisode': '04/18/2025', 'firstDiagnosis': 'J44.0', 'secondDiagnosis': 'J15.8', 'thirdDiagnosis': 'A41.3', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:32:34] âœ…    âœ… Patient identified: Priscila Diaz
[15:32:34] âœ…    âœ… Patient name validation passed
[15:32:34] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:32:34] [DOC: 9273152] â„¹ï¸  DOB normalized: 06/11/1938
[15:32:34] [DOC: 9273152] â„¹ï¸  Episode startOfEpisode normalized: 02/18/2025
[15:32:34] [DOC: 9273152] â„¹ï¸  Episode endOfEpisode normalized: 04/18/2025
[15:32:34] [DOC: 9273152] âœ… Patient date processing completed successfully
[15:32:34] âœ…    âœ… Date processing completed
[15:32:34] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Priscila
     â””â”€ patientLName: Diaz
     â””â”€ dob: 06/11/1938
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250203063802
     â””â”€ billingProvider: AILEEN SOUZA MD
     â””â”€ npi: 1598261745
     â””â”€ physicianNPI: 1598261745
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '02/18/2025', 'endOfEpisode': '04/18/2025', 'firstDiagnosis': 'J44.0', 'secondDiagnosis': 'J15.8', 'thirdDiagnosis': 'A41.3'}]
[15:32:34] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:32:37] â„¹ï¸  Order extraction - MRN: 'MA250203063802'
[15:32:37] â„¹ï¸  Order extraction - Sex: ''
[15:32:37] â„¹ï¸  Order extraction - Service Line: 'PT'
[15:32:37] â„¹ï¸  Order extraction - Payer Source: ''
[15:32:37] âœ… Order data extraction completed successfully
[15:32:37] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:32:37] â„¹ï¸  Using MRN from patient data: 'MA250203063802' over 'MA250203063802'
[15:32:37] âš ï¸  Could not determine sex using any available method
[15:32:37] â„¹ï¸  Combined service lines: Patient='Physical Therapy' + Order='PT' = 'PT, Physical Therapy'
[15:32:37] âœ… Patient name cross-validation successful
[15:32:37] âœ…    âœ… Data merged successfully
[15:32:38] âœ…    âœ… Order data extracted and validated
[15:32:38] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:32:38] [DOC: 9273152] âœ… Patient found in local cache: Priscila Diaz, ID: bf0b26ec-d3e8-461a-b0d6-329cae009b94
[15:32:38] âœ…    âœ… Existing patient found with ID: bf0b26ec-d3e8-461a-b0d6-329cae009b94
[15:32:38] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:32:38] [DOC: 9273152] â„¹ï¸  Pushing order via API for patient ID: bf0b26ec-d3e8-461a-b0d6-329cae009b94
[15:32:39] [DOC: 9273152] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13867"}
[15:32:39] âŒ    âŒ Failed to push order
[15:32:39] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:32:39] [DOC: 9273152] â„¹ï¸  Calculated age: 86 from DOB: 06/11/1938
[15:32:39] [DOC: 9273152] â„¹ï¸  Service Line extracted: 'PT, Physical Therapy'
[15:32:39] [DOC: 9273152] â„¹ï¸  Payer Source extracted: ''
[15:32:39] [DOC: 9273152] â„¹ï¸  Diagnosis codes being written:
[15:32:39] [DOC: 9273152] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'J44.0'
[15:32:39] [DOC: 9273152] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'J15.8'
[15:32:39] [DOC: 9273152] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'A41.3'
[15:32:39] [DOC: 9273152] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:32:39] [DOC: 9273152] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:32:39] [DOC: 9273152] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:32:39] [DOC: 9273152] âœ… Patient data written to CSV: Priscila Diaz | Sex:  | Age: 86 | Service: PT, Physical Therapy | Payer:  | MRN: MA250203063802
[15:32:39] âœ…    âœ… Document 9273152 processed and saved successfully
[15:32:39] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:32:39] [DOC: 9273152] â„¹ï¸  API push details saved for document 9273152
[15:32:39] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9273110                         â•‘
================================================================================
[15:32:39] â„¹ï¸  Agency: AccentCare Fall River
[15:32:39] â„¹ï¸  Date: 05/02/2025
[15:32:39] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:32:41] [DOC: 9273110] âœ… Text extracted using pdfplumber (1628 chars)
[15:32:41] âœ…    âœ… Text extracted using pdfplumber (1628 chars)
[15:32:41] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:32:44] â„¹ï¸  AI extracted raw sex value: ''
[15:32:44] â„¹ï¸  AI extracted service line: 'Nursing'
[15:32:44] â„¹ï¸  AI extracted payer source: ''
[15:32:44] â„¹ï¸  AI extracted diagnoses:
[15:32:44] â„¹ï¸    - Diagnosis 1: ''
[15:32:44] â„¹ï¸    - Diagnosis 2: ''
[15:32:44] â„¹ï¸    - Diagnosis 3: ''
[15:32:44] â„¹ï¸    - Diagnosis 4: ''
[15:32:44] â„¹ï¸    - Diagnosis 5: ''
[15:32:44] â„¹ï¸    - Diagnosis 6: ''
[15:32:44] â„¹ï¸  Final extracted MRN: 'C0200237232301'
[15:32:44] â„¹ï¸  Final extracted Sex: ''
[15:32:44] â„¹ï¸  Final extracted Service Line: 'Nursing'
[15:32:44] â„¹ï¸  Final extracted Payer Source: ''
[15:32:44] âœ… Patient data extraction completed successfully
[15:32:44] âœ…    âœ… Patient data extracted successfully
[15:32:44] ğŸ“Š Patient Response
     â””â”€ patientFName: MILO
     â””â”€ patientLName: WEBSTER
     â””â”€ dob: 07/21/1959
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: C0200237232301
     â””â”€ billingProvider: JORDAN GULAREK, DO
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: ACCENTCARE OF MASS, INC. DBA AC HH OF MASS
     â””â”€ address: 21 FATHER DEVALLES BLVD STE 104
     â””â”€ city: FALL RIVER
     â””â”€ state: MA
     â””â”€ zip: 02723-1519
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 235-5312
     â””â”€ serviceLine: Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:32:44] âœ…    âœ… Patient identified: MILO WEBSTER
[15:32:44] âœ…    âœ… Patient name validation passed
[15:32:44] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:32:44] [DOC: 9273110] â„¹ï¸  DOB normalized: 07/21/1959
[15:32:44] [DOC: 9273110] âœ… Patient date processing completed successfully
[15:32:44] âœ…    âœ… Date processing completed
[15:32:44] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: MILO
     â””â”€ patientLName: WEBSTER
     â””â”€ dob: 07/21/1959
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: C0200237232301
     â””â”€ billingProvider: JORDAN GULAREK, DO
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: ACCENTCARE OF MASS, INC. DBA AC HH OF MASS
     â””â”€ address: 21 FATHER DEVALLES BLVD STE 104
     â””â”€ city: FALL RIVER
     â””â”€ state: MA
     â””â”€ zip: 02723-1519
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 235-5312
     â””â”€ serviceLine: Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:32:44] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:32:46] â„¹ï¸  Order extraction - MRN: 'C0200237232301'
[15:32:46] â„¹ï¸  Order extraction - Sex: ''
[15:32:46] â„¹ï¸  Order extraction - Service Line: ''
[15:32:46] â„¹ï¸  Order extraction - Payer Source: ''
[15:32:46] âœ… Order data extraction completed successfully
[15:32:46] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:32:46] â„¹ï¸  Using MRN from patient data: 'C0200237232301' over 'C0200237232301'
[15:32:46] âš ï¸  Could not determine sex using any available method
[15:32:46] â„¹ï¸  Using service line from patient data: 'Nursing'
[15:32:46] âœ… Patient name cross-validation successful
[15:32:46] âœ…    âœ… Data merged successfully
[15:32:48] âœ…    âœ… Order data extracted and validated
[15:32:48] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:32:48] [DOC: 9273110] âœ… Patient found in local cache: MILO WEBSTER, ID: 695c5703-e477-4b11-a055-202369179483
[15:32:48] âœ…    âœ… Existing patient found with ID: 695c5703-e477-4b11-a055-202369179483
[15:32:48] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:32:48] [DOC: 9273110] â„¹ï¸  Pushing order via API for patient ID: 695c5703-e477-4b11-a055-202369179483
[15:32:49] [DOC: 9273110] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14417"}
[15:32:49] âŒ    âŒ Failed to push order
[15:32:49] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:32:49] [DOC: 9273110] â„¹ï¸  Calculated age: 65 from DOB: 07/21/1959
[15:32:49] [DOC: 9273110] â„¹ï¸  Service Line extracted: 'Nursing'
[15:32:49] [DOC: 9273110] â„¹ï¸  Payer Source extracted: ''
[15:32:49] [DOC: 9273110] â„¹ï¸  Diagnosis codes being written:
[15:32:49] [DOC: 9273110] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[15:32:49] [DOC: 9273110] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[15:32:49] [DOC: 9273110] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[15:32:49] [DOC: 9273110] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:32:49] [DOC: 9273110] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:32:49] [DOC: 9273110] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:32:49] [DOC: 9273110] âœ… Patient data written to CSV: MILO WEBSTER | Sex:  | Age: 65 | Service: Nursing | Payer:  | MRN: C0200237232301
[15:32:49] âœ…    âœ… Document 9273110 processed and saved successfully
[15:32:49] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:32:49] [DOC: 9273110] â„¹ï¸  API push details saved for document 9273110
[15:32:49] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9273103                         â•‘
================================================================================
[15:32:49] â„¹ï¸  Agency: Compassionate Care Hospice-Taunton
[15:32:49] â„¹ï¸  Date: 05/02/2025
[15:32:49] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:32:51] [DOC: 9273103] âœ… Text extracted using pdfplumber (1185 chars)
[15:32:51] âœ…    âœ… Text extracted using pdfplumber (1173 chars)
[15:32:51] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:32:54] â„¹ï¸  AI extracted raw sex value: ''
[15:32:54] â„¹ï¸  AI extracted service line: ''
[15:32:54] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:32:54] â„¹ï¸  AI extracted diagnoses:
[15:32:54] â„¹ï¸    - Diagnosis 1: ''
[15:32:54] â„¹ï¸    - Diagnosis 2: ''
[15:32:54] â„¹ï¸    - Diagnosis 3: ''
[15:32:54] â„¹ï¸    - Diagnosis 4: ''
[15:32:54] â„¹ï¸    - Diagnosis 5: ''
[15:32:54] â„¹ï¸    - Diagnosis 6: ''
[15:32:54] â„¹ï¸  Final extracted MRN: 'B3700365065902'
[15:32:54] â„¹ï¸  Final extracted Sex: ''
[15:32:54] â„¹ï¸  Final extracted Service Line: ''
[15:32:54] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:32:54] âœ… Patient data extraction completed successfully
[15:32:54] âœ…    âœ… Patient data extracted successfully
[15:32:54] ğŸ“Š Patient Response
     â””â”€ patientFName: RICHARD
     â””â”€ patientLName: SIMMONS
     â””â”€ dob: 03/28/1931
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: B3700365065902
     â””â”€ billingProvider: COMPASSIONATE CARE HOSPICE
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: COMPASSIONATE CARE HOSPICE
     â””â”€ address: 4475 2 LAKESHORE CENTER SUITE 110
     â””â”€ city: BRIDGEWATER
     â””â”€ state: MA
     â””â”€ zip: 02324-1077
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 399-5900
     â””â”€ serviceLine: 
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:32:54] âœ…    âœ… Patient identified: RICHARD SIMMONS
[15:32:54] âœ…    âœ… Patient name validation passed
[15:32:54] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:32:54] [DOC: 9273103] â„¹ï¸  DOB normalized: 03/28/1931
[15:32:54] [DOC: 9273103] âœ… Patient date processing completed successfully
[15:32:54] âœ…    âœ… Date processing completed
[15:32:54] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: RICHARD
     â””â”€ patientLName: SIMMONS
     â””â”€ dob: 03/28/1931
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: B3700365065902
     â””â”€ billingProvider: COMPASSIONATE CARE HOSPICE
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: COMPASSIONATE CARE HOSPICE
     â””â”€ address: 4475 2 LAKESHORE CENTER SUITE 110
     â””â”€ city: BRIDGEWATER
     â””â”€ state: MA
     â””â”€ zip: 02324-1077
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 399-5900
     â””â”€ serviceLine: 
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:32:54] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:32:56] â„¹ï¸  Order extraction - MRN: 'B3700365065902'
[15:32:56] â„¹ï¸  Order extraction - Sex: ''
[15:32:56] â„¹ï¸  Order extraction - Service Line: ''
[15:32:56] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:32:56] âœ… Order data extraction completed successfully
[15:32:56] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:32:56] â„¹ï¸  Using MRN from patient data: 'B3700365065902' over 'B3700365065902'
[15:32:56] â„¹ï¸  Inferred sex as MALE from name: RICHARD
[15:32:56] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:32:56] âœ… Patient name cross-validation successful
[15:32:56] âœ…    âœ… Data merged successfully
[15:32:57] âœ…    âœ… Order data extracted and validated
[15:32:57] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:33:02] [DOC: 9273103] âœ… Patient exists in API: RICHARD SIMMONS, ID: fb13de4e-e12b-487b-9527-fa575e9f8c29
[15:33:02] âœ…    âœ… Existing patient found with ID: fb13de4e-e12b-487b-9527-fa575e9f8c29
[15:33:02] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:33:02] [DOC: 9273103] â„¹ï¸  Pushing order via API for patient ID: fb13de4e-e12b-487b-9527-fa575e9f8c29
[15:33:03] [DOC: 9273103] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14430"}
[15:33:03] âŒ    âŒ Failed to push order
[15:33:03] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:33:03] [DOC: 9273103] â„¹ï¸  Calculated age: 94 from DOB: 03/28/1931
[15:33:03] [DOC: 9273103] â„¹ï¸  Service Line extracted: ''
[15:33:03] [DOC: 9273103] â„¹ï¸  Payer Source extracted: 'Medicare'
[15:33:03] [DOC: 9273103] â„¹ï¸  Diagnosis codes being written:
[15:33:03] [DOC: 9273103] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[15:33:03] [DOC: 9273103] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[15:33:03] [DOC: 9273103] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[15:33:03] [DOC: 9273103] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:33:03] [DOC: 9273103] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:33:03] [DOC: 9273103] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:33:03] [DOC: 9273103] âœ… Patient data written to CSV: RICHARD SIMMONS | Sex: MALE | Age: 94 | Service:  | Payer: Medicare | MRN: B3700365065902
[15:33:03] âœ…    âœ… Document 9273103 processed and saved successfully
[15:33:03] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:33:03] [DOC: 9273103] â„¹ï¸  API push details saved for document 9273103
[15:33:03] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9273095                         â•‘
================================================================================
[15:33:03] â„¹ï¸  Agency: Compassionate Care Hospice-Taunton
[15:33:03] â„¹ï¸  Date: 05/02/2025
[15:33:03] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:33:05] [DOC: 9273095] âœ… Text extracted using pdfplumber (1588 chars)
[15:33:05] âœ…    âœ… Text extracted using pdfplumber (1576 chars)
[15:33:05] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:33:07] â„¹ï¸  AI extracted raw sex value: ''
[15:33:07] â„¹ï¸  AI extracted service line: 'Hospice'
[15:33:07] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:33:07] â„¹ï¸  AI extracted diagnoses:
[15:33:07] â„¹ï¸    - Diagnosis 1: ''
[15:33:07] â„¹ï¸    - Diagnosis 2: ''
[15:33:07] â„¹ï¸    - Diagnosis 3: ''
[15:33:07] â„¹ï¸    - Diagnosis 4: ''
[15:33:07] â„¹ï¸    - Diagnosis 5: ''
[15:33:07] â„¹ï¸    - Diagnosis 6: ''
[15:33:07] â„¹ï¸  Final extracted MRN: 'B3700296223202'
[15:33:07] â„¹ï¸  Final extracted Sex: ''
[15:33:07] â„¹ï¸  Final extracted Service Line: 'Hospice'
[15:33:07] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:33:07] âœ… Patient data extraction completed successfully
[15:33:07] âœ…    âœ… Patient data extracted successfully
[15:33:07] ğŸ“Š Patient Response
     â””â”€ patientFName: MARIA
     â””â”€ patientLName: JARDIM
     â””â”€ dob: 05/20/1931
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: B3700296223202
     â””â”€ billingProvider: COMPASSIONATE CARE HOSPICE
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: COMPASSIONATE CARE HOSPICE
     â””â”€ address: 4475 2 LAKESHORE CENTER SUITE 110
     â””â”€ city: BRIDGEWATER
     â””â”€ state: MA
     â””â”€ zip: 02324-1077
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 399-5900
     â””â”€ serviceLine: Hospice
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '03/23/2025', 'endOfEpisode': '05/21/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:33:07] âœ…    âœ… Patient identified: MARIA JARDIM
[15:33:07] âœ…    âœ… Patient name validation passed
[15:33:07] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:33:07] [DOC: 9273095] â„¹ï¸  DOB normalized: 05/20/1931
[15:33:07] [DOC: 9273095] â„¹ï¸  Episode startOfEpisode normalized: 03/23/2025
[15:33:07] [DOC: 9273095] â„¹ï¸  Episode endOfEpisode normalized: 05/21/2025
[15:33:07] [DOC: 9273095] âœ… Patient date processing completed successfully
[15:33:07] âœ…    âœ… Date processing completed
[15:33:07] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: MARIA
     â””â”€ patientLName: JARDIM
     â””â”€ dob: 05/20/1931
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: B3700296223202
     â””â”€ billingProvider: COMPASSIONATE CARE HOSPICE
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: COMPASSIONATE CARE HOSPICE
     â””â”€ address: 4475 2 LAKESHORE CENTER SUITE 110
     â””â”€ city: BRIDGEWATER
     â””â”€ state: MA
     â””â”€ zip: 02324-1077
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 399-5900
     â””â”€ serviceLine: Hospice
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '03/23/2025', 'endOfEpisode': '05/21/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:33:07] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:33:10] â„¹ï¸  Order extraction - MRN: 'B3700296223202'
[15:33:10] â„¹ï¸  Order extraction - Sex: ''
[15:33:10] â„¹ï¸  Order extraction - Service Line: 'Hospice'
[15:33:10] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:33:10] âœ… Order data extraction completed successfully
[15:33:10] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:33:10] â„¹ï¸  Using MRN from patient data: 'B3700296223202' over 'B3700296223202'
[15:33:10] â„¹ï¸  Inferred sex as FEMALE from name: MARIA
[15:33:10] â„¹ï¸  Service line consistent in both sources: 'Hospice'
[15:33:10] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:33:10] âœ… Patient name cross-validation successful
[15:33:10] âœ…    âœ… Data merged successfully
[15:33:11] âœ…    âœ… Order data extracted and validated
[15:33:11] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:33:11] [DOC: 9273095] âœ… Patient found in local cache: MARIA JARDIM, ID: b4164e43-2407-47e7-a001-5a62bcf633fe
[15:33:11] âœ…    âœ… Existing patient found with ID: b4164e43-2407-47e7-a001-5a62bcf633fe
[15:33:11] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:33:11] [DOC: 9273095] â„¹ï¸  Pushing order via API for patient ID: b4164e43-2407-47e7-a001-5a62bcf633fe
[15:33:12] [DOC: 9273095] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14518"}
[15:33:12] âŒ    âŒ Failed to push order
[15:33:12] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:33:12] [DOC: 9273095] â„¹ï¸  Calculated age: 94 from DOB: 05/20/1931
[15:33:12] [DOC: 9273095] â„¹ï¸  Service Line extracted: 'Hospice'
[15:33:12] [DOC: 9273095] â„¹ï¸  Payer Source extracted: 'Medicare'
[15:33:12] [DOC: 9273095] â„¹ï¸  Diagnosis codes being written:
[15:33:12] [DOC: 9273095] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[15:33:12] [DOC: 9273095] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[15:33:12] [DOC: 9273095] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[15:33:12] [DOC: 9273095] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:33:12] [DOC: 9273095] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:33:12] [DOC: 9273095] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:33:12] [DOC: 9273095] âœ… Patient data written to CSV: MARIA JARDIM | Sex: FEMALE | Age: 94 | Service: Hospice | Payer: Medicare | MRN: B3700296223202
[15:33:12] âœ…    âœ… Document 9273095 processed and saved successfully
[15:33:12] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:33:12] [DOC: 9273095] â„¹ï¸  API push details saved for document 9273095
[15:33:12] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9273092                         â•‘
================================================================================
[15:33:12] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:33:12] â„¹ï¸  Date: 05/02/2025
[15:33:12] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:33:14] [DOC: 9273092] âœ… Text extracted using pdfplumber (14660 chars)
[15:33:14] âœ…    âœ… Text extracted using pdfplumber (14648 chars)
[15:33:14] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:33:18] â„¹ï¸  AI extracted raw sex value: 'M'
[15:33:18] â„¹ï¸  AI extracted service line: 'Skilled Nursing, Physical Therapy'
[15:33:18] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:33:18] â„¹ï¸  AI extracted diagnoses:
[15:33:18] â„¹ï¸    - Diagnosis 1: 'I10'
[15:33:18] â„¹ï¸    - Diagnosis 2: 'I50.30'
[15:33:18] â„¹ï¸    - Diagnosis 3: 'E11.22'
[15:33:18] â„¹ï¸    - Diagnosis 4: 'E11.65'
[15:33:18] â„¹ï¸    - Diagnosis 5: 'N18.32'
[15:33:18] â„¹ï¸    - Diagnosis 6: 'Z79.4'
[15:33:18] â„¹ï¸  Final extracted MRN: 'MA250328034304'
[15:33:18] â„¹ï¸  Final extracted Sex: 'MALE'
[15:33:18] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing, Physical Therapy'
[15:33:18] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:33:18] âœ… Patient data extraction completed successfully
[15:33:18] âœ…    âœ… Patient data extracted successfully
[15:33:18] ğŸ“Š Patient Response
     â””â”€ patientFName: Frederick
     â””â”€ patientLName: Turner
     â””â”€ dob: 03/05/1943
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: MA250328034304
     â””â”€ billingProvider: WILL, CHRISTINE MD
     â””â”€ npi: 1760458632
     â””â”€ physicianNPI: 1760458632
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 231 Middle St
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02740
     â””â”€ email: None
     â””â”€ phoneNumber: (774) 473-7945
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/01/2025', 'startOfEpisode': '04/01/2025', 'endOfEpisode': '05/30/2025', 'firstDiagnosis': 'I10', 'secondDiagnosis': 'I50.30', 'thirdDiagnosis': 'E11.22', 'fourthDiagnosis': 'E11.65', 'fifthDiagnosis': 'N18.32', 'sixthDiagnosis': 'Z79.4'}]
[15:33:18] âœ…    âœ… Patient identified: Frederick Turner
[15:33:18] âœ…    âœ… Patient name validation passed
[15:33:18] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:33:18] [DOC: 9273092] â„¹ï¸  DOB normalized: 03/05/1943
[15:33:18] [DOC: 9273092] â„¹ï¸  Episode startOfCare normalized: 04/01/2025
[15:33:18] [DOC: 9273092] â„¹ï¸  Episode startOfEpisode normalized: 04/01/2025
[15:33:18] [DOC: 9273092] â„¹ï¸  Episode endOfEpisode normalized: 05/30/2025
[15:33:18] [DOC: 9273092] âœ… Patient date processing completed successfully
[15:33:18] âœ…    âœ… Date processing completed
[15:33:18] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Frederick
     â””â”€ patientLName: Turner
     â””â”€ dob: 03/05/1943
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: MA250328034304
     â””â”€ billingProvider: WILL, CHRISTINE MD
     â””â”€ npi: 1760458632
     â””â”€ physicianNPI: 1760458632
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 231 Middle St
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02740
     â””â”€ phoneNumber: (774) 473-7945
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/01/2025', 'startOfEpisode': '04/01/2025', 'endOfEpisode': '05/30/2025', 'firstDiagnosis': 'I10', 'secondDiagnosis': 'I50.30', 'thirdDiagnosis': 'E11.22', 'fourthDiagnosis': 'E11.65', 'fifthDiagnosis': 'N18.32', 'sixthDiagnosis': 'Z79.4'}]
[15:33:18] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:33:20] â„¹ï¸  Order extraction - MRN: 'MA250328034304'
[15:33:20] â„¹ï¸  Order extraction - Sex: 'MALE'
[15:33:20] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing, Physical Therapy'
[15:33:20] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:33:20] âœ… Order data extraction completed successfully
[15:33:20] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:33:20] â„¹ï¸  Using MRN from patient data: 'MA250328034304' over 'MA250328034304'
[15:33:20] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing, Physical Therapy'
[15:33:20] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:33:20] âœ… Patient name cross-validation successful
[15:33:20] âœ…    âœ… Data merged successfully
[15:33:22] âœ…    âœ… Order data extracted and validated
[15:33:22] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:33:40] [DOC: 9273092] âœ… Patient exists in API: Frederick Turner, ID: fda2b6f0-d47f-42d2-9704-28476b119573
[15:33:40] âœ…    âœ… Existing patient found with ID: fda2b6f0-d47f-42d2-9704-28476b119573
[15:33:40] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:33:40] [DOC: 9273092] â„¹ï¸  Pushing order via API for patient ID: fda2b6f0-d47f-42d2-9704-28476b119573
[15:33:41] [DOC: 9273092] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14247"}
[15:33:41] âŒ    âŒ Failed to push order
[15:33:41] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:33:41] [DOC: 9273092] â„¹ï¸  Calculated age: 82 from DOB: 03/05/1943
[15:33:41] [DOC: 9273092] â„¹ï¸  Service Line extracted: 'Skilled Nursing, Physical Therapy'
[15:33:41] [DOC: 9273092] â„¹ï¸  Payer Source extracted: 'Medicare'
[15:33:41] [DOC: 9273092] â„¹ï¸  Diagnosis codes being written:
[15:33:41] [DOC: 9273092] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'I10'
[15:33:41] [DOC: 9273092] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'I50.30'
[15:33:41] [DOC: 9273092] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'E11.22'
[15:33:41] [DOC: 9273092] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'E11.65'
[15:33:41] [DOC: 9273092] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'N18.32'
[15:33:41] [DOC: 9273092] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'Z79.4'
[15:33:41] [DOC: 9273092] âœ… Patient data written to CSV: Frederick Turner | Sex: MALE | Age: 82 | Service: Skilled Nursing, Physical Therapy | Payer: Medicare | MRN: MA250328034304
[15:33:41] âœ…    âœ… Document 9273092 processed and saved successfully
[15:33:41] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:33:41] [DOC: 9273092] â„¹ï¸  API push details saved for document 9273092
[15:33:41] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9273014                         â•‘
================================================================================
[15:33:41] â„¹ï¸  Agency: Fairhaven HH&H
[15:33:41] â„¹ï¸  Date: 05/02/2025
[15:33:41] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:33:43] [DOC: 9273014] âœ… Text extracted using pdfplumber (1748 chars)
[15:33:43] âœ…    âœ… Text extracted using pdfplumber (1748 chars)
[15:33:43] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:33:46] â„¹ï¸  AI extracted raw sex value: 'F'
[15:33:46] â„¹ï¸  AI extracted service line: 'Hospice'
[15:33:46] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:33:46] â„¹ï¸  AI extracted diagnoses:
[15:33:46] â„¹ï¸    - Diagnosis 1: 'None'
[15:33:46] â„¹ï¸    - Diagnosis 2: 'None'
[15:33:46] â„¹ï¸    - Diagnosis 3: 'None'
[15:33:46] â„¹ï¸    - Diagnosis 4: 'None'
[15:33:46] â„¹ï¸    - Diagnosis 5: 'None'
[15:33:46] â„¹ï¸    - Diagnosis 6: 'None'
[15:33:46] â„¹ï¸  Final extracted MRN: '5782009'
[15:33:46] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:33:46] â„¹ï¸  Final extracted Service Line: 'Hospice'
[15:33:46] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:33:46] âœ… Patient data extraction completed successfully
[15:33:46] âœ…    âœ… Patient data extracted successfully
[15:33:46] ğŸ“Š Patient Response
     â””â”€ patientFName: Patricia
     â””â”€ patientLName: Foster
     â””â”€ dob: 06/16/1931
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 5782009
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Hospice
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '12/23/2022', 'startOfEpisode': None, 'endOfEpisode': '06/09/2025', 'firstDiagnosis': None, 'secondDiagnosis': None, 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:33:46] âœ…    âœ… Patient identified: Patricia Foster
[15:33:46] âœ…    âœ… Patient name validation passed
[15:33:46] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:33:46] [DOC: 9273014] â„¹ï¸  DOB normalized: 06/16/1931
[15:33:46] [DOC: 9273014] â„¹ï¸  Episode startOfCare normalized: 12/23/2022
[15:33:46] [DOC: 9273014] â„¹ï¸  Episode endOfEpisode normalized: 06/09/2025
[15:33:46] [DOC: 9273014] âœ… Patient date processing completed successfully
[15:33:46] âœ…    âœ… Date processing completed
[15:33:46] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Patricia
     â””â”€ patientLName: Foster
     â””â”€ dob: 06/16/1931
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 5782009
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Hospice
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '12/23/2022', 'endOfEpisode': '06/09/2025'}]
[15:33:46] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:33:48] â„¹ï¸  Order extraction - MRN: '5782009'
[15:33:48] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:33:48] â„¹ï¸  Order extraction - Service Line: 'Hospice'
[15:33:48] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:33:48] âœ… Order data extraction completed successfully
[15:33:48] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:33:48] â„¹ï¸  Using MRN from patient data: '5782009' over '5782009'
[15:33:48] â„¹ï¸  Service line consistent in both sources: 'Hospice'
[15:33:48] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:33:48] âœ… Patient name cross-validation successful
[15:33:48] âœ…    âœ… Data merged successfully
[15:33:49] âœ…    âœ… Order data extracted and validated
[15:33:49] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:33:49] [DOC: 9273014] âœ… Patient found in local cache: Patricia Foster, ID: 02cfc02d-5153-4681-bdd5-391d0e7448c5
[15:33:49] âœ…    âœ… Existing patient found with ID: 02cfc02d-5153-4681-bdd5-391d0e7448c5
[15:33:49] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:33:49] [DOC: 9273014] â„¹ï¸  Pushing order via API for patient ID: 02cfc02d-5153-4681-bdd5-391d0e7448c5
[15:33:50] [DOC: 9273014] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[15:33:50] âŒ    âŒ Failed to push order
[15:33:50] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:33:50] [DOC: 9273014] â„¹ï¸  Calculated age: 93 from DOB: 06/16/1931
[15:33:50] [DOC: 9273014] â„¹ï¸  Service Line extracted: 'Hospice'
[15:33:50] [DOC: 9273014] â„¹ï¸  Payer Source extracted: 'Medicare'
[15:33:50] [DOC: 9273014] â„¹ï¸  Diagnosis codes being written:
[15:33:50] [DOC: 9273014] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[15:33:50] [DOC: 9273014] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[15:33:50] [DOC: 9273014] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[15:33:50] [DOC: 9273014] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:33:50] [DOC: 9273014] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:33:50] [DOC: 9273014] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:33:50] [DOC: 9273014] âœ… Patient data written to CSV: Patricia Foster | Sex: FEMALE | Age: 93 | Service: Hospice | Payer: Medicare | MRN: 5782009
[15:33:50] âœ…    âœ… Document 9273014 processed and saved successfully
[15:33:50] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:33:50] [DOC: 9273014] â„¹ï¸  API push details saved for document 9273014
[15:33:50] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9273011                         â•‘
================================================================================
[15:33:50] â„¹ï¸  Agency: Fairhaven HH&H
[15:33:50] â„¹ï¸  Date: 05/02/2025
[15:33:50] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:33:51] [DOC: 9273011] âŒ Critical failure in get_pdf_text: Invalid response format
[15:33:51] âŒ Failed to extract text for Doc ID 9273011
[15:33:51] [DOC: 9273011] â„¹ï¸  API push details saved for document 9273011
================================================================================
â•‘                        Processing Document ID: 9273008                         â•‘
================================================================================
[15:33:51] â„¹ï¸  Agency: Dartmouth HH
[15:33:51] â„¹ï¸  Date: 05/02/2025
[15:33:51] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:33:53] [DOC: 9273008] âœ… Text extracted using pdfplumber (1815 chars)
[15:33:53] âœ…    âœ… Text extracted using pdfplumber (1815 chars)
[15:33:53] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:33:56] â„¹ï¸  AI extracted raw sex value: 'F'
[15:33:56] â„¹ï¸  AI extracted service line: 'Skilled Nursing, HHA'
[15:33:56] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:33:56] â„¹ï¸  AI extracted diagnoses:
[15:33:56] â„¹ï¸    - Diagnosis 1: 'None'
[15:33:56] â„¹ï¸    - Diagnosis 2: 'None'
[15:33:56] â„¹ï¸    - Diagnosis 3: 'None'
[15:33:56] â„¹ï¸    - Diagnosis 4: 'None'
[15:33:56] â„¹ï¸    - Diagnosis 5: 'None'
[15:33:56] â„¹ï¸    - Diagnosis 6: 'None'
[15:33:56] â„¹ï¸  Final extracted MRN: '672008'
[15:33:56] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:33:56] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing, HHA'
[15:33:56] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:33:56] âœ… Patient data extraction completed successfully
[15:33:56] âœ…    âœ… Patient data extracted successfully
[15:33:56] ğŸ“Š Patient Response
     â””â”€ patientFName: Jane
     â””â”€ patientLName: Lonsdale
     â””â”€ dob: 02/20/1930
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 672008
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing, HHA
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/09/2025', 'startOfEpisode': '03/09/2025', 'endOfEpisode': '05/07/2025', 'firstDiagnosis': None, 'secondDiagnosis': None, 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:33:56] âœ…    âœ… Patient identified: Jane Lonsdale
[15:33:56] âœ…    âœ… Patient name validation passed
[15:33:56] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:33:56] [DOC: 9273008] â„¹ï¸  DOB normalized: 02/20/1930
[15:33:56] [DOC: 9273008] â„¹ï¸  Episode startOfCare normalized: 03/09/2025
[15:33:56] [DOC: 9273008] â„¹ï¸  Episode startOfEpisode normalized: 03/09/2025
[15:33:56] [DOC: 9273008] â„¹ï¸  Episode endOfEpisode normalized: 05/07/2025
[15:33:56] [DOC: 9273008] âœ… Patient date processing completed successfully
[15:33:56] âœ…    âœ… Date processing completed
[15:33:56] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Jane
     â””â”€ patientLName: Lonsdale
     â””â”€ dob: 02/20/1930
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 672008
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing, HHA
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/09/2025', 'startOfEpisode': '03/09/2025', 'endOfEpisode': '05/07/2025'}]
[15:33:56] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:33:58] â„¹ï¸  Order extraction - MRN: ''
[15:33:58] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:33:58] â„¹ï¸  Order extraction - Service Line: 'RN, HHA'
[15:33:58] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:33:58] âœ… Order data extraction completed successfully
[15:33:58] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:33:58] â„¹ï¸  Using MRN from patient data: '672008'
[15:33:58] â„¹ï¸  Combined service lines: Patient='Skilled Nursing, HHA' + Order='RN, HHA' = 'HHA, RN, Skilled Nursing'
[15:33:58] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:33:58] âœ… Patient name cross-validation successful
[15:33:58] âœ…    âœ… Data merged successfully
[15:34:00] âœ…    âœ… Order data extracted and validated
[15:34:00] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:34:15] [DOC: 9273008] â„¹ï¸  Patient not found in cache or API: Jane Lonsdale
[15:34:15] [DOC: 9273008] â„¹ï¸  Patient not found, creating new patient via API...
[15:34:15] [DOC: 9273008] â„¹ï¸  Creating patient via API: Jane Lonsdale
[15:34:16] [DOC: 9273008] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[15:34:16] âŒ    âŒ Failed to create patient
[15:34:16] [DOC: 9273008] â„¹ï¸  API push details saved for document 9273008
================================================================================
â•‘                        Processing Document ID: 9273007                         â•‘
================================================================================
[15:34:16] â„¹ï¸  Agency: Dartmouth HH
[15:34:16] â„¹ï¸  Date: 05/02/2025
[15:34:16] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:34:18] [DOC: 9273007] âœ… Text extracted using pdfplumber (1399 chars)
[15:34:18] âœ…    âœ… Text extracted using pdfplumber (1399 chars)
[15:34:18] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:34:21] â„¹ï¸  AI extracted raw sex value: 'M'
[15:34:21] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[15:34:21] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:34:21] â„¹ï¸  AI extracted diagnoses:
[15:34:21] â„¹ï¸    - Diagnosis 1: 'None'
[15:34:21] â„¹ï¸    - Diagnosis 2: 'None'
[15:34:21] â„¹ï¸    - Diagnosis 3: 'None'
[15:34:21] â„¹ï¸    - Diagnosis 4: 'None'
[15:34:21] â„¹ï¸    - Diagnosis 5: 'None'
[15:34:21] â„¹ï¸    - Diagnosis 6: 'None'
[15:34:21] â„¹ï¸  Final extracted MRN: '6208015'
[15:34:21] â„¹ï¸  Final extracted Sex: 'MALE'
[15:34:21] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[15:34:21] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:34:21] âœ… Patient data extraction completed successfully
[15:34:21] âœ…    âœ… Patient data extracted successfully
[15:34:21] ğŸ“Š Patient Response
     â””â”€ patientFName: Stephen
     â””â”€ patientLName: Hanna Jr,
     â””â”€ dob: 03/11/1936
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 6208015
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/15/2025', 'startOfEpisode': '03/15/2025', 'endOfEpisode': '05/13/2025', 'firstDiagnosis': None, 'secondDiagnosis': None, 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:34:21] âœ…    âœ… Patient identified: Stephen Hanna Jr,
[15:34:21] âœ…    âœ… Patient name validation passed
[15:34:21] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:34:21] [DOC: 9273007] â„¹ï¸  DOB normalized: 03/11/1936
[15:34:21] [DOC: 9273007] â„¹ï¸  Episode startOfCare normalized: 03/15/2025
[15:34:21] [DOC: 9273007] â„¹ï¸  Episode startOfEpisode normalized: 03/15/2025
[15:34:21] [DOC: 9273007] â„¹ï¸  Episode endOfEpisode normalized: 05/13/2025
[15:34:21] [DOC: 9273007] âœ… Patient date processing completed successfully
[15:34:21] âœ…    âœ… Date processing completed
[15:34:21] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Stephen
     â””â”€ patientLName: Hanna Jr,
     â””â”€ dob: 03/11/1936
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 6208015
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/15/2025', 'startOfEpisode': '03/15/2025', 'endOfEpisode': '05/13/2025'}]
[15:34:21] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:34:23] â„¹ï¸  Order extraction - MRN: ''
[15:34:23] â„¹ï¸  Order extraction - Sex: 'MALE'
[15:34:23] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[15:34:23] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:34:23] âœ… Order data extraction completed successfully
[15:34:23] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:34:23] â„¹ï¸  Using MRN from patient data: '6208015'
[15:34:23] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing'
[15:34:23] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:34:23] âœ… Patient name cross-validation successful
[15:34:23] âœ…    âœ… Data merged successfully
[15:34:24] âœ…    âœ… Order data extracted and validated
[15:34:24] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:34:24] [DOC: 9273007] âœ… Patient found in local cache: Stephen Hanna Jr,, ID: 38583918-d125-4291-a4c2-8551b1d02929
[15:34:24] âœ…    âœ… Existing patient found with ID: 38583918-d125-4291-a4c2-8551b1d02929
[15:34:24] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:34:24] [DOC: 9273007] â„¹ï¸  Pushing order via API for patient ID: 38583918-d125-4291-a4c2-8551b1d02929
[15:34:25] [DOC: 9273007] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13829"}
[15:34:25] âŒ    âŒ Failed to push order
[15:34:25] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:34:25] [DOC: 9273007] â„¹ï¸  Calculated age: 89 from DOB: 03/11/1936
[15:34:25] [DOC: 9273007] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[15:34:25] [DOC: 9273007] â„¹ï¸  Payer Source extracted: 'Medicare'
[15:34:25] [DOC: 9273007] â„¹ï¸  Diagnosis codes being written:
[15:34:25] [DOC: 9273007] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[15:34:25] [DOC: 9273007] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[15:34:25] [DOC: 9273007] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[15:34:25] [DOC: 9273007] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:34:25] [DOC: 9273007] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:34:25] [DOC: 9273007] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:34:25] [DOC: 9273007] âœ… Patient data written to CSV: Stephen Hanna Jr, | Sex: MALE | Age: 89 | Service: Skilled Nursing | Payer: Medicare | MRN: 6208015
[15:34:25] âœ…    âœ… Document 9273007 processed and saved successfully
[15:34:25] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:34:25] [DOC: 9273007] â„¹ï¸  API push details saved for document 9273007
[15:34:25] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9273006                         â•‘
================================================================================
[15:34:25] â„¹ï¸  Agency: Dartmouth HH
[15:34:25] â„¹ï¸  Date: 05/02/2025
[15:34:25] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:34:27] [DOC: 9273006] âœ… Text extracted using pdfplumber (1083 chars)
[15:34:27] âœ…    âœ… Text extracted using pdfplumber (1083 chars)
[15:34:27] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:34:30] â„¹ï¸  AI extracted raw sex value: 'F'
[15:34:30] â„¹ï¸  AI extracted service line: 'HHA'
[15:34:30] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:34:30] â„¹ï¸  AI extracted diagnoses:
[15:34:30] â„¹ï¸    - Diagnosis 1: ''
[15:34:30] â„¹ï¸    - Diagnosis 2: ''
[15:34:30] â„¹ï¸    - Diagnosis 3: ''
[15:34:30] â„¹ï¸    - Diagnosis 4: ''
[15:34:30] â„¹ï¸    - Diagnosis 5: ''
[15:34:30] â„¹ï¸    - Diagnosis 6: ''
[15:34:30] â„¹ï¸  Final extracted MRN: '637008'
[15:34:30] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:34:30] â„¹ï¸  Final extracted Service Line: 'HHA'
[15:34:30] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:34:30] âœ… Patient data extraction completed successfully
[15:34:30] âœ…    âœ… Patient data extracted successfully
[15:34:30] ğŸ“Š Patient Response
     â””â”€ patientFName: Florence
     â””â”€ patientLName: Curry
     â””â”€ dob: 06/02/1933
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 637008
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 140 D Carriage Drive
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02740
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: HHA
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/11/2025', 'startOfEpisode': '04/30/2025', 'endOfEpisode': '06/09/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:34:30] âœ…    âœ… Patient identified: Florence Curry
[15:34:30] âœ…    âœ… Patient name validation passed
[15:34:30] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:34:30] [DOC: 9273006] â„¹ï¸  DOB normalized: 06/02/1933
[15:34:30] [DOC: 9273006] â„¹ï¸  Episode startOfCare normalized: 04/11/2025
[15:34:30] [DOC: 9273006] â„¹ï¸  Episode startOfEpisode normalized: 04/30/2025
[15:34:30] [DOC: 9273006] â„¹ï¸  Episode endOfEpisode normalized: 06/09/2025
[15:34:30] [DOC: 9273006] âœ… Patient date processing completed successfully
[15:34:30] âœ…    âœ… Date processing completed
[15:34:30] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Florence
     â””â”€ patientLName: Curry
     â””â”€ dob: 06/02/1933
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 637008
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 140 D Carriage Drive
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02740
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: HHA
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/11/2025', 'startOfEpisode': '04/30/2025', 'endOfEpisode': '06/09/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:34:30] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:34:32] â„¹ï¸  Order extraction - MRN: ''
[15:34:32] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:34:32] â„¹ï¸  Order extraction - Service Line: ''
[15:34:32] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:34:32] âœ… Order data extraction completed successfully
[15:34:32] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:34:32] â„¹ï¸  Using MRN from patient data: '637008'
[15:34:32] â„¹ï¸  Using service line from patient data: 'HHA'
[15:34:32] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:34:32] âœ… Patient name cross-validation successful
[15:34:32] âœ…    âœ… Data merged successfully
[15:34:33] âœ…    âœ… Order data extracted and validated
[15:34:33] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:34:54] [DOC: 9273006] â„¹ï¸  Patient not found in cache or API: Florence Curry
[15:34:54] [DOC: 9273006] â„¹ï¸  Patient not found, creating new patient via API...
[15:34:54] [DOC: 9273006] â„¹ï¸  Creating patient via API: Florence Curry
[15:34:55] [DOC: 9273006] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[15:34:55] âŒ    âŒ Failed to create patient
[15:34:55] [DOC: 9273006] â„¹ï¸  API push details saved for document 9273006
================================================================================
â•‘                        Processing Document ID: 9272998                         â•‘
================================================================================
[15:34:55] â„¹ï¸  Agency: Dartmouth HH
[15:34:55] â„¹ï¸  Date: 05/02/2025
[15:34:55] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:34:57] [DOC: 9272998] âœ… Text extracted using pdfplumber (1316 chars)
[15:34:57] âœ…    âœ… Text extracted using pdfplumber (1316 chars)
[15:34:57] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:35:00] â„¹ï¸  AI extracted raw sex value: 'F'
[15:35:00] â„¹ï¸  AI extracted service line: 'RN'
[15:35:00] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:35:00] â„¹ï¸  AI extracted diagnoses:
[15:35:00] â„¹ï¸    - Diagnosis 1: ''
[15:35:00] â„¹ï¸    - Diagnosis 2: ''
[15:35:00] â„¹ï¸    - Diagnosis 3: ''
[15:35:00] â„¹ï¸    - Diagnosis 4: ''
[15:35:00] â„¹ï¸    - Diagnosis 5: ''
[15:35:00] â„¹ï¸    - Diagnosis 6: ''
[15:35:00] â„¹ï¸  Final extracted MRN: '3320011'
[15:35:00] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:35:00] â„¹ï¸  Final extracted Service Line: 'RN'
[15:35:00] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:35:00] âœ… Patient data extraction completed successfully
[15:35:00] âœ…    âœ… Patient data extracted successfully
[15:35:00] ğŸ“Š Patient Response
     â””â”€ patientFName: Bonnie
     â””â”€ patientLName: Werly
     â””â”€ dob: 06/16/1939
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 3320011
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: RN
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '09/01/2024', 'startOfEpisode': '09/01/2024', 'endOfEpisode': '04/28/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:35:00] âœ…    âœ… Patient identified: Bonnie Werly
[15:35:00] âœ…    âœ… Patient name validation passed
[15:35:00] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:35:00] [DOC: 9272998] â„¹ï¸  DOB normalized: 06/16/1939
[15:35:00] [DOC: 9272998] â„¹ï¸  Episode startOfCare normalized: 09/01/2024
[15:35:00] [DOC: 9272998] â„¹ï¸  Episode startOfEpisode normalized: 09/01/2024
[15:35:00] [DOC: 9272998] â„¹ï¸  Episode endOfEpisode normalized: 04/28/2025
[15:35:00] [DOC: 9272998] âœ… Patient date processing completed successfully
[15:35:00] âœ…    âœ… Date processing completed
[15:35:00] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Bonnie
     â””â”€ patientLName: Werly
     â””â”€ dob: 06/16/1939
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 3320011
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 62 Center Street
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: RN
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '09/01/2024', 'startOfEpisode': '09/01/2024', 'endOfEpisode': '04/28/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:35:00] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:35:02] â„¹ï¸  Order extraction - MRN: ''
[15:35:02] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:35:02] â„¹ï¸  Order extraction - Service Line: 'RN'
[15:35:02] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:35:02] âœ… Order data extraction completed successfully
[15:35:02] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:35:02] â„¹ï¸  Using MRN from patient data: '3320011'
[15:35:02] â„¹ï¸  Service line consistent in both sources: 'RN'
[15:35:02] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:35:02] âœ… Patient name cross-validation successful
[15:35:02] âœ…    âœ… Data merged successfully
[15:35:03] âœ…    âœ… Order data extracted and validated
[15:35:03] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:35:18] [DOC: 9272998] âœ… Patient exists in API: Bonnie Werly, ID: 24e0626e-85c6-49fe-aa51-0da969434f71
[15:35:18] âœ…    âœ… Existing patient found with ID: 24e0626e-85c6-49fe-aa51-0da969434f71
[15:35:18] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:35:18] [DOC: 9272998] â„¹ï¸  Pushing order via API for patient ID: 24e0626e-85c6-49fe-aa51-0da969434f71
[15:35:19] [DOC: 9272998] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14422"}
[15:35:19] âŒ    âŒ Failed to push order
[15:35:19] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:35:19] [DOC: 9272998] â„¹ï¸  Calculated age: 85 from DOB: 06/16/1939
[15:35:19] [DOC: 9272998] â„¹ï¸  Service Line extracted: 'RN'
[15:35:19] [DOC: 9272998] â„¹ï¸  Payer Source extracted: 'Medicare'
[15:35:19] [DOC: 9272998] â„¹ï¸  Diagnosis codes being written:
[15:35:19] [DOC: 9272998] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[15:35:19] [DOC: 9272998] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[15:35:19] [DOC: 9272998] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[15:35:19] [DOC: 9272998] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:35:19] [DOC: 9272998] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:35:19] [DOC: 9272998] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:35:19] [DOC: 9272998] âœ… Patient data written to CSV: Bonnie Werly | Sex: FEMALE | Age: 85 | Service: RN | Payer: Medicare | MRN: 3320011
[15:35:19] âœ…    âœ… Document 9272998 processed and saved successfully
[15:35:19] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:35:19] [DOC: 9272998] â„¹ï¸  API push details saved for document 9272998
[15:35:19] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9272986                         â•‘
================================================================================
[15:35:19] â„¹ï¸  Agency: Dartmouth HH
[15:35:19] â„¹ï¸  Date: 05/02/2025
[15:35:19] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:35:21] [DOC: 9272986] âœ… Text extracted using pdfplumber (1046 chars)
[15:35:21] âœ…    âœ… Text extracted using pdfplumber (1046 chars)
[15:35:21] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:35:24] â„¹ï¸  AI extracted raw sex value: 'M'
[15:35:24] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[15:35:24] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:35:24] â„¹ï¸  AI extracted diagnoses:
[15:35:24] â„¹ï¸    - Diagnosis 1: 'None'
[15:35:24] â„¹ï¸    - Diagnosis 2: 'None'
[15:35:24] â„¹ï¸    - Diagnosis 3: 'None'
[15:35:24] â„¹ï¸    - Diagnosis 4: 'None'
[15:35:24] â„¹ï¸    - Diagnosis 5: 'None'
[15:35:24] â„¹ï¸    - Diagnosis 6: 'None'
[15:35:24] â„¹ï¸  Final extracted MRN: '842002'
[15:35:24] â„¹ï¸  Final extracted Sex: 'MALE'
[15:35:24] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[15:35:24] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:35:24] âœ… Patient data extraction completed successfully
[15:35:24] âœ…    âœ… Patient data extracted successfully
[15:35:24] ğŸ“Š Patient Response
     â””â”€ patientFName: Johannes
     â””â”€ patientLName: Bjornson
     â””â”€ dob: 02/09/1942
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 842002
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 182 Sharp St
     â””â”€ city: Dartmouth
     â””â”€ state: MA
     â””â”€ zip: 02747
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '10/10/2024', 'startOfEpisode': '04/08/2025', 'endOfEpisode': '06/06/2025', 'firstDiagnosis': None, 'secondDiagnosis': None, 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:35:24] âœ…    âœ… Patient identified: Johannes Bjornson
[15:35:24] âœ…    âœ… Patient name validation passed
[15:35:24] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:35:24] [DOC: 9272986] â„¹ï¸  DOB normalized: 02/09/1942
[15:35:24] [DOC: 9272986] â„¹ï¸  Episode startOfCare normalized: 10/10/2024
[15:35:24] [DOC: 9272986] â„¹ï¸  Episode startOfEpisode normalized: 04/08/2025
[15:35:24] [DOC: 9272986] â„¹ï¸  Episode endOfEpisode normalized: 06/06/2025
[15:35:24] [DOC: 9272986] âœ… Patient date processing completed successfully
[15:35:24] âœ…    âœ… Date processing completed
[15:35:24] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Johannes
     â””â”€ patientLName: Bjornson
     â””â”€ dob: 02/09/1942
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 842002
     â””â”€ billingProvider: Hawthorn Medical Associates
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Community Nurse Inc
     â””â”€ address: 182 Sharp St
     â””â”€ city: Dartmouth
     â””â”€ state: MA
     â””â”€ zip: 02747
     â””â”€ phoneNumber: (508) 992-6278
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '10/10/2024', 'startOfEpisode': '04/08/2025', 'endOfEpisode': '06/06/2025'}]
[15:35:24] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:35:26] â„¹ï¸  Order extraction - MRN: ''
[15:35:26] â„¹ï¸  Order extraction - Sex: 'MALE'
[15:35:26] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[15:35:26] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:35:26] âœ… Order data extraction completed successfully
[15:35:26] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:35:26] â„¹ï¸  Using MRN from patient data: '842002'
[15:35:26] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing'
[15:35:26] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:35:26] âœ… Patient name cross-validation successful
[15:35:26] âœ…    âœ… Data merged successfully
[15:35:27] âœ…    âœ… Order data extracted and validated
[15:35:27] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:35:31] [DOC: 9272986] âœ… Patient exists in API: Johannes Bjornson, ID: 0993ef32-76a1-4fc2-b022-b270dbd37f31
[15:35:31] âœ…    âœ… Existing patient found with ID: 0993ef32-76a1-4fc2-b022-b270dbd37f31
[15:35:31] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:35:31] [DOC: 9272986] â„¹ï¸  Pushing order via API for patient ID: 0993ef32-76a1-4fc2-b022-b270dbd37f31
[15:35:32] [DOC: 9272986] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[15:35:32] âŒ    âŒ Failed to push order
[15:35:32] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:35:32] [DOC: 9272986] â„¹ï¸  Calculated age: 83 from DOB: 02/09/1942
[15:35:32] [DOC: 9272986] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[15:35:32] [DOC: 9272986] â„¹ï¸  Payer Source extracted: 'Medicare'
[15:35:32] [DOC: 9272986] â„¹ï¸  Diagnosis codes being written:
[15:35:32] [DOC: 9272986] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[15:35:32] [DOC: 9272986] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[15:35:32] [DOC: 9272986] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[15:35:32] [DOC: 9272986] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:35:32] [DOC: 9272986] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:35:32] [DOC: 9272986] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:35:32] [DOC: 9272986] âœ… Patient data written to CSV: Johannes Bjornson | Sex: MALE | Age: 83 | Service: Skilled Nursing | Payer: Medicare | MRN: 842002
[15:35:32] âœ…    âœ… Document 9272986 processed and saved successfully
[15:35:32] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:35:32] [DOC: 9272986] â„¹ï¸  API push details saved for document 9272986
[15:35:32] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9272597                         â•‘
================================================================================
[15:35:32] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:35:32] â„¹ï¸  Date: 05/01/2025
[15:35:32] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:35:39] [DOC: 9272597] âœ… Text extracted using pdfplumber (1460 chars)
[15:35:39] âœ…    âœ… Text extracted using pdfplumber (1460 chars)
[15:35:39] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:35:42] â„¹ï¸  AI extracted raw sex value: ''
[15:35:42] â„¹ï¸  AI extracted service line: 'Physical Therapy'
[15:35:42] â„¹ï¸  AI extracted payer source: ''
[15:35:42] â„¹ï¸  AI extracted diagnoses:
[15:35:42] â„¹ï¸    - Diagnosis 1: 'J44.1'
[15:35:42] â„¹ï¸    - Diagnosis 2: 'I11.0'
[15:35:42] â„¹ï¸    - Diagnosis 3: 'I50.42'
[15:35:42] â„¹ï¸    - Diagnosis 4: 'None'
[15:35:42] â„¹ï¸    - Diagnosis 5: 'None'
[15:35:42] â„¹ï¸    - Diagnosis 6: 'None'
[15:35:42] â„¹ï¸  Final extracted MRN: 'MA200528053701'
[15:35:42] â„¹ï¸  Final extracted Sex: ''
[15:35:42] â„¹ï¸  Final extracted Service Line: 'Physical Therapy'
[15:35:42] â„¹ï¸  Final extracted Payer Source: ''
[15:35:42] âœ… Patient data extraction completed successfully
[15:35:42] âœ…    âœ… Patient data extracted successfully
[15:35:42] ğŸ“Š Patient Response
     â””â”€ patientFName: Roderick
     â””â”€ patientLName: Lopez
     â””â”€ dob: 05/21/1937
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA200528053701
     â””â”€ billingProvider: SHAN QIN
     â””â”€ npi: 1891138822
     â””â”€ physicianNPI: 1891138822
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '04/20/2025', 'endOfEpisode': '06/18/2025', 'firstDiagnosis': 'J44.1', 'secondDiagnosis': 'I11.0', 'thirdDiagnosis': 'I50.42', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:35:42] âœ…    âœ… Patient identified: Roderick Lopez
[15:35:42] âœ…    âœ… Patient name validation passed
[15:35:42] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:35:42] [DOC: 9272597] â„¹ï¸  DOB normalized: 05/21/1937
[15:35:42] [DOC: 9272597] â„¹ï¸  Episode startOfEpisode normalized: 04/20/2025
[15:35:42] [DOC: 9272597] â„¹ï¸  Episode endOfEpisode normalized: 06/18/2025
[15:35:42] [DOC: 9272597] âœ… Patient date processing completed successfully
[15:35:42] âœ…    âœ… Date processing completed
[15:35:42] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Roderick
     â””â”€ patientLName: Lopez
     â””â”€ dob: 05/21/1937
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA200528053701
     â””â”€ billingProvider: SHAN QIN
     â””â”€ npi: 1891138822
     â””â”€ physicianNPI: 1891138822
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/20/2025', 'endOfEpisode': '06/18/2025', 'firstDiagnosis': 'J44.1', 'secondDiagnosis': 'I11.0', 'thirdDiagnosis': 'I50.42'}]
[15:35:42] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:35:44] â„¹ï¸  Order extraction - MRN: 'MA200528053701'
[15:35:44] â„¹ï¸  Order extraction - Sex: ''
[15:35:44] â„¹ï¸  Order extraction - Service Line: 'Physical Therapy'
[15:35:44] â„¹ï¸  Order extraction - Payer Source: ''
[15:35:44] âœ… Order data extraction completed successfully
[15:35:44] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:35:44] â„¹ï¸  Using MRN from patient data: 'MA200528053701' over 'MA200528053701'
[15:35:44] â„¹ï¸  Inferred sex as MALE from name: Roderick
[15:35:44] â„¹ï¸  Service line consistent in both sources: 'Physical Therapy'
[15:35:44] âœ… Patient name cross-validation successful
[15:35:44] âœ…    âœ… Data merged successfully
[15:35:45] âœ…    âœ… Order data extracted and validated
[15:35:45] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:35:51] [DOC: 9272597] â„¹ï¸  Patient not found in cache or API: Roderick Lopez
[15:35:51] [DOC: 9272597] â„¹ï¸  Patient not found, creating new patient via API...
[15:35:51] [DOC: 9272597] â„¹ï¸  Creating patient via API: Roderick Lopez
[15:35:52] [DOC: 9272597] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[15:35:52] âŒ    âŒ Failed to create patient
[15:35:52] [DOC: 9272597] â„¹ï¸  API push details saved for document 9272597
================================================================================
â•‘                        Processing Document ID: 9272523                         â•‘
================================================================================
[15:35:52] â„¹ï¸  Agency: Southcoast VNA â€“ Community Office (Fairhaven)
[15:35:52] â„¹ï¸  Date: 05/01/2025
[15:35:52] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:35:53] [DOC: 9272523] âœ… Text extracted using pdfplumber (871 chars)
[15:35:53] âœ…    âœ… Text extracted using pdfplumber (871 chars)
[15:35:53] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:35:56] â„¹ï¸  AI extracted raw sex value: 'F'
[15:35:56] â„¹ï¸  AI extracted service line: 'LPN'
[15:35:56] â„¹ï¸  AI extracted payer source: ''
[15:35:56] â„¹ï¸  AI extracted diagnoses:
[15:35:56] â„¹ï¸    - Diagnosis 1: 'None'
[15:35:56] â„¹ï¸    - Diagnosis 2: 'None'
[15:35:56] â„¹ï¸    - Diagnosis 3: 'None'
[15:35:56] â„¹ï¸    - Diagnosis 4: 'None'
[15:35:56] â„¹ï¸    - Diagnosis 5: 'None'
[15:35:56] â„¹ï¸    - Diagnosis 6: 'None'
[15:35:56] â„¹ï¸  Final extracted MRN: '2503818'
[15:35:56] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:35:56] â„¹ï¸  Final extracted Service Line: 'LPN'
[15:35:56] â„¹ï¸  Final extracted Payer Source: ''
[15:35:56] âœ… Patient data extraction completed successfully
[15:35:56] âœ…    âœ… Patient data extracted successfully
[15:35:56] ğŸ“Š Patient Response
     â””â”€ patientFName: Telma
     â””â”€ patientLName: Garcia
     â””â”€ dob: 09/02/1931
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2503818
     â””â”€ billingProvider: Hugo Jauregui, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 973-3200
     â””â”€ serviceLine: LPN
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': None, 'endOfEpisode': None, 'firstDiagnosis': None, 'secondDiagnosis': None, 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:35:56] âœ…    âœ… Patient identified: Telma Garcia
[15:35:56] âœ…    âœ… Patient name validation passed
[15:35:56] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:35:56] [DOC: 9272523] â„¹ï¸  DOB normalized: 09/02/1931
[15:35:56] [DOC: 9272523] âœ… Patient date processing completed successfully
[15:35:56] âœ…    âœ… Date processing completed
[15:35:56] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Telma
     â””â”€ patientLName: Garcia
     â””â”€ dob: 09/02/1931
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2503818
     â””â”€ billingProvider: Hugo Jauregui, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 973-3200
     â””â”€ serviceLine: LPN
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': ''}]
[15:35:56] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:35:58] â„¹ï¸  Order extraction - MRN: '2503818'
[15:35:58] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:35:58] â„¹ï¸  Order extraction - Service Line: ''
[15:35:58] â„¹ï¸  Order extraction - Payer Source: ''
[15:35:58] âœ… Order data extraction completed successfully
[15:35:58] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:35:58] â„¹ï¸  Using MRN from patient data: '2503818' over '2503818'
[15:35:58] â„¹ï¸  Using service line from patient data: 'LPN'
[15:35:58] âœ… Patient name cross-validation successful
[15:35:58] âœ…    âœ… Data merged successfully
[15:35:59] âœ…    âœ… Order data extracted and validated
[15:35:59] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:36:11] [DOC: 9272523] â„¹ï¸  Patient not found in cache or API: Telma Garcia
[15:36:11] [DOC: 9272523] â„¹ï¸  Patient not found, creating new patient via API...
[15:36:11] [DOC: 9272523] â„¹ï¸  Creating patient via API: Telma Garcia
[15:36:12] [DOC: 9272523] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[15:36:12] âŒ    âŒ Failed to create patient
[15:36:12] [DOC: 9272523] â„¹ï¸  API push details saved for document 9272523
================================================================================
â•‘                        Processing Document ID: 9272521                         â•‘
================================================================================
[15:36:12] â„¹ï¸  Agency: Southcoast VNA â€“ Community Office (Fairhaven)
[15:36:12] â„¹ï¸  Date: 05/01/2025
[15:36:12] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:36:15] [DOC: 9272521] âœ… Text extracted using pdfplumber (30831 chars)
[15:36:15] âœ…    âœ… Text extracted using pdfplumber (30831 chars)
[15:36:15] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:36:19] â„¹ï¸  AI extracted raw sex value: 'Female'
[15:36:19] â„¹ï¸  AI extracted service line: 'Skilled Nursing, Physical Therapy, Occupational Therapy, Speech Language Pathology'
[15:36:19] â„¹ï¸  AI extracted payer source: ''
[15:36:19] â„¹ï¸  AI extracted diagnoses:
[15:36:19] â„¹ï¸    - Diagnosis 1: 'A41.51'
[15:36:19] â„¹ï¸    - Diagnosis 2: 'N17.9'
[15:36:19] â„¹ï¸    - Diagnosis 3: 'N30.00'
[15:36:19] â„¹ï¸    - Diagnosis 4: 'R13.12'
[15:36:19] â„¹ï¸    - Diagnosis 5: 'G30.1'
[15:36:19] â„¹ï¸    - Diagnosis 6: 'F02.80'
[15:36:19] â„¹ï¸  Final extracted MRN: '2503818'
[15:36:19] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:36:19] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy, Speech Language Pathology'
[15:36:19] â„¹ï¸  Final extracted Payer Source: ''
[15:36:19] âœ… Patient data extraction completed successfully
[15:36:19] âœ…    âœ… Patient data extracted successfully
[15:36:19] ğŸ“Š Patient Response
     â””â”€ patientFName: Telma
     â””â”€ patientLName: Garcia
     â””â”€ dob: 09/02/1931
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2503818
     â””â”€ billingProvider: Hugo Jauregui, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 10 Borden St Apt 2
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02740-3315
     â””â”€ email: 
     â””â”€ phoneNumber: 508-961-9601
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy, Speech Language Pathology
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/16/2025', 'startOfEpisode': '04/18/2025', 'endOfEpisode': '06/16/2025', 'firstDiagnosis': 'A41.51', 'secondDiagnosis': 'N17.9', 'thirdDiagnosis': 'N30.00', 'fourthDiagnosis': 'R13.12', 'fifthDiagnosis': 'G30.1', 'sixthDiagnosis': 'F02.80'}]
[15:36:19] âœ…    âœ… Patient identified: Telma Garcia
[15:36:19] âœ…    âœ… Patient name validation passed
[15:36:19] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:36:19] [DOC: 9272521] â„¹ï¸  DOB normalized: 09/02/1931
[15:36:19] [DOC: 9272521] â„¹ï¸  Episode startOfCare normalized: 04/16/2025
[15:36:19] [DOC: 9272521] â„¹ï¸  Episode startOfEpisode normalized: 04/18/2025
[15:36:19] [DOC: 9272521] â„¹ï¸  Episode endOfEpisode normalized: 06/16/2025
[15:36:19] [DOC: 9272521] âœ… Patient date processing completed successfully
[15:36:19] âœ…    âœ… Date processing completed
[15:36:19] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Telma
     â””â”€ patientLName: Garcia
     â””â”€ dob: 09/02/1931
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2503818
     â””â”€ billingProvider: Hugo Jauregui, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 10 Borden St Apt 2
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02740-3315
     â””â”€ email: 
     â””â”€ phoneNumber: 508-961-9601
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy, Speech Language Pathology
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/16/2025', 'startOfEpisode': '04/18/2025', 'endOfEpisode': '06/16/2025', 'firstDiagnosis': 'A41.51', 'secondDiagnosis': 'N17.9', 'thirdDiagnosis': 'N30.00', 'fourthDiagnosis': 'R13.12', 'fifthDiagnosis': 'G30.1', 'sixthDiagnosis': 'F02.80'}]
[15:36:19] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:36:22] â„¹ï¸  Order extraction - MRN: '2503818'
[15:36:22] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:36:22] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy, Speech Language Pathology'
[15:36:22] â„¹ï¸  Order extraction - Payer Source: ''
[15:36:22] âœ… Order data extraction completed successfully
[15:36:22] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:36:22] â„¹ï¸  Using MRN from patient data: '2503818' over '2503818'
[15:36:22] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing, Physical Therapy, Occupational Therapy, Speech Language Pathology'
[15:36:22] âœ… Patient name cross-validation successful
[15:36:22] âœ…    âœ… Data merged successfully
[15:36:23] âœ…    âœ… Order data extracted and validated
[15:36:23] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:36:28] [DOC: 9272521] â„¹ï¸  Patient not found in cache or API: Telma Garcia
[15:36:28] [DOC: 9272521] â„¹ï¸  Patient not found, creating new patient via API...
[15:36:28] [DOC: 9272521] â„¹ï¸  Creating patient via API: Telma Garcia
[15:36:29] [DOC: 9272521] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[15:36:29] âŒ    âŒ Failed to create patient
[15:36:29] [DOC: 9272521] â„¹ï¸  API push details saved for document 9272521
================================================================================
â•‘                        Processing Document ID: 9272036                         â•‘
================================================================================
[15:36:29] â„¹ï¸  Agency: AccentCare Fall River
[15:36:29] â„¹ï¸  Date: 05/01/2025
[15:36:29] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:36:50] [DOC: 9272036] âš ï¸  PDFPlumber failed: PDFPlumber extracted empty text, trying OCR...
[15:37:11] [DOC: 9272036] âœ… Text extracted using tesseract_ocr (37579 chars)
[15:37:11] âœ…    âœ… Text extracted using tesseract_ocr (37548 chars)
[15:37:11] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:37:15] â„¹ï¸  AI extracted raw sex value: 'F'
[15:37:15] â„¹ï¸  AI extracted service line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:37:15] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:37:15] â„¹ï¸  AI extracted diagnoses:
[15:37:15] â„¹ï¸    - Diagnosis 1: 'K219'
[15:37:15] â„¹ï¸    - Diagnosis 2: 'I25.10'
[15:37:15] â„¹ï¸    - Diagnosis 3: 'I11.0'
[15:37:15] â„¹ï¸    - Diagnosis 4: 'I50.32'
[15:37:15] â„¹ï¸    - Diagnosis 5: 'N18.4'
[15:37:15] â„¹ï¸    - Diagnosis 6: 'J44.89'
[15:37:15] â„¹ï¸  Final extracted MRN: 'C0200156525301'
[15:37:15] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:37:15] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:37:15] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:37:15] âœ… Patient data extraction completed successfully
[15:37:15] âœ…    âœ… Patient data extracted successfully
[15:37:15] ğŸ“Š Patient Response
     â””â”€ patientFName: JEANINE
     â””â”€ patientLName: SASSEVILLE
     â””â”€ dob: 07/06/1941
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: C0200156525301
     â””â”€ billingProvider: ACCENTCARE OF MASS, INC. DBA AC HH OF MASS
     â””â”€ npi: 227203
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: ACCENTCARE OF MASS, INC. DBA AC HH OF MASS
     â””â”€ address: 777 REED RD
     â””â”€ city: FALLRIVER
     â””â”€ state: MA
     â””â”€ zip: 02723
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 235-5312
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/21/2025', 'startOfEpisode': '04/21/2025', 'endOfEpisode': '06/19/2025', 'firstDiagnosis': 'K219', 'secondDiagnosis': 'I25.10', 'thirdDiagnosis': 'I11.0', 'fourthDiagnosis': 'I50.32', 'fifthDiagnosis': 'N18.4', 'sixthDiagnosis': 'J44.89'}]
[15:37:15] âœ…    âœ… Patient identified: JEANINE SASSEVILLE
[15:37:15] âœ…    âœ… Patient name validation passed
[15:37:15] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:37:15] [DOC: 9272036] â„¹ï¸  DOB normalized: 07/06/1941
[15:37:15] [DOC: 9272036] â„¹ï¸  Episode startOfCare normalized: 04/21/2025
[15:37:15] [DOC: 9272036] â„¹ï¸  Episode startOfEpisode normalized: 04/21/2025
[15:37:15] [DOC: 9272036] â„¹ï¸  Episode endOfEpisode normalized: 06/19/2025
[15:37:15] [DOC: 9272036] âœ… Patient date processing completed successfully
[15:37:15] âœ…    âœ… Date processing completed
[15:37:15] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: JEANINE
     â””â”€ patientLName: SASSEVILLE
     â””â”€ dob: 07/06/1941
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: C0200156525301
     â””â”€ billingProvider: ACCENTCARE OF MASS, INC. DBA AC HH OF MASS
     â””â”€ npi: 227203
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: ACCENTCARE OF MASS, INC. DBA AC HH OF MASS
     â””â”€ address: 777 REED RD
     â””â”€ city: FALLRIVER
     â””â”€ state: MA
     â””â”€ zip: 02723
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 235-5312
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/21/2025', 'startOfEpisode': '04/21/2025', 'endOfEpisode': '06/19/2025', 'firstDiagnosis': 'K219', 'secondDiagnosis': 'I25.10', 'thirdDiagnosis': 'I11.0', 'fourthDiagnosis': 'I50.32', 'fifthDiagnosis': 'N18.4', 'sixthDiagnosis': 'J44.89'}]
[15:37:15] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:37:18] â„¹ï¸  Order extraction - MRN: '412112025'
[15:37:18] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:37:18] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:37:18] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:37:18] âœ… Order data extraction completed successfully
[15:37:18] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:37:18] â„¹ï¸  Using MRN from patient data: 'C0200156525301' over '412112025'
[15:37:18] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:37:18] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:37:18] âœ… Patient name cross-validation successful
[15:37:18] âœ…    âœ… Data merged successfully
[15:37:19] âœ…    âœ… Order data extracted and validated
[15:37:19] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:37:23] [DOC: 9272036] â„¹ï¸  Patient not found in cache or API: JEANINE SASSEVILLE
[15:37:23] [DOC: 9272036] â„¹ï¸  Patient not found, creating new patient via API...
[15:37:23] [DOC: 9272036] â„¹ï¸  Creating patient via API: JEANINE SASSEVILLE
[15:37:24] [DOC: 9272036] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[15:37:24] âŒ    âŒ Failed to create patient
[15:37:24] [DOC: 9272036] â„¹ï¸  API push details saved for document 9272036
================================================================================
â•‘                        Processing Document ID: 9271538                         â•‘
================================================================================
[15:37:24] â„¹ï¸  Agency: Compassionate Care Hospice-Taunton
[15:37:24] â„¹ï¸  Date: 05/01/2025
[15:37:24] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:37:26] [DOC: 9271538] âœ… Text extracted using pdfplumber (1297 chars)
[15:37:26] âœ…    âœ… Text extracted using pdfplumber (1285 chars)
[15:37:26] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:37:29] â„¹ï¸  AI extracted raw sex value: ''
[15:37:29] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[15:37:29] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:37:29] â„¹ï¸  AI extracted diagnoses:
[15:37:29] â„¹ï¸    - Diagnosis 1: ''
[15:37:29] â„¹ï¸    - Diagnosis 2: ''
[15:37:29] â„¹ï¸    - Diagnosis 3: ''
[15:37:29] â„¹ï¸    - Diagnosis 4: ''
[15:37:29] â„¹ï¸    - Diagnosis 5: ''
[15:37:29] â„¹ï¸    - Diagnosis 6: ''
[15:37:29] â„¹ï¸  Final extracted MRN: 'B3700296223202'
[15:37:29] â„¹ï¸  Final extracted Sex: ''
[15:37:29] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[15:37:29] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:37:29] âœ… Patient data extraction completed successfully
[15:37:29] âœ…    âœ… Patient data extracted successfully
[15:37:29] ğŸ“Š Patient Response
     â””â”€ patientFName: MARIA
     â””â”€ patientLName: JARDIM
     â””â”€ dob: 05/20/1931
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: B3700296223202
     â””â”€ billingProvider: COMPASSIONATE CARE HOSPICE
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: COMPASSIONATE CARE HOSPICE
     â””â”€ address: 4475 2 LAKESHORE CENTER SUITE 110
     â””â”€ city: BRIDGEWATER
     â””â”€ state: MA
     â””â”€ zip: 02324-1077
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 399-5900
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/27/2025', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:37:29] âœ…    âœ… Patient identified: MARIA JARDIM
[15:37:29] âœ…    âœ… Patient name validation passed
[15:37:29] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:37:29] [DOC: 9271538] â„¹ï¸  DOB normalized: 05/20/1931
[15:37:29] [DOC: 9271538] â„¹ï¸  Episode startOfEpisode normalized: 04/27/2025
[15:37:29] [DOC: 9271538] âœ… Patient date processing completed successfully
[15:37:29] âœ…    âœ… Date processing completed
[15:37:29] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: MARIA
     â””â”€ patientLName: JARDIM
     â””â”€ dob: 05/20/1931
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: B3700296223202
     â””â”€ billingProvider: COMPASSIONATE CARE HOSPICE
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: COMPASSIONATE CARE HOSPICE
     â””â”€ address: 4475 2 LAKESHORE CENTER SUITE 110
     â””â”€ city: BRIDGEWATER
     â””â”€ state: MA
     â””â”€ zip: 02324-1077
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 399-5900
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/27/2025', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:37:29] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:37:32] â„¹ï¸  Order extraction - MRN: 'B3700296223202'
[15:37:32] â„¹ï¸  Order extraction - Sex: ''
[15:37:32] â„¹ï¸  Order extraction - Service Line: 'RN'
[15:37:32] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:37:32] âœ… Order data extraction completed successfully
[15:37:32] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:37:32] â„¹ï¸  Using MRN from patient data: 'B3700296223202' over 'B3700296223202'
[15:37:32] â„¹ï¸  Inferred sex as FEMALE from name: MARIA
[15:37:32] â„¹ï¸  Combined service lines: Patient='Skilled Nursing' + Order='RN' = 'RN, Skilled Nursing'
[15:37:32] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:37:32] âœ… Patient name cross-validation successful
[15:37:32] âœ…    âœ… Data merged successfully
[15:37:33] âœ…    âœ… Order data extracted and validated
[15:37:33] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:37:33] [DOC: 9271538] âœ… Patient found in local cache: MARIA JARDIM, ID: b4164e43-2407-47e7-a001-5a62bcf633fe
[15:37:33] âœ…    âœ… Existing patient found with ID: b4164e43-2407-47e7-a001-5a62bcf633fe
[15:37:33] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:37:33] [DOC: 9271538] â„¹ï¸  Pushing order via API for patient ID: b4164e43-2407-47e7-a001-5a62bcf633fe
[15:37:34] [DOC: 9271538] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13859"}
[15:37:34] âŒ    âŒ Failed to push order
[15:37:34] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:37:34] [DOC: 9271538] â„¹ï¸  Calculated age: 94 from DOB: 05/20/1931
[15:37:34] [DOC: 9271538] â„¹ï¸  Service Line extracted: 'RN, Skilled Nursing'
[15:37:34] [DOC: 9271538] â„¹ï¸  Payer Source extracted: 'Medicare'
[15:37:34] [DOC: 9271538] â„¹ï¸  Diagnosis codes being written:
[15:37:34] [DOC: 9271538] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[15:37:34] [DOC: 9271538] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[15:37:34] [DOC: 9271538] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[15:37:34] [DOC: 9271538] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:37:34] [DOC: 9271538] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:37:34] [DOC: 9271538] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:37:34] [DOC: 9271538] âœ… Patient data written to CSV: MARIA JARDIM | Sex: FEMALE | Age: 94 | Service: RN, Skilled Nursing | Payer: Medicare | MRN: B3700296223202
[15:37:34] âœ…    âœ… Document 9271538 processed and saved successfully
[15:37:34] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:37:34] [DOC: 9271538] â„¹ï¸  API push details saved for document 9271538
[15:37:34] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9271534                         â•‘
================================================================================
[15:37:34] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:37:34] â„¹ï¸  Date: 05/01/2025
[15:37:34] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:37:36] [DOC: 9271534] âœ… Text extracted using pdfplumber (1519 chars)
[15:37:36] âœ…    âœ… Text extracted using pdfplumber (1507 chars)
[15:37:36] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:37:39] â„¹ï¸  AI extracted raw sex value: ''
[15:37:39] â„¹ï¸  AI extracted service line: 'Physical Therapy'
[15:37:39] â„¹ï¸  AI extracted payer source: ''
[15:37:39] â„¹ï¸  AI extracted diagnoses:
[15:37:39] â„¹ï¸    - Diagnosis 1: 'A04.72'
[15:37:39] â„¹ï¸    - Diagnosis 2: 'E11.9'
[15:37:39] â„¹ï¸    - Diagnosis 3: 'E87.1'
[15:37:39] â„¹ï¸    - Diagnosis 4: 'None'
[15:37:39] â„¹ï¸    - Diagnosis 5: 'None'
[15:37:39] â„¹ï¸    - Diagnosis 6: 'None'
[15:37:39] â„¹ï¸  Final extracted MRN: 'MA250414053302'
[15:37:39] â„¹ï¸  Final extracted Sex: ''
[15:37:39] â„¹ï¸  Final extracted Service Line: 'Physical Therapy'
[15:37:39] â„¹ï¸  Final extracted Payer Source: ''
[15:37:39] âœ… Patient data extraction completed successfully
[15:37:39] âœ…    âœ… Patient data extracted successfully
[15:37:39] ğŸ“Š Patient Response
     â””â”€ patientFName: Serafim
     â””â”€ patientLName: Mimoso
     â””â”€ dob: 05/08/1933
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250414053302
     â””â”€ billingProvider: Daniel Martin MD
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '04/18/2025', 'endOfEpisode': '06/16/2025', 'firstDiagnosis': 'A04.72', 'secondDiagnosis': 'E11.9', 'thirdDiagnosis': 'E87.1', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:37:39] âœ…    âœ… Patient identified: Serafim Mimoso
[15:37:39] âœ…    âœ… Patient name validation passed
[15:37:39] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:37:39] [DOC: 9271534] â„¹ï¸  DOB normalized: 05/08/1933
[15:37:39] [DOC: 9271534] â„¹ï¸  Episode startOfEpisode normalized: 04/18/2025
[15:37:39] [DOC: 9271534] â„¹ï¸  Episode endOfEpisode normalized: 06/16/2025
[15:37:39] [DOC: 9271534] âœ… Patient date processing completed successfully
[15:37:39] âœ…    âœ… Date processing completed
[15:37:39] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Serafim
     â””â”€ patientLName: Mimoso
     â””â”€ dob: 05/08/1933
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250414053302
     â””â”€ billingProvider: Daniel Martin MD
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/18/2025', 'endOfEpisode': '06/16/2025', 'firstDiagnosis': 'A04.72', 'secondDiagnosis': 'E11.9', 'thirdDiagnosis': 'E87.1'}]
[15:37:39] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:37:42] â„¹ï¸  Order extraction - MRN: 'MA250414053302'
[15:37:42] â„¹ï¸  Order extraction - Sex: ''
[15:37:42] â„¹ï¸  Order extraction - Service Line: 'Physical Therapy'
[15:37:42] â„¹ï¸  Order extraction - Payer Source: ''
[15:37:42] âœ… Order data extraction completed successfully
[15:37:42] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:37:42] â„¹ï¸  Using MRN from patient data: 'MA250414053302' over 'MA250414053302'
[15:37:42] âš ï¸  Could not determine sex using any available method
[15:37:42] â„¹ï¸  Service line consistent in both sources: 'Physical Therapy'
[15:37:42] âœ… Patient name cross-validation successful
[15:37:42] âœ…    âœ… Data merged successfully
[15:37:43] âœ…    âœ… Order data extracted and validated
[15:37:43] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:37:48] [DOC: 9271534] âœ… Patient exists in API: Serafim Mimoso, ID: 0849f00a-166d-4c7d-969a-5567b25056c1
[15:37:48] âœ…    âœ… Existing patient found with ID: 0849f00a-166d-4c7d-969a-5567b25056c1
[15:37:48] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:37:48] [DOC: 9271534] â„¹ï¸  Pushing order via API for patient ID: 0849f00a-166d-4c7d-969a-5567b25056c1
[15:37:49] [DOC: 9271534] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14106"}
[15:37:49] âŒ    âŒ Failed to push order
[15:37:49] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:37:49] [DOC: 9271534] â„¹ï¸  Calculated age: 92 from DOB: 05/08/1933
[15:37:49] [DOC: 9271534] â„¹ï¸  Service Line extracted: 'Physical Therapy'
[15:37:49] [DOC: 9271534] â„¹ï¸  Payer Source extracted: ''
[15:37:49] [DOC: 9271534] â„¹ï¸  Diagnosis codes being written:
[15:37:49] [DOC: 9271534] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'A04.72'
[15:37:49] [DOC: 9271534] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'E11.9'
[15:37:49] [DOC: 9271534] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'E87.1'
[15:37:49] [DOC: 9271534] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:37:49] [DOC: 9271534] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:37:49] [DOC: 9271534] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:37:49] [DOC: 9271534] âœ… Patient data written to CSV: Serafim Mimoso | Sex:  | Age: 92 | Service: Physical Therapy | Payer:  | MRN: MA250414053302
[15:37:49] âœ…    âœ… Document 9271534 processed and saved successfully
[15:37:49] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:37:49] [DOC: 9271534] â„¹ï¸  API push details saved for document 9271534
[15:37:49] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9271466                         â•‘
================================================================================
[15:37:49] â„¹ï¸  Agency: Guardian Home Health Care LLC - West Bridgewater
[15:37:49] â„¹ï¸  Date: 05/01/2025
[15:37:49] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:37:52] [DOC: 9271466] âœ… Text extracted using pdfplumber (1671 chars)
[15:37:52] âœ…    âœ… Text extracted using pdfplumber (1671 chars)
[15:37:52] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:37:54] â„¹ï¸  AI extracted raw sex value: 'M'
[15:37:54] â„¹ï¸  AI extracted service line: 'HHA'
[15:37:54] â„¹ï¸  AI extracted payer source: 'Senior Whole Health'
[15:37:54] â„¹ï¸  AI extracted diagnoses:
[15:37:54] â„¹ï¸    - Diagnosis 1: ''
[15:37:54] â„¹ï¸    - Diagnosis 2: ''
[15:37:54] â„¹ï¸    - Diagnosis 3: ''
[15:37:54] â„¹ï¸    - Diagnosis 4: ''
[15:37:54] â„¹ï¸    - Diagnosis 5: ''
[15:37:54] â„¹ï¸    - Diagnosis 6: ''
[15:37:54] â„¹ï¸  Final extracted MRN: '1859'
[15:37:54] â„¹ï¸  Final extracted Sex: 'MALE'
[15:37:54] â„¹ï¸  Final extracted Service Line: 'HHA'
[15:37:54] â„¹ï¸  Final extracted Payer Source: 'Senior Whole Health'
[15:37:54] âœ… Patient data extraction completed successfully
[15:37:54] âœ…    âœ… Patient data extracted successfully
[15:37:54] ğŸ“Š Patient Response
     â””â”€ patientFName: Santos
     â””â”€ patientLName: Serrano
     â””â”€ dob: 09/12/1950
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 1859
     â””â”€ billingProvider: Guardian Home Health Care, LLC
     â””â”€ npi: 1124084611
     â””â”€ physicianNPI: 1124084611
     â””â”€ nameOfAgency: Guardian Home Health Care, LLC
     â””â”€ address: 750 West Center St 3rd Floor
     â””â”€ city: W Bridgewater
     â””â”€ state: MA
     â””â”€ zip: 02379
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 588-5811
     â””â”€ serviceLine: HHA
     â””â”€ payorSource: Senior Whole Health
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/11/2015', 'startOfEpisode': '03/18/2025', 'endOfEpisode': '05/16/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:37:54] âœ…    âœ… Patient identified: Santos Serrano
[15:37:54] âœ…    âœ… Patient name validation passed
[15:37:54] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:37:54] [DOC: 9271466] â„¹ï¸  DOB normalized: 09/12/1950
[15:37:54] [DOC: 9271466] â„¹ï¸  Episode startOfCare normalized: 03/11/2015
[15:37:54] [DOC: 9271466] â„¹ï¸  Episode startOfEpisode normalized: 03/18/2025
[15:37:54] [DOC: 9271466] â„¹ï¸  Episode endOfEpisode normalized: 05/16/2025
[15:37:54] [DOC: 9271466] âœ… Patient date processing completed successfully
[15:37:54] âœ…    âœ… Date processing completed
[15:37:54] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Santos
     â””â”€ patientLName: Serrano
     â””â”€ dob: 09/12/1950
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 1859
     â””â”€ billingProvider: Guardian Home Health Care, LLC
     â””â”€ npi: 1124084611
     â””â”€ physicianNPI: 1124084611
     â””â”€ nameOfAgency: Guardian Home Health Care, LLC
     â””â”€ address: 750 West Center St 3rd Floor
     â””â”€ city: W Bridgewater
     â””â”€ state: MA
     â””â”€ zip: 02379
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 588-5811
     â””â”€ serviceLine: HHA
     â””â”€ payorSource: Senior Whole Health
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/11/2015', 'startOfEpisode': '03/18/2025', 'endOfEpisode': '05/16/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:37:54] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:37:57] â„¹ï¸  Order extraction - MRN: '1859'
[15:37:57] â„¹ï¸  Order extraction - Sex: 'MALE'
[15:37:57] â„¹ï¸  Order extraction - Service Line: ''
[15:37:57] â„¹ï¸  Order extraction - Payer Source: 'Senior Whole Health'
[15:37:57] âœ… Order data extraction completed successfully
[15:37:57] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:37:57] â„¹ï¸  Using MRN from patient data: '1859' over '1859'
[15:37:57] â„¹ï¸  Using service line from patient data: 'HHA'
[15:37:57] â„¹ï¸  Payer source consistent in both sources: 'Senior Whole Health'
[15:37:57] âœ… Patient name cross-validation successful
[15:37:57] âœ…    âœ… Data merged successfully
[15:37:58] âœ…    âœ… Order data extracted and validated
[15:37:58] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:38:04] [DOC: 9271466] âœ… Patient exists in API: Santos Serrano, ID: 61360068-b28b-42ce-bb3a-37a13f90cd0b
[15:38:04] âœ…    âœ… Existing patient found with ID: 61360068-b28b-42ce-bb3a-37a13f90cd0b
[15:38:04] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:38:04] [DOC: 9271466] â„¹ï¸  Pushing order via API for patient ID: 61360068-b28b-42ce-bb3a-37a13f90cd0b
[15:38:05] [DOC: 9271466] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[15:38:05] âŒ    âŒ Failed to push order
[15:38:05] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:38:05] [DOC: 9271466] â„¹ï¸  Calculated age: 74 from DOB: 09/12/1950
[15:38:05] [DOC: 9271466] â„¹ï¸  Service Line extracted: 'HHA'
[15:38:05] [DOC: 9271466] â„¹ï¸  Payer Source extracted: 'Senior Whole Health'
[15:38:05] [DOC: 9271466] â„¹ï¸  Diagnosis codes being written:
[15:38:05] [DOC: 9271466] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[15:38:05] [DOC: 9271466] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[15:38:05] [DOC: 9271466] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[15:38:05] [DOC: 9271466] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:38:05] [DOC: 9271466] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:38:05] [DOC: 9271466] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:38:05] [DOC: 9271466] âœ… Patient data written to CSV: Santos Serrano | Sex: MALE | Age: 74 | Service: HHA | Payer: Senior Whole Health | MRN: 1859
[15:38:05] âœ…    âœ… Document 9271466 processed and saved successfully
[15:38:05] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:38:05] [DOC: 9271466] â„¹ï¸  API push details saved for document 9271466
[15:38:05] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9270701                         â•‘
================================================================================
[15:38:05] â„¹ï¸  Agency: Relief Home Health Services
[15:38:05] â„¹ï¸  Date: 05/01/2025
[15:38:05] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:38:08] [DOC: 9270701] âœ… Text extracted using pdfplumber (16951 chars)
[15:38:08] âœ…    âœ… Text extracted using pdfplumber (16951 chars)
[15:38:08] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:38:11] â„¹ï¸  AI extracted raw sex value: 'M'
[15:38:11] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[15:38:11] â„¹ï¸  AI extracted payer source: ''
[15:38:11] â„¹ï¸  AI extracted diagnoses:
[15:38:11] â„¹ï¸    - Diagnosis 1: 'E11.9'
[15:38:11] â„¹ï¸    - Diagnosis 2: 'F41.9'
[15:38:11] â„¹ï¸    - Diagnosis 3: 'I12.9'
[15:38:11] â„¹ï¸    - Diagnosis 4: 'N18.30'
[15:38:11] â„¹ï¸    - Diagnosis 5: 'J45.20'
[15:38:11] â„¹ï¸    - Diagnosis 6: 'G47.33'
[15:38:11] â„¹ï¸  Final extracted MRN: 'NB0458'
[15:38:11] â„¹ï¸  Final extracted Sex: 'MALE'
[15:38:11] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[15:38:11] â„¹ï¸  Final extracted Payer Source: ''
[15:38:11] âœ… Patient data extraction completed successfully
[15:38:11] âœ…    âœ… Patient data extracted successfully
[15:38:11] ğŸ“Š Patient Response
     â””â”€ patientFName: BRIAN
     â””â”€ patientLName: BROWN
     â””â”€ dob: 11/28/1958
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: NB0458
     â””â”€ billingProvider: Relief Home Health Services, Inc
     â””â”€ npi: 1871748210
     â””â”€ physicianNPI: 1346571098
     â””â”€ nameOfAgency: Relief Home Health Services, Inc
     â””â”€ address: 525 Coggeshall St Apt 112
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02746
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 827-7954
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '01/01/2024', 'startOfEpisode': '04/25/2025', 'endOfEpisode': '06/23/2025', 'firstDiagnosis': 'E11.9', 'secondDiagnosis': 'F41.9', 'thirdDiagnosis': 'I12.9', 'fourthDiagnosis': 'N18.30', 'fifthDiagnosis': 'J45.20', 'sixthDiagnosis': 'G47.33'}]
[15:38:11] âœ…    âœ… Patient identified: BRIAN BROWN
[15:38:11] âœ…    âœ… Patient name validation passed
[15:38:11] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:38:11] [DOC: 9270701] â„¹ï¸  DOB normalized: 11/28/1958
[15:38:11] [DOC: 9270701] â„¹ï¸  Episode startOfCare normalized: 01/01/2024
[15:38:11] [DOC: 9270701] â„¹ï¸  Episode startOfEpisode normalized: 04/25/2025
[15:38:11] [DOC: 9270701] â„¹ï¸  Episode endOfEpisode normalized: 06/23/2025
[15:38:11] [DOC: 9270701] âœ… Patient date processing completed successfully
[15:38:11] âœ…    âœ… Date processing completed
[15:38:11] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: BRIAN
     â””â”€ patientLName: BROWN
     â””â”€ dob: 11/28/1958
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: NB0458
     â””â”€ billingProvider: Relief Home Health Services, Inc
     â””â”€ npi: 1871748210
     â””â”€ physicianNPI: 1346571098
     â””â”€ nameOfAgency: Relief Home Health Services, Inc
     â””â”€ address: 525 Coggeshall St Apt 112
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02746
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 827-7954
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '01/01/2024', 'startOfEpisode': '04/25/2025', 'endOfEpisode': '06/23/2025', 'firstDiagnosis': 'E11.9', 'secondDiagnosis': 'F41.9', 'thirdDiagnosis': 'I12.9', 'fourthDiagnosis': 'N18.30', 'fifthDiagnosis': 'J45.20', 'sixthDiagnosis': 'G47.33'}]
[15:38:11] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:38:14] â„¹ï¸  Order extraction - MRN: 'NB0458'
[15:38:14] â„¹ï¸  Order extraction - Sex: 'MALE'
[15:38:14] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[15:38:14] â„¹ï¸  Order extraction - Payer Source: ''
[15:38:14] âœ… Order data extraction completed successfully
[15:38:14] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:38:14] â„¹ï¸  Using MRN from patient data: 'NB0458' over 'NB0458'
[15:38:14] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing'
[15:38:14] âœ… Patient name cross-validation successful
[15:38:14] âœ…    âœ… Data merged successfully
[15:38:15] âœ…    âœ… Order data extracted and validated
[15:38:15] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:38:21] [DOC: 9270701] âœ… Patient exists in API: BRIAN BROWN, ID: 6bd7fd2a-44f5-473f-b506-c7058f7d62bc
[15:38:21] âœ…    âœ… Existing patient found with ID: 6bd7fd2a-44f5-473f-b506-c7058f7d62bc
[15:38:21] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:38:21] [DOC: 9270701] â„¹ï¸  Pushing order via API for patient ID: 6bd7fd2a-44f5-473f-b506-c7058f7d62bc
[15:38:22] [DOC: 9270701] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[15:38:22] âŒ    âŒ Failed to push order
[15:38:22] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:38:22] [DOC: 9270701] â„¹ï¸  Calculated age: 66 from DOB: 11/28/1958
[15:38:22] [DOC: 9270701] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[15:38:22] [DOC: 9270701] â„¹ï¸  Payer Source extracted: ''
[15:38:22] [DOC: 9270701] â„¹ï¸  Diagnosis codes being written:
[15:38:22] [DOC: 9270701] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'E11.9'
[15:38:22] [DOC: 9270701] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'F41.9'
[15:38:22] [DOC: 9270701] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'I12.9'
[15:38:22] [DOC: 9270701] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'N18.30'
[15:38:22] [DOC: 9270701] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'J45.20'
[15:38:22] [DOC: 9270701] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'G47.33'
[15:38:22] [DOC: 9270701] âœ… Patient data written to CSV: BRIAN BROWN | Sex: MALE | Age: 66 | Service: Skilled Nursing | Payer:  | MRN: NB0458
[15:38:22] âœ…    âœ… Document 9270701 processed and saved successfully
[15:38:22] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:38:22] [DOC: 9270701] â„¹ï¸  API push details saved for document 9270701
[15:38:22] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 2173693                         â•‘
================================================================================
[15:38:22] â„¹ï¸  Agency: Visiting Rehab & Nursing Services
[15:38:22] â„¹ï¸  Date: 04/30/2025
[15:38:22] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:38:23] [DOC: 2173693] âŒ Critical failure in get_pdf_text: Invalid response format
[15:38:23] âŒ Failed to extract text for Doc ID 2173693
[15:38:23] [DOC: 2173693] â„¹ï¸  API push details saved for document 2173693
================================================================================
â•‘                        Processing Document ID: 9268264                         â•‘
================================================================================
[15:38:23] â„¹ï¸  Agency: Nizhoni Health-Fall River
[15:38:23] â„¹ï¸  Date: 04/30/2025
[15:38:23] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:38:26] [DOC: 9268264] âœ… Text extracted using pdfplumber (11484 chars)
[15:38:26] âœ…    âœ… Text extracted using pdfplumber (11484 chars)
[15:38:26] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:38:30] â„¹ï¸  AI extracted raw sex value: 'M'
[15:38:30] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[15:38:30] â„¹ï¸  AI extracted payer source: 'None'
[15:38:30] â„¹ï¸  AI extracted diagnoses:
[15:38:30] â„¹ï¸    - Diagnosis 1: 'F25.0'
[15:38:30] â„¹ï¸    - Diagnosis 2: 'I10'
[15:38:30] â„¹ï¸    - Diagnosis 3: 'E03.9'
[15:38:30] â„¹ï¸    - Diagnosis 4: 'E11.9'
[15:38:30] â„¹ï¸    - Diagnosis 5: 'E78.00'
[15:38:30] â„¹ï¸    - Diagnosis 6: 'E66.09'
[15:38:30] â„¹ï¸  Final extracted MRN: '18016'
[15:38:30] â„¹ï¸  Final extracted Sex: 'MALE'
[15:38:30] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[15:38:30] â„¹ï¸  Final extracted Payer Source: ''
[15:38:30] âœ… Patient data extraction completed successfully
[15:38:30] âœ…    âœ… Patient data extracted successfully
[15:38:30] ğŸ“Š Patient Response
     â””â”€ patientFName: Craig
     â””â”€ patientLName: Leite
     â””â”€ dob: 12/14/1987
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 18016
     â””â”€ billingProvider: Innovive Health of Massachusetts LLC
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Innovive Health of Massachusetts LLC
     â””â”€ address: 10 Cabot Rd Suite 201
     â””â”€ city: Medford
     â””â”€ state: MA
     â””â”€ zip: 02155
     â””â”€ email: None
     â””â”€ phoneNumber: (617) 623-3211
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '01/21/2020', 'startOfEpisode': '01/22/2020', 'endOfEpisode': '06/23/2025', 'firstDiagnosis': 'F25.0', 'secondDiagnosis': 'I10', 'thirdDiagnosis': 'E03.9', 'fourthDiagnosis': 'E11.9', 'fifthDiagnosis': 'E78.00', 'sixthDiagnosis': 'E66.09'}]
[15:38:30] âœ…    âœ… Patient identified: Craig Leite
[15:38:30] âœ…    âœ… Patient name validation passed
[15:38:30] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:38:30] [DOC: 9268264] â„¹ï¸  DOB normalized: 12/14/1987
[15:38:30] [DOC: 9268264] â„¹ï¸  Episode startOfCare normalized: 01/21/2020
[15:38:30] [DOC: 9268264] â„¹ï¸  Episode startOfEpisode normalized: 01/22/2020
[15:38:30] [DOC: 9268264] â„¹ï¸  Episode endOfEpisode normalized: 06/23/2025
[15:38:30] [DOC: 9268264] âœ… Patient date processing completed successfully
[15:38:30] âœ…    âœ… Date processing completed
[15:38:30] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Craig
     â””â”€ patientLName: Leite
     â””â”€ dob: 12/14/1987
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: 18016
     â””â”€ billingProvider: Innovive Health of Massachusetts LLC
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Innovive Health of Massachusetts LLC
     â””â”€ address: 10 Cabot Rd Suite 201
     â””â”€ city: Medford
     â””â”€ state: MA
     â””â”€ zip: 02155
     â””â”€ phoneNumber: (617) 623-3211
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '01/21/2020', 'startOfEpisode': '01/22/2020', 'endOfEpisode': '06/23/2025', 'firstDiagnosis': 'F25.0', 'secondDiagnosis': 'I10', 'thirdDiagnosis': 'E03.9', 'fourthDiagnosis': 'E11.9', 'fifthDiagnosis': 'E78.00', 'sixthDiagnosis': 'E66.09'}]
[15:38:30] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:38:32] â„¹ï¸  Order extraction - MRN: '18016'
[15:38:32] â„¹ï¸  Order extraction - Sex: 'MALE'
[15:38:32] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[15:38:32] â„¹ï¸  Order extraction - Payer Source: ''
[15:38:32] âœ… Order data extraction completed successfully
[15:38:32] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:38:32] â„¹ï¸  Using MRN from patient data: '18016' over '18016'
[15:38:32] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing'
[15:38:32] âœ… Patient name cross-validation successful
[15:38:32] âœ…    âœ… Data merged successfully
[15:38:33] âœ…    âœ… Order data extracted and validated
[15:38:33] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:38:58] [DOC: 9268264] âœ… Patient exists in API: Craig Leite, ID: 841862b6-562d-466d-bbe3-040191d78347
[15:38:58] âœ…    âœ… Existing patient found with ID: 841862b6-562d-466d-bbe3-040191d78347
[15:38:58] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:38:58] [DOC: 9268264] â„¹ï¸  Pushing order via API for patient ID: 841862b6-562d-466d-bbe3-040191d78347
[15:39:00] [DOC: 9268264] âŒ Order push failed with status 201: {"id":"8d6e42e7-799b-41c6-9890-d52cd2b57a4c","orderWAVId":"ORD19957","orderNo":"18016","orderDate":"04/29/2025","startOfCare":"01/22/2020","episodeStartDate":"04/25/2025","episodeEndDate":"06/23/2025","documentID":"9268264","mrn":"18016","patientName":"Leite, Craig","sentToPhysicianDate":"04/30/2025","sentToPhysicianStatus":true,"signedByPhysicianDate":null,"signedByPhysicianStatus":false,"uploadedSignedOrderDate":null,"uploadedSignedOrderStatus":false,"uploadedSignedPgOrderDate":null,"uploadedSignedPgOrderStatus":false,"cpoMinutes":null,"orderUrl":null,"documentName":"HOME HEALTH CERTIFICATION AND PLAN OF CARE","ehr":null,"account":null,"location":null,"remarks":null,"patientId":"841862b6-562d-466d-bbe3-040191d78347","companyId":"d598757a-87c6-4192-bcde-ff8d6e0b91ad","pgCompanyId":"4b51c8b7-c8c4-4779-808c-038c057f026b","entityType":null,"clinicalJustification":null,"billingProvider":null,"billingProviderNPI":null,"supervisingProvider":null,"supervisingProviderNPI":null,"bit64Url":null,"daOrderType":null,"daUploadSuccess":null,"daResponseStatusCode":null,"daResponseDetails":null}
[15:39:00] âŒ    âŒ Failed to push order
[15:39:00] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:39:00] [DOC: 9268264] â„¹ï¸  Calculated age: 37 from DOB: 12/14/1987
[15:39:00] [DOC: 9268264] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[15:39:00] [DOC: 9268264] â„¹ï¸  Payer Source extracted: ''
[15:39:00] [DOC: 9268264] â„¹ï¸  Diagnosis codes being written:
[15:39:00] [DOC: 9268264] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'F25.0'
[15:39:00] [DOC: 9268264] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'I10'
[15:39:00] [DOC: 9268264] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'E03.9'
[15:39:00] [DOC: 9268264] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'E11.9'
[15:39:00] [DOC: 9268264] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'E78.00'
[15:39:00] [DOC: 9268264] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'E66.09'
[15:39:00] [DOC: 9268264] âœ… Patient data written to CSV: Craig Leite | Sex: MALE | Age: 37 | Service: Skilled Nursing | Payer:  | MRN: 18016
[15:39:00] âœ…    âœ… Document 9268264 processed and saved successfully
[15:39:00] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:39:00] [DOC: 9268264] â„¹ï¸  API push details saved for document 9268264
[15:39:00] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9270375                         â•‘
================================================================================
[15:39:00] â„¹ï¸  Agency: Brigham Home Care Services.Inc
[15:39:00] â„¹ï¸  Date: 04/30/2025
[15:39:00] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:39:04] [DOC: 9270375] âœ… Text extracted using pdfplumber (17413 chars)
[15:39:04] âœ…    âœ… Text extracted using pdfplumber (17413 chars)
[15:39:04] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:39:07] â„¹ï¸  AI extracted raw sex value: 'F'
[15:39:07] â„¹ï¸  AI extracted service line: 'Skilled Nursing, Home Health Aide'
[15:39:07] â„¹ï¸  AI extracted payer source: ''
[15:39:07] â„¹ï¸  AI extracted diagnoses:
[15:39:07] â„¹ï¸    - Diagnosis 1: 'J45.909'
[15:39:07] â„¹ï¸    - Diagnosis 2: 'Z91.148'
[15:39:07] â„¹ï¸    - Diagnosis 3: 'M62.838'
[15:39:07] â„¹ï¸    - Diagnosis 4: 'G58.9'
[15:39:07] â„¹ï¸    - Diagnosis 5: 'G89.4'
[15:39:07] â„¹ï¸    - Diagnosis 6: 'K59.00'
[15:39:07] â„¹ï¸  Final extracted MRN: '2327'
[15:39:07] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:39:07] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing, Home Health Aide'
[15:39:07] â„¹ï¸  Final extracted Payer Source: ''
[15:39:07] âœ… Patient data extraction completed successfully
[15:39:07] âœ…    âœ… Patient data extracted successfully
[15:39:07] ğŸ“Š Patient Response
     â””â”€ patientFName: NITZA
     â””â”€ patientLName: VALE
     â””â”€ dob: 10/07/1979
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2327
     â””â”€ billingProvider: Brigham Home Care Services, Inc
     â””â”€ npi: 227605
     â””â”€ physicianNPI: 1730593195
     â””â”€ nameOfAgency: Brigham Home Care Services, Inc
     â””â”€ address: 84 S FRANKLIN ST UNIT B
     â””â”€ city: HOLBROOK
     â””â”€ state: MA
     â””â”€ zip: 02343-1171
     â””â”€ email: 
     â””â”€ phoneNumber: 5088570627
     â””â”€ serviceLine: Skilled Nursing, Home Health Aide
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '05/10/2023', 'startOfEpisode': '04/29/2025', 'endOfEpisode': '06/27/2025', 'firstDiagnosis': 'J45.909', 'secondDiagnosis': 'Z91.148', 'thirdDiagnosis': 'M62.838', 'fourthDiagnosis': 'G58.9', 'fifthDiagnosis': 'G89.4', 'sixthDiagnosis': 'K59.00'}]
[15:39:07] âœ…    âœ… Patient identified: NITZA VALE
[15:39:07] âœ…    âœ… Patient name validation passed
[15:39:07] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:39:07] [DOC: 9270375] â„¹ï¸  DOB normalized: 10/07/1979
[15:39:07] [DOC: 9270375] â„¹ï¸  Episode startOfCare normalized: 05/10/2023
[15:39:07] [DOC: 9270375] â„¹ï¸  Episode startOfEpisode normalized: 04/29/2025
[15:39:07] [DOC: 9270375] â„¹ï¸  Episode endOfEpisode normalized: 06/27/2025
[15:39:07] [DOC: 9270375] âœ… Patient date processing completed successfully
[15:39:07] âœ…    âœ… Date processing completed
[15:39:07] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: NITZA
     â””â”€ patientLName: VALE
     â””â”€ dob: 10/07/1979
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2327
     â””â”€ billingProvider: Brigham Home Care Services, Inc
     â””â”€ npi: 227605
     â””â”€ physicianNPI: 1730593195
     â””â”€ nameOfAgency: Brigham Home Care Services, Inc
     â””â”€ address: 84 S FRANKLIN ST UNIT B
     â””â”€ city: HOLBROOK
     â””â”€ state: MA
     â””â”€ zip: 02343-1171
     â””â”€ email: 
     â””â”€ phoneNumber: 5088570627
     â””â”€ serviceLine: Skilled Nursing, Home Health Aide
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '05/10/2023', 'startOfEpisode': '04/29/2025', 'endOfEpisode': '06/27/2025', 'firstDiagnosis': 'J45.909', 'secondDiagnosis': 'Z91.148', 'thirdDiagnosis': 'M62.838', 'fourthDiagnosis': 'G58.9', 'fifthDiagnosis': 'G89.4', 'sixthDiagnosis': 'K59.00'}]
[15:39:07] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:39:10] â„¹ï¸  Order extraction - MRN: '2327'
[15:39:10] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:39:10] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy, Home Health Aide'
[15:39:10] â„¹ï¸  Order extraction - Payer Source: ''
[15:39:10] âœ… Order data extraction completed successfully
[15:39:10] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:39:10] â„¹ï¸  Using MRN from patient data: '2327' over '2327'
[15:39:10] â„¹ï¸  Combined service lines: Patient='Skilled Nursing, Home Health Aide' + Order='Skilled Nursing, Physical Therapy, Occupational Therapy, Home Health Aide' = 'Home Health Aide, Occupational Therapy, Physical Therapy, Skilled Nursing'
[15:39:10] âœ… Patient name cross-validation successful
[15:39:10] âœ…    âœ… Data merged successfully
[15:39:11] âš ï¸     âŒ Skipping - missing company ID for agency: Brigham Home Care Services.Inc
[15:39:11] [DOC: 9270375] â„¹ï¸  API push details saved for document 9270375
================================================================================
â•‘                        Processing Document ID: 9270178                         â•‘
================================================================================
[15:39:11] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:39:11] â„¹ï¸  Date: 04/30/2025
[15:39:11] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:39:14] [DOC: 9270178] âœ… Text extracted using pdfplumber (16877 chars)
[15:39:14] âœ…    âœ… Text extracted using pdfplumber (16877 chars)
[15:39:14] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:39:17] â„¹ï¸  AI extracted raw sex value: 'F'
[15:39:17] â„¹ï¸  AI extracted service line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:39:17] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:39:17] â„¹ï¸  AI extracted diagnoses:
[15:39:17] â„¹ï¸    - Diagnosis 1: 'J44.1'
[15:39:17] â„¹ï¸    - Diagnosis 2: 'I10'
[15:39:17] â„¹ï¸    - Diagnosis 3: 'E11.65'
[15:39:17] â„¹ï¸    - Diagnosis 4: 'I48.0'
[15:39:17] â„¹ï¸    - Diagnosis 5: 'I25.10'
[15:39:17] â„¹ï¸    - Diagnosis 6: 'J96.21'
[15:39:17] â„¹ï¸  Final extracted MRN: '100990744'
[15:39:17] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:39:17] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:39:17] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:39:17] âœ… Patient data extraction completed successfully
[15:39:17] âœ…    âœ… Patient data extracted successfully
[15:39:17] ğŸ“Š Patient Response
     â””â”€ patientFName: Barbara
     â””â”€ patientLName: Grace
     â””â”€ dob: 10/21/1948
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 100990744
     â””â”€ billingProvider: DHUNGANA PARAJULI, SIRJANA MD
     â””â”€ npi: 1063606473
     â””â”€ physicianNPI: 1063606473
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 114 Riverside Ave, APT 250
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02746
     â””â”€ email: None
     â””â”€ phoneNumber: (978) 648-4780
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/01/2024', 'startOfEpisode': '04/25/2025', 'endOfEpisode': '06/23/2025', 'firstDiagnosis': 'J44.1', 'secondDiagnosis': 'I10', 'thirdDiagnosis': 'E11.65', 'fourthDiagnosis': 'I48.0', 'fifthDiagnosis': 'I25.10', 'sixthDiagnosis': 'J96.21'}]
[15:39:17] âœ…    âœ… Patient identified: Barbara Grace
[15:39:17] âœ…    âœ… Patient name validation passed
[15:39:17] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:39:17] [DOC: 9270178] â„¹ï¸  DOB normalized: 10/21/1948
[15:39:17] [DOC: 9270178] â„¹ï¸  Episode startOfCare normalized: 03/01/2024
[15:39:17] [DOC: 9270178] â„¹ï¸  Episode startOfEpisode normalized: 04/25/2025
[15:39:17] [DOC: 9270178] â„¹ï¸  Episode endOfEpisode normalized: 06/23/2025
[15:39:17] [DOC: 9270178] âœ… Patient date processing completed successfully
[15:39:17] âœ…    âœ… Date processing completed
[15:39:17] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Barbara
     â””â”€ patientLName: Grace
     â””â”€ dob: 10/21/1948
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 100990744
     â””â”€ billingProvider: DHUNGANA PARAJULI, SIRJANA MD
     â””â”€ npi: 1063606473
     â””â”€ physicianNPI: 1063606473
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 114 Riverside Ave, APT 250
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02746
     â””â”€ phoneNumber: (978) 648-4780
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '03/01/2024', 'startOfEpisode': '04/25/2025', 'endOfEpisode': '06/23/2025', 'firstDiagnosis': 'J44.1', 'secondDiagnosis': 'I10', 'thirdDiagnosis': 'E11.65', 'fourthDiagnosis': 'I48.0', 'fifthDiagnosis': 'I25.10', 'sixthDiagnosis': 'J96.21'}]
[15:39:17] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:39:20] â„¹ï¸  Order extraction - MRN: '100990744'
[15:39:20] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:39:20] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:39:20] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:39:20] âœ… Order data extraction completed successfully
[15:39:20] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:39:20] â„¹ï¸  Using MRN from patient data: '100990744' over '100990744'
[15:39:20] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:39:20] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:39:20] âœ… Patient name cross-validation successful
[15:39:20] âœ…    âœ… Data merged successfully
[15:39:21] âœ…    âœ… Order data extracted and validated
[15:39:21] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:39:21] [DOC: 9270178] âœ… Patient found in local cache: Barbara Grace, ID: 579e1f1c-438b-4928-9793-bad56e38e647
[15:39:21] âœ…    âœ… Existing patient found with ID: 579e1f1c-438b-4928-9793-bad56e38e647
[15:39:21] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:39:21] [DOC: 9270178] â„¹ï¸  Pushing order via API for patient ID: 579e1f1c-438b-4928-9793-bad56e38e647
[15:39:22] [DOC: 9270178] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13819"}
[15:39:22] âŒ    âŒ Failed to push order
[15:39:22] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:39:22] [DOC: 9270178] â„¹ï¸  Calculated age: 76 from DOB: 10/21/1948
[15:39:22] [DOC: 9270178] â„¹ï¸  Service Line extracted: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:39:22] [DOC: 9270178] â„¹ï¸  Payer Source extracted: 'Medicare'
[15:39:22] [DOC: 9270178] â„¹ï¸  Diagnosis codes being written:
[15:39:22] [DOC: 9270178] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'J44.1'
[15:39:22] [DOC: 9270178] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'I10'
[15:39:22] [DOC: 9270178] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'E11.65'
[15:39:22] [DOC: 9270178] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'I48.0'
[15:39:22] [DOC: 9270178] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'I25.10'
[15:39:22] [DOC: 9270178] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'J96.21'
[15:39:22] [DOC: 9270178] âœ… Patient data written to CSV: Barbara Grace | Sex: FEMALE | Age: 76 | Service: Skilled Nursing, Physical Therapy, Occupational Therapy | Payer: Medicare | MRN: 100990744
[15:39:22] âœ…    âœ… Document 9270178 processed and saved successfully
[15:39:22] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:39:22] [DOC: 9270178] â„¹ï¸  API push details saved for document 9270178
[15:39:22] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9269909                         â•‘
================================================================================
[15:39:22] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:39:22] â„¹ï¸  Date: 04/30/2025
[15:39:22] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:39:26] [DOC: 9269909] âœ… Text extracted using pdfplumber (12401 chars)
[15:39:26] âœ…    âœ… Text extracted using pdfplumber (12401 chars)
[15:39:26] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:39:29] â„¹ï¸  AI extracted raw sex value: 'M'
[15:39:29] â„¹ï¸  AI extracted service line: 'OT'
[15:39:29] â„¹ï¸  AI extracted payer source: 'None'
[15:39:29] â„¹ï¸  AI extracted diagnoses:
[15:39:29] â„¹ï¸    - Diagnosis 1: 'Bilateral shoulder tendonitis'
[15:39:29] â„¹ï¸    - Diagnosis 2: 'muscle weakness'
[15:39:29] â„¹ï¸    - Diagnosis 3: 'None'
[15:39:29] â„¹ï¸    - Diagnosis 4: 'None'
[15:39:29] â„¹ï¸    - Diagnosis 5: 'None'
[15:39:29] â„¹ï¸    - Diagnosis 6: 'None'
[15:39:29] â„¹ï¸  Final extracted MRN: 'MA230420103801'
[15:39:29] â„¹ï¸  Final extracted Sex: 'MALE'
[15:39:29] â„¹ï¸  Final extracted Service Line: 'OT'
[15:39:29] â„¹ï¸  Final extracted Payer Source: ''
[15:39:29] âœ… Patient data extraction completed successfully
[15:39:29] âœ…    âœ… Patient data extracted successfully
[15:39:29] ğŸ“Š Patient Response
     â””â”€ patientFName: Alfredo
     â””â”€ patientLName: Santos
     â””â”€ dob: 10/24/1938
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: MA230420103801
     â””â”€ billingProvider: Dr. Martin, Daniel J.
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST.
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '03/24/2025', 'endOfEpisode': None, 'firstDiagnosis': 'Bilateral shoulder tendonitis', 'secondDiagnosis': 'muscle weakness', 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:39:29] âœ…    âœ… Patient identified: Alfredo Santos
[15:39:29] âœ…    âœ… Patient name validation passed
[15:39:29] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:39:29] [DOC: 9269909] â„¹ï¸  DOB normalized: 10/24/1938
[15:39:29] [DOC: 9269909] â„¹ï¸  Episode startOfEpisode normalized: 03/24/2025
[15:39:29] [DOC: 9269909] âœ… Patient date processing completed successfully
[15:39:29] âœ…    âœ… Date processing completed
[15:39:29] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Alfredo
     â””â”€ patientLName: Santos
     â””â”€ dob: 10/24/1938
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: MA230420103801
     â””â”€ billingProvider: Dr. Martin, Daniel J.
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST.
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '03/24/2025', 'firstDiagnosis': 'Bilateral shoulder tendonitis', 'secondDiagnosis': 'muscle weakness'}]
[15:39:29] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:39:31] â„¹ï¸  Order extraction - MRN: 'MA230420103801'
[15:39:31] â„¹ï¸  Order extraction - Sex: 'MALE'
[15:39:31] â„¹ï¸  Order extraction - Service Line: 'OT'
[15:39:31] â„¹ï¸  Order extraction - Payer Source: ''
[15:39:31] âœ… Order data extraction completed successfully
[15:39:31] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:39:31] â„¹ï¸  Using MRN from patient data: 'MA230420103801' over 'MA230420103801'
[15:39:31] â„¹ï¸  Service line consistent in both sources: 'OT'
[15:39:31] âœ… Patient name cross-validation successful
[15:39:31] âœ…    âœ… Data merged successfully
[15:39:33] âš ï¸     âŒ Skipping - missing episode start date
[15:39:33] [DOC: 9269909] â„¹ï¸  API push details saved for document 9269909
================================================================================
â•‘                        Processing Document ID: 9269907                         â•‘
================================================================================
[15:39:33] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:39:33] â„¹ï¸  Date: 04/30/2025
[15:39:33] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:39:35] [DOC: 9269907] âœ… Text extracted using pdfplumber (1489 chars)
[15:39:35] âœ…    âœ… Text extracted using pdfplumber (1489 chars)
[15:39:35] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:39:38] â„¹ï¸  AI extracted raw sex value: ''
[15:39:38] â„¹ï¸  AI extracted service line: 'Occupational Therapy'
[15:39:38] â„¹ï¸  AI extracted payer source: ''
[15:39:38] â„¹ï¸  AI extracted diagnoses:
[15:39:38] â„¹ï¸    - Diagnosis 1: 'M67.813'
[15:39:38] â„¹ï¸    - Diagnosis 2: 'M67.814'
[15:39:38] â„¹ï¸    - Diagnosis 3: 'M15.9'
[15:39:38] â„¹ï¸    - Diagnosis 4: 'None'
[15:39:38] â„¹ï¸    - Diagnosis 5: 'None'
[15:39:38] â„¹ï¸    - Diagnosis 6: 'None'
[15:39:38] â„¹ï¸  Final extracted MRN: 'MA230420103801'
[15:39:38] â„¹ï¸  Final extracted Sex: ''
[15:39:38] â„¹ï¸  Final extracted Service Line: 'Occupational Therapy'
[15:39:38] â„¹ï¸  Final extracted Payer Source: ''
[15:39:38] âœ… Patient data extraction completed successfully
[15:39:38] âœ…    âœ… Patient data extracted successfully
[15:39:38] ğŸ“Š Patient Response
     â””â”€ patientFName: Alfredo
     â””â”€ patientLName: Santos
     â””â”€ dob: 10/24/1938
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA230420103801
     â””â”€ billingProvider: Nightingale Visiting Nurses
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '03/20/2025', 'endOfEpisode': '05/18/2025', 'firstDiagnosis': 'M67.813', 'secondDiagnosis': 'M67.814', 'thirdDiagnosis': 'M15.9', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:39:38] âœ…    âœ… Patient identified: Alfredo Santos
[15:39:38] âœ…    âœ… Patient name validation passed
[15:39:38] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:39:38] [DOC: 9269907] â„¹ï¸  DOB normalized: 10/24/1938
[15:39:38] [DOC: 9269907] â„¹ï¸  Episode startOfEpisode normalized: 03/20/2025
[15:39:38] [DOC: 9269907] â„¹ï¸  Episode endOfEpisode normalized: 05/18/2025
[15:39:38] [DOC: 9269907] âœ… Patient date processing completed successfully
[15:39:38] âœ…    âœ… Date processing completed
[15:39:38] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Alfredo
     â””â”€ patientLName: Santos
     â””â”€ dob: 10/24/1938
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA230420103801
     â””â”€ billingProvider: Nightingale Visiting Nurses
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '03/20/2025', 'endOfEpisode': '05/18/2025', 'firstDiagnosis': 'M67.813', 'secondDiagnosis': 'M67.814', 'thirdDiagnosis': 'M15.9'}]
[15:39:38] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:39:40] â„¹ï¸  Order extraction - MRN: 'MA230420103801'
[15:39:40] â„¹ï¸  Order extraction - Sex: ''
[15:39:40] â„¹ï¸  Order extraction - Service Line: 'Occupational Therapy'
[15:39:40] â„¹ï¸  Order extraction - Payer Source: ''
[15:39:40] âœ… Order data extraction completed successfully
[15:39:40] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:39:40] â„¹ï¸  Using MRN from patient data: 'MA230420103801' over 'MA230420103801'
[15:39:40] âš ï¸  Could not determine sex using any available method
[15:39:40] â„¹ï¸  Service line consistent in both sources: 'Occupational Therapy'
[15:39:40] âœ… Patient name cross-validation successful
[15:39:40] âœ…    âœ… Data merged successfully
[15:39:42] âœ…    âœ… Order data extracted and validated
[15:39:42] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:39:42] [DOC: 9269907] âœ… Patient found in local cache: Alfredo Santos, ID: 0b9d43ac-4af1-4322-825e-62408f7fe9f0
[15:39:42] âœ…    âœ… Existing patient found with ID: 0b9d43ac-4af1-4322-825e-62408f7fe9f0
[15:39:42] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:39:42] [DOC: 9269907] â„¹ï¸  Pushing order via API for patient ID: 0b9d43ac-4af1-4322-825e-62408f7fe9f0
[15:39:43] [DOC: 9269907] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14362"}
[15:39:43] âŒ    âŒ Failed to push order
[15:39:43] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:39:43] [DOC: 9269907] â„¹ï¸  Calculated age: 86 from DOB: 10/24/1938
[15:39:43] [DOC: 9269907] â„¹ï¸  Service Line extracted: 'Occupational Therapy'
[15:39:43] [DOC: 9269907] â„¹ï¸  Payer Source extracted: ''
[15:39:43] [DOC: 9269907] â„¹ï¸  Diagnosis codes being written:
[15:39:43] [DOC: 9269907] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'M67.813'
[15:39:43] [DOC: 9269907] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'M67.814'
[15:39:43] [DOC: 9269907] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'M15.9'
[15:39:43] [DOC: 9269907] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:39:43] [DOC: 9269907] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:39:43] [DOC: 9269907] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:39:43] [DOC: 9269907] âœ… Patient data written to CSV: Alfredo Santos | Sex:  | Age: 86 | Service: Occupational Therapy | Payer:  | MRN: MA230420103801
[15:39:43] âœ…    âœ… Document 9269907 processed and saved successfully
[15:39:43] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:39:43] [DOC: 9269907] â„¹ï¸  API push details saved for document 9269907
[15:39:43] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9269903                         â•‘
================================================================================
[15:39:43] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:39:43] â„¹ï¸  Date: 04/30/2025
[15:39:43] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:39:45] [DOC: 9269903] âœ… Text extracted using pdfplumber (1222 chars)
[15:39:45] âœ…    âœ… Text extracted using pdfplumber (1222 chars)
[15:39:45] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:39:48] â„¹ï¸  AI extracted raw sex value: ''
[15:39:48] â„¹ï¸  AI extracted service line: 'Occupational Therapy'
[15:39:48] â„¹ï¸  AI extracted payer source: ''
[15:39:48] â„¹ï¸  AI extracted diagnoses:
[15:39:48] â„¹ï¸    - Diagnosis 1: 'M67.813'
[15:39:48] â„¹ï¸    - Diagnosis 2: 'M67.814'
[15:39:48] â„¹ï¸    - Diagnosis 3: 'M15.9'
[15:39:48] â„¹ï¸    - Diagnosis 4: ''
[15:39:48] â„¹ï¸    - Diagnosis 5: ''
[15:39:48] â„¹ï¸    - Diagnosis 6: ''
[15:39:48] â„¹ï¸  Final extracted MRN: 'MA230420103801'
[15:39:48] â„¹ï¸  Final extracted Sex: ''
[15:39:48] â„¹ï¸  Final extracted Service Line: 'Occupational Therapy'
[15:39:48] â„¹ï¸  Final extracted Payer Source: ''
[15:39:48] âœ… Patient data extraction completed successfully
[15:39:48] âœ…    âœ… Patient data extracted successfully
[15:39:48] ğŸ“Š Patient Response
     â””â”€ patientFName: Alfredo
     â””â”€ patientLName: Santos
     â””â”€ dob: 10/24/1938
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA230420103801
     â””â”€ billingProvider: Daniel Martin MD
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '03/20/2025', 'endOfEpisode': '05/18/2025', 'firstDiagnosis': 'M67.813', 'secondDiagnosis': 'M67.814', 'thirdDiagnosis': 'M15.9', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:39:48] âœ…    âœ… Patient identified: Alfredo Santos
[15:39:48] âœ…    âœ… Patient name validation passed
[15:39:48] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:39:48] [DOC: 9269903] â„¹ï¸  DOB normalized: 10/24/1938
[15:39:48] [DOC: 9269903] â„¹ï¸  Episode startOfEpisode normalized: 03/20/2025
[15:39:48] [DOC: 9269903] â„¹ï¸  Episode endOfEpisode normalized: 05/18/2025
[15:39:48] [DOC: 9269903] âœ… Patient date processing completed successfully
[15:39:48] âœ…    âœ… Date processing completed
[15:39:48] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Alfredo
     â””â”€ patientLName: Santos
     â””â”€ dob: 10/24/1938
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA230420103801
     â””â”€ billingProvider: Daniel Martin MD
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '03/20/2025', 'endOfEpisode': '05/18/2025', 'firstDiagnosis': 'M67.813', 'secondDiagnosis': 'M67.814', 'thirdDiagnosis': 'M15.9', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:39:48] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:39:50] â„¹ï¸  Order extraction - MRN: 'MA230420103801'
[15:39:50] â„¹ï¸  Order extraction - Sex: ''
[15:39:50] â„¹ï¸  Order extraction - Service Line: 'Occupational Therapy'
[15:39:50] â„¹ï¸  Order extraction - Payer Source: ''
[15:39:50] âœ… Order data extraction completed successfully
[15:39:50] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:39:50] â„¹ï¸  Using MRN from patient data: 'MA230420103801' over 'MA230420103801'
[15:39:50] âš ï¸  Could not determine sex using any available method
[15:39:50] â„¹ï¸  Service line consistent in both sources: 'Occupational Therapy'
[15:39:50] âœ… Patient name cross-validation successful
[15:39:50] âœ…    âœ… Data merged successfully
[15:39:52] âœ…    âœ… Order data extracted and validated
[15:39:52] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:39:52] [DOC: 9269903] âœ… Patient found in local cache: Alfredo Santos, ID: 0b9d43ac-4af1-4322-825e-62408f7fe9f0
[15:39:52] âœ…    âœ… Existing patient found with ID: 0b9d43ac-4af1-4322-825e-62408f7fe9f0
[15:39:52] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:39:52] [DOC: 9269903] â„¹ï¸  Pushing order via API for patient ID: 0b9d43ac-4af1-4322-825e-62408f7fe9f0
[15:39:53] [DOC: 9269903] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14364"}
[15:39:53] âŒ    âŒ Failed to push order
[15:39:53] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:39:53] [DOC: 9269903] â„¹ï¸  Calculated age: 86 from DOB: 10/24/1938
[15:39:53] [DOC: 9269903] â„¹ï¸  Service Line extracted: 'Occupational Therapy'
[15:39:53] [DOC: 9269903] â„¹ï¸  Payer Source extracted: ''
[15:39:53] [DOC: 9269903] â„¹ï¸  Diagnosis codes being written:
[15:39:53] [DOC: 9269903] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'M67.813'
[15:39:53] [DOC: 9269903] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'M67.814'
[15:39:53] [DOC: 9269903] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'M15.9'
[15:39:53] [DOC: 9269903] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:39:53] [DOC: 9269903] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:39:53] [DOC: 9269903] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:39:53] [DOC: 9269903] âœ… Patient data written to CSV: Alfredo Santos | Sex:  | Age: 86 | Service: Occupational Therapy | Payer:  | MRN: MA230420103801
[15:39:53] âœ…    âœ… Document 9269903 processed and saved successfully
[15:39:53] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:39:53] [DOC: 9269903] â„¹ï¸  API push details saved for document 9269903
[15:39:53] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9269900                         â•‘
================================================================================
[15:39:53] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:39:53] â„¹ï¸  Date: 04/30/2025
[15:39:53] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:39:55] [DOC: 9269900] âœ… Text extracted using pdfplumber (1217 chars)
[15:39:55] âœ…    âœ… Text extracted using pdfplumber (1217 chars)
[15:39:55] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:39:58] â„¹ï¸  AI extracted raw sex value: ''
[15:39:58] â„¹ï¸  AI extracted service line: 'Occupational Therapy'
[15:39:58] â„¹ï¸  AI extracted payer source: ''
[15:39:58] â„¹ï¸  AI extracted diagnoses:
[15:39:58] â„¹ï¸    - Diagnosis 1: 'M67.813'
[15:39:58] â„¹ï¸    - Diagnosis 2: 'M67.814'
[15:39:58] â„¹ï¸    - Diagnosis 3: 'M15.9'
[15:39:58] â„¹ï¸    - Diagnosis 4: 'None'
[15:39:58] â„¹ï¸    - Diagnosis 5: 'None'
[15:39:58] â„¹ï¸    - Diagnosis 6: 'None'
[15:39:58] â„¹ï¸  Final extracted MRN: 'MA230420103801'
[15:39:58] â„¹ï¸  Final extracted Sex: ''
[15:39:58] â„¹ï¸  Final extracted Service Line: 'Occupational Therapy'
[15:39:58] â„¹ï¸  Final extracted Payer Source: ''
[15:39:58] âœ… Patient data extraction completed successfully
[15:39:58] âœ…    âœ… Patient data extracted successfully
[15:39:58] ğŸ“Š Patient Response
     â””â”€ patientFName: Alfredo
     â””â”€ patientLName: Santos
     â””â”€ dob: 10/24/1938
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA230420103801
     â””â”€ billingProvider: Daniel Martin MD
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '03/20/2025', 'endOfEpisode': '05/18/2025', 'firstDiagnosis': 'M67.813', 'secondDiagnosis': 'M67.814', 'thirdDiagnosis': 'M15.9', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:39:58] âœ…    âœ… Patient identified: Alfredo Santos
[15:39:58] âœ…    âœ… Patient name validation passed
[15:39:58] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:39:58] [DOC: 9269900] â„¹ï¸  DOB normalized: 10/24/1938
[15:39:58] [DOC: 9269900] â„¹ï¸  Episode startOfEpisode normalized: 03/20/2025
[15:39:58] [DOC: 9269900] â„¹ï¸  Episode endOfEpisode normalized: 05/18/2025
[15:39:58] [DOC: 9269900] âœ… Patient date processing completed successfully
[15:39:58] âœ…    âœ… Date processing completed
[15:39:58] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Alfredo
     â””â”€ patientLName: Santos
     â””â”€ dob: 10/24/1938
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA230420103801
     â””â”€ billingProvider: Daniel Martin MD
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '03/20/2025', 'endOfEpisode': '05/18/2025', 'firstDiagnosis': 'M67.813', 'secondDiagnosis': 'M67.814', 'thirdDiagnosis': 'M15.9'}]
[15:39:58] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:40:00] â„¹ï¸  Order extraction - MRN: 'MA230420103801'
[15:40:00] â„¹ï¸  Order extraction - Sex: ''
[15:40:00] â„¹ï¸  Order extraction - Service Line: 'Occupational Therapy'
[15:40:00] â„¹ï¸  Order extraction - Payer Source: ''
[15:40:00] âœ… Order data extraction completed successfully
[15:40:00] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:40:00] â„¹ï¸  Using MRN from patient data: 'MA230420103801' over 'MA230420103801'
[15:40:00] âš ï¸  Could not determine sex using any available method
[15:40:00] â„¹ï¸  Service line consistent in both sources: 'Occupational Therapy'
[15:40:00] âœ… Patient name cross-validation successful
[15:40:00] âœ…    âœ… Data merged successfully
[15:40:02] âœ…    âœ… Order data extracted and validated
[15:40:02] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:40:02] [DOC: 9269900] âœ… Patient found in local cache: Alfredo Santos, ID: 0b9d43ac-4af1-4322-825e-62408f7fe9f0
[15:40:02] âœ…    âœ… Existing patient found with ID: 0b9d43ac-4af1-4322-825e-62408f7fe9f0
[15:40:02] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:40:02] [DOC: 9269900] â„¹ï¸  Pushing order via API for patient ID: 0b9d43ac-4af1-4322-825e-62408f7fe9f0
[15:40:03] [DOC: 9269900] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14365"}
[15:40:03] âŒ    âŒ Failed to push order
[15:40:03] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:40:03] [DOC: 9269900] â„¹ï¸  Calculated age: 86 from DOB: 10/24/1938
[15:40:03] [DOC: 9269900] â„¹ï¸  Service Line extracted: 'Occupational Therapy'
[15:40:03] [DOC: 9269900] â„¹ï¸  Payer Source extracted: ''
[15:40:03] [DOC: 9269900] â„¹ï¸  Diagnosis codes being written:
[15:40:03] [DOC: 9269900] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'M67.813'
[15:40:03] [DOC: 9269900] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'M67.814'
[15:40:03] [DOC: 9269900] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'M15.9'
[15:40:03] [DOC: 9269900] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:40:03] [DOC: 9269900] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:40:03] [DOC: 9269900] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:40:03] [DOC: 9269900] âœ… Patient data written to CSV: Alfredo Santos | Sex:  | Age: 86 | Service: Occupational Therapy | Payer:  | MRN: MA230420103801
[15:40:03] âœ…    âœ… Document 9269900 processed and saved successfully
[15:40:03] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:40:03] [DOC: 9269900] â„¹ï¸  API push details saved for document 9269900
[15:40:03] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9269897                         â•‘
================================================================================
[15:40:03] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:40:03] â„¹ï¸  Date: 04/30/2025
[15:40:03] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:40:06] [DOC: 9269897] âœ… Text extracted using pdfplumber (11219 chars)
[15:40:06] âœ…    âœ… Text extracted using pdfplumber (11219 chars)
[15:40:06] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:40:09] â„¹ï¸  AI extracted raw sex value: 'M'
[15:40:09] â„¹ï¸  AI extracted service line: 'OT'
[15:40:09] â„¹ï¸  AI extracted payer source: ''
[15:40:09] â„¹ï¸  AI extracted diagnoses:
[15:40:09] â„¹ï¸    - Diagnosis 1: 'Bilateral shoulder tendonitis'
[15:40:09] â„¹ï¸    - Diagnosis 2: ''
[15:40:09] â„¹ï¸    - Diagnosis 3: ''
[15:40:09] â„¹ï¸    - Diagnosis 4: ''
[15:40:09] â„¹ï¸    - Diagnosis 5: ''
[15:40:09] â„¹ï¸    - Diagnosis 6: ''
[15:40:09] â„¹ï¸  Final extracted MRN: 'MA230420103801'
[15:40:09] â„¹ï¸  Final extracted Sex: 'MALE'
[15:40:09] â„¹ï¸  Final extracted Service Line: 'OT'
[15:40:09] â„¹ï¸  Final extracted Payer Source: ''
[15:40:09] âœ… Patient data extraction completed successfully
[15:40:09] âœ…    âœ… Patient data extracted successfully
[15:40:09] ğŸ“Š Patient Response
     â””â”€ patientFName: Alfredo
     â””â”€ patientLName: Santos
     â””â”€ dob: 10/24/1938
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: MA230420103801
     â””â”€ billingProvider: Dr. Martin, Daniel J.
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': 'Bilateral shoulder tendonitis', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:40:09] âœ…    âœ… Patient identified: Alfredo Santos
[15:40:09] âœ…    âœ… Patient name validation passed
[15:40:09] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:40:09] [DOC: 9269897] â„¹ï¸  DOB normalized: 10/24/1938
[15:40:09] [DOC: 9269897] âœ… Patient date processing completed successfully
[15:40:09] âœ…    âœ… Date processing completed
[15:40:09] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Alfredo
     â””â”€ patientLName: Santos
     â””â”€ dob: 10/24/1938
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: MA230420103801
     â””â”€ billingProvider: Dr. Martin, Daniel J.
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: OT
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': 'Bilateral shoulder tendonitis', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:40:09] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:40:11] â„¹ï¸  Order extraction - MRN: 'MA230420103801'
[15:40:11] â„¹ï¸  Order extraction - Sex: 'MALE'
[15:40:11] â„¹ï¸  Order extraction - Service Line: 'OT'
[15:40:11] â„¹ï¸  Order extraction - Payer Source: ''
[15:40:11] âœ… Order data extraction completed successfully
[15:40:11] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:40:11] â„¹ï¸  Using MRN from patient data: 'MA230420103801' over 'MA230420103801'
[15:40:11] â„¹ï¸  Service line consistent in both sources: 'OT'
[15:40:11] âœ… Patient name cross-validation successful
[15:40:11] âœ…    âœ… Data merged successfully
[15:40:12] âš ï¸     âŒ Skipping - missing episode start date
[15:40:12] [DOC: 9269897] â„¹ï¸  API push details saved for document 9269897
================================================================================
â•‘                        Processing Document ID: 9269892                         â•‘
================================================================================
[15:40:12] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:40:12] â„¹ï¸  Date: 04/30/2025
[15:40:12] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:40:17] [DOC: 9269892] âœ… Text extracted using pdfplumber (17992 chars)
[15:40:17] âœ…    âœ… Text extracted using pdfplumber (17980 chars)
[15:40:17] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:40:20] â„¹ï¸  AI extracted raw sex value: 'M'
[15:40:20] â„¹ï¸  AI extracted service line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:40:20] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:40:20] â„¹ï¸  AI extracted diagnoses:
[15:40:20] â„¹ï¸    - Diagnosis 1: 'A04.72'
[15:40:20] â„¹ï¸    - Diagnosis 2: 'E11.9'
[15:40:20] â„¹ï¸    - Diagnosis 3: 'E87.1'
[15:40:20] â„¹ï¸    - Diagnosis 4: 'J44.89'
[15:40:20] â„¹ï¸    - Diagnosis 5: 'I11.0'
[15:40:20] â„¹ï¸    - Diagnosis 6: 'I50.32'
[15:40:20] â„¹ï¸  Final extracted MRN: 'MA250414053302'
[15:40:20] â„¹ï¸  Final extracted Sex: 'MALE'
[15:40:20] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:40:20] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:40:20] âœ… Patient data extraction completed successfully
[15:40:20] âœ…    âœ… Patient data extracted successfully
[15:40:20] ğŸ“Š Patient Response
     â””â”€ patientFName: Serafim
     â””â”€ patientLName: Mimoso
     â””â”€ dob: 05/08/1933
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: MA250414053302
     â””â”€ billingProvider: Martin, Daniel MD
     â””â”€ npi: 1881923936
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 281 Davis St
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02746
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 993-8866
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/18/2025', 'startOfEpisode': '04/18/2025', 'endOfEpisode': '06/16/2025', 'firstDiagnosis': 'A04.72', 'secondDiagnosis': 'E11.9', 'thirdDiagnosis': 'E87.1', 'fourthDiagnosis': 'J44.89', 'fifthDiagnosis': 'I11.0', 'sixthDiagnosis': 'I50.32'}]
[15:40:20] âœ…    âœ… Patient identified: Serafim Mimoso
[15:40:20] âœ…    âœ… Patient name validation passed
[15:40:20] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:40:20] [DOC: 9269892] â„¹ï¸  DOB normalized: 05/08/1933
[15:40:20] [DOC: 9269892] â„¹ï¸  Episode startOfCare normalized: 04/18/2025
[15:40:20] [DOC: 9269892] â„¹ï¸  Episode startOfEpisode normalized: 04/18/2025
[15:40:20] [DOC: 9269892] â„¹ï¸  Episode endOfEpisode normalized: 06/16/2025
[15:40:20] [DOC: 9269892] âœ… Patient date processing completed successfully
[15:40:20] âœ…    âœ… Date processing completed
[15:40:20] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Serafim
     â””â”€ patientLName: Mimoso
     â””â”€ dob: 05/08/1933
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: MA250414053302
     â””â”€ billingProvider: Martin, Daniel MD
     â””â”€ npi: 1881923936
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 281 Davis St
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02746
     â””â”€ phoneNumber: (508) 993-8866
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/18/2025', 'startOfEpisode': '04/18/2025', 'endOfEpisode': '06/16/2025', 'firstDiagnosis': 'A04.72', 'secondDiagnosis': 'E11.9', 'thirdDiagnosis': 'E87.1', 'fourthDiagnosis': 'J44.89', 'fifthDiagnosis': 'I11.0', 'sixthDiagnosis': 'I50.32'}]
[15:40:20] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:40:23] â„¹ï¸  Order extraction - MRN: 'MA250414053302'
[15:40:23] â„¹ï¸  Order extraction - Sex: 'MALE'
[15:40:23] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:40:23] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:40:23] âœ… Order data extraction completed successfully
[15:40:23] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:40:23] â„¹ï¸  Using MRN from patient data: 'MA250414053302' over 'MA250414053302'
[15:40:23] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:40:23] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:40:23] âœ… Patient name cross-validation successful
[15:40:23] âœ…    âœ… Data merged successfully
[15:40:24] âœ…    âœ… Order data extracted and validated
[15:40:24] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:40:24] [DOC: 9269892] âœ… Patient found in local cache: Serafim Mimoso, ID: 0849f00a-166d-4c7d-969a-5567b25056c1
[15:40:24] âœ…    âœ… Existing patient found with ID: 0849f00a-166d-4c7d-969a-5567b25056c1
[15:40:24] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:40:24] [DOC: 9269892] â„¹ï¸  Pushing order via API for patient ID: 0849f00a-166d-4c7d-969a-5567b25056c1
[15:40:25] [DOC: 9269892] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14107"}
[15:40:25] âŒ    âŒ Failed to push order
[15:40:25] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:40:25] [DOC: 9269892] â„¹ï¸  Calculated age: 92 from DOB: 05/08/1933
[15:40:25] [DOC: 9269892] â„¹ï¸  Service Line extracted: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:40:25] [DOC: 9269892] â„¹ï¸  Payer Source extracted: 'Medicare'
[15:40:25] [DOC: 9269892] â„¹ï¸  Diagnosis codes being written:
[15:40:25] [DOC: 9269892] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'A04.72'
[15:40:25] [DOC: 9269892] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'E11.9'
[15:40:25] [DOC: 9269892] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'E87.1'
[15:40:25] [DOC: 9269892] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'J44.89'
[15:40:25] [DOC: 9269892] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'I11.0'
[15:40:25] [DOC: 9269892] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'I50.32'
[15:40:25] [DOC: 9269892] âœ… Patient data written to CSV: Serafim Mimoso | Sex: MALE | Age: 92 | Service: Skilled Nursing, Physical Therapy, Occupational Therapy | Payer: Medicare | MRN: MA250414053302
[15:40:25] âœ…    âœ… Document 9269892 processed and saved successfully
[15:40:25] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:40:25] [DOC: 9269892] â„¹ï¸  API push details saved for document 9269892
[15:40:25] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9269891                         â•‘
================================================================================
[15:40:25] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:40:25] â„¹ï¸  Date: 04/30/2025
[15:40:25] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:40:28] [DOC: 9269891] âœ… Text extracted using pdfplumber (1286 chars)
[15:40:28] âœ…    âœ… Text extracted using pdfplumber (1274 chars)
[15:40:28] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:40:30] â„¹ï¸  AI extracted raw sex value: ''
[15:40:30] â„¹ï¸  AI extracted service line: 'Occupational Therapy'
[15:40:30] â„¹ï¸  AI extracted payer source: ''
[15:40:30] â„¹ï¸  AI extracted diagnoses:
[15:40:30] â„¹ï¸    - Diagnosis 1: 'A04.72'
[15:40:30] â„¹ï¸    - Diagnosis 2: 'E11.9'
[15:40:30] â„¹ï¸    - Diagnosis 3: 'E87.1'
[15:40:30] â„¹ï¸    - Diagnosis 4: 'None'
[15:40:30] â„¹ï¸    - Diagnosis 5: 'None'
[15:40:30] â„¹ï¸    - Diagnosis 6: 'None'
[15:40:30] â„¹ï¸  Final extracted MRN: 'MA250414053302'
[15:40:30] â„¹ï¸  Final extracted Sex: ''
[15:40:30] â„¹ï¸  Final extracted Service Line: 'Occupational Therapy'
[15:40:30] â„¹ï¸  Final extracted Payer Source: ''
[15:40:30] âœ… Patient data extraction completed successfully
[15:40:30] âœ…    âœ… Patient data extracted successfully
[15:40:30] ğŸ“Š Patient Response
     â””â”€ patientFName: Serafim
     â””â”€ patientLName: Mimoso
     â””â”€ dob: 05/08/1933
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250414053302
     â””â”€ billingProvider: Daniel Martin MD
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '04/18/2025', 'endOfEpisode': '06/16/2025', 'firstDiagnosis': 'A04.72', 'secondDiagnosis': 'E11.9', 'thirdDiagnosis': 'E87.1', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:40:30] âœ…    âœ… Patient identified: Serafim Mimoso
[15:40:30] âœ…    âœ… Patient name validation passed
[15:40:30] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:40:30] [DOC: 9269891] â„¹ï¸  DOB normalized: 05/08/1933
[15:40:30] [DOC: 9269891] â„¹ï¸  Episode startOfEpisode normalized: 04/18/2025
[15:40:30] [DOC: 9269891] â„¹ï¸  Episode endOfEpisode normalized: 06/16/2025
[15:40:30] [DOC: 9269891] âœ… Patient date processing completed successfully
[15:40:30] âœ…    âœ… Date processing completed
[15:40:30] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Serafim
     â””â”€ patientLName: Mimoso
     â””â”€ dob: 05/08/1933
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA250414053302
     â””â”€ billingProvider: Daniel Martin MD
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Occupational Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/18/2025', 'endOfEpisode': '06/16/2025', 'firstDiagnosis': 'A04.72', 'secondDiagnosis': 'E11.9', 'thirdDiagnosis': 'E87.1'}]
[15:40:30] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:40:33] â„¹ï¸  Order extraction - MRN: 'MA250414053302'
[15:40:33] â„¹ï¸  Order extraction - Sex: ''
[15:40:33] â„¹ï¸  Order extraction - Service Line: 'Occupational Therapy'
[15:40:33] â„¹ï¸  Order extraction - Payer Source: ''
[15:40:33] âœ… Order data extraction completed successfully
[15:40:33] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:40:33] â„¹ï¸  Using MRN from patient data: 'MA250414053302' over 'MA250414053302'
[15:40:33] âš ï¸  Could not determine sex using any available method
[15:40:33] â„¹ï¸  Service line consistent in both sources: 'Occupational Therapy'
[15:40:33] âœ… Patient name cross-validation successful
[15:40:33] âœ…    âœ… Data merged successfully
[15:40:34] âœ…    âœ… Order data extracted and validated
[15:40:34] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:40:34] [DOC: 9269891] âœ… Patient found in local cache: Serafim Mimoso, ID: 0849f00a-166d-4c7d-969a-5567b25056c1
[15:40:34] âœ…    âœ… Existing patient found with ID: 0849f00a-166d-4c7d-969a-5567b25056c1
[15:40:34] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:40:34] [DOC: 9269891] â„¹ï¸  Pushing order via API for patient ID: 0849f00a-166d-4c7d-969a-5567b25056c1
[15:40:35] [DOC: 9269891] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14108"}
[15:40:35] âŒ    âŒ Failed to push order
[15:40:35] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:40:35] [DOC: 9269891] â„¹ï¸  Calculated age: 92 from DOB: 05/08/1933
[15:40:35] [DOC: 9269891] â„¹ï¸  Service Line extracted: 'Occupational Therapy'
[15:40:35] [DOC: 9269891] â„¹ï¸  Payer Source extracted: ''
[15:40:35] [DOC: 9269891] â„¹ï¸  Diagnosis codes being written:
[15:40:35] [DOC: 9269891] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'A04.72'
[15:40:35] [DOC: 9269891] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'E11.9'
[15:40:35] [DOC: 9269891] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'E87.1'
[15:40:35] [DOC: 9269891] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:40:35] [DOC: 9269891] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:40:35] [DOC: 9269891] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:40:35] [DOC: 9269891] âœ… Patient data written to CSV: Serafim Mimoso | Sex:  | Age: 92 | Service: Occupational Therapy | Payer:  | MRN: MA250414053302
[15:40:35] âœ…    âœ… Document 9269891 processed and saved successfully
[15:40:35] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:40:35] [DOC: 9269891] â„¹ï¸  API push details saved for document 9269891
[15:40:35] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9269887                         â•‘
================================================================================
[15:40:35] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:40:35] â„¹ï¸  Date: 04/30/2025
[15:40:35] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:40:37] [DOC: 9269887] âœ… Text extracted using pdfplumber (1123 chars)
[15:40:37] âœ…    âœ… Text extracted using pdfplumber (1111 chars)
[15:40:37] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:40:40] â„¹ï¸  AI extracted raw sex value: ''
[15:40:40] â„¹ï¸  AI extracted service line: 'Soc'
[15:40:40] â„¹ï¸  AI extracted payer source: ''
[15:40:40] â„¹ï¸  AI extracted diagnoses:
[15:40:40] â„¹ï¸    - Diagnosis 1: 'I11.0'
[15:40:40] â„¹ï¸    - Diagnosis 2: 'I50.9'
[15:40:40] â„¹ï¸    - Diagnosis 3: 'E11.9'
[15:40:40] â„¹ï¸    - Diagnosis 4: ''
[15:40:40] â„¹ï¸    - Diagnosis 5: ''
[15:40:40] â„¹ï¸    - Diagnosis 6: ''
[15:40:40] â„¹ï¸  Final extracted MRN: 'MA200210084304'
[15:40:40] â„¹ï¸  Final extracted Sex: ''
[15:40:40] â„¹ï¸  Final extracted Service Line: 'Soc'
[15:40:40] â„¹ï¸  Final extracted Payer Source: ''
[15:40:40] âœ… Patient data extraction completed successfully
[15:40:40] âœ…    âœ… Patient data extracted successfully
[15:40:40] ğŸ“Š Patient Response
     â””â”€ patientFName: Mary
     â””â”€ patientLName: Lima
     â””â”€ dob: 08/18/1943
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA200210084304
     â””â”€ billingProvider: Daniel Martin MD
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Soc
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '02/04/2025', 'endOfEpisode': '04/04/2025', 'firstDiagnosis': 'I11.0', 'secondDiagnosis': 'I50.9', 'thirdDiagnosis': 'E11.9', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:40:40] âœ…    âœ… Patient identified: Mary Lima
[15:40:40] âœ…    âœ… Patient name validation passed
[15:40:40] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:40:40] [DOC: 9269887] â„¹ï¸  DOB normalized: 08/18/1943
[15:40:40] [DOC: 9269887] â„¹ï¸  Episode startOfEpisode normalized: 02/04/2025
[15:40:40] [DOC: 9269887] â„¹ï¸  Episode endOfEpisode normalized: 04/04/2025
[15:40:40] [DOC: 9269887] âœ… Patient date processing completed successfully
[15:40:40] âœ…    âœ… Date processing completed
[15:40:40] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Mary
     â””â”€ patientLName: Lima
     â””â”€ dob: 08/18/1943
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA200210084304
     â””â”€ billingProvider: Daniel Martin MD
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Soc
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '02/04/2025', 'endOfEpisode': '04/04/2025', 'firstDiagnosis': 'I11.0', 'secondDiagnosis': 'I50.9', 'thirdDiagnosis': 'E11.9', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:40:40] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:40:43] â„¹ï¸  Order extraction - MRN: 'MA200210084304'
[15:40:43] â„¹ï¸  Order extraction - Sex: ''
[15:40:43] â„¹ï¸  Order extraction - Service Line: 'Soc'
[15:40:43] â„¹ï¸  Order extraction - Payer Source: ''
[15:40:43] âœ… Order data extraction completed successfully
[15:40:43] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:40:43] â„¹ï¸  Using MRN from patient data: 'MA200210084304' over 'MA200210084304'
[15:40:43] â„¹ï¸  Inferred sex as FEMALE from name: Mary
[15:40:43] â„¹ï¸  Service line consistent in both sources: 'Soc'
[15:40:43] âœ… Patient name cross-validation successful
[15:40:43] âœ…    âœ… Data merged successfully
[15:40:44] âœ…    âœ… Order data extracted and validated
[15:40:44] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:40:44] [DOC: 9269887] âœ… Patient found in local cache: Mary Lima, ID: 631650d0-aee6-433c-b505-88bc6c518a1f
[15:40:44] âœ…    âœ… Existing patient found with ID: 631650d0-aee6-433c-b505-88bc6c518a1f
[15:40:44] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:40:44] [DOC: 9269887] â„¹ï¸  Pushing order via API for patient ID: 631650d0-aee6-433c-b505-88bc6c518a1f
[15:40:45] [DOC: 9269887] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13942"}
[15:40:45] âŒ    âŒ Failed to push order
[15:40:45] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:40:45] [DOC: 9269887] â„¹ï¸  Calculated age: 81 from DOB: 08/18/1943
[15:40:45] [DOC: 9269887] â„¹ï¸  Service Line extracted: 'Soc'
[15:40:45] [DOC: 9269887] â„¹ï¸  Payer Source extracted: ''
[15:40:45] [DOC: 9269887] â„¹ï¸  Diagnosis codes being written:
[15:40:45] [DOC: 9269887] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'I11.0'
[15:40:45] [DOC: 9269887] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'I50.9'
[15:40:45] [DOC: 9269887] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'E11.9'
[15:40:45] [DOC: 9269887] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:40:45] [DOC: 9269887] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:40:45] [DOC: 9269887] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:40:45] [DOC: 9269887] âœ… Patient data written to CSV: Mary Lima | Sex: FEMALE | Age: 81 | Service: Soc | Payer:  | MRN: MA200210084304
[15:40:45] âœ…    âœ… Document 9269887 processed and saved successfully
[15:40:45] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:40:45] [DOC: 9269887] â„¹ï¸  API push details saved for document 9269887
[15:40:45] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9269885                         â•‘
================================================================================
[15:40:45] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:40:45] â„¹ï¸  Date: 04/30/2025
[15:40:45] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:40:47] [DOC: 9269885] âœ… Text extracted using pdfplumber (1240 chars)
[15:40:47] âœ…    âœ… Text extracted using pdfplumber (1240 chars)
[15:40:47] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:40:50] â„¹ï¸  AI extracted raw sex value: ''
[15:40:50] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[15:40:50] â„¹ï¸  AI extracted payer source: ''
[15:40:50] â„¹ï¸  AI extracted diagnoses:
[15:40:50] â„¹ï¸    - Diagnosis 1: 'I11.0'
[15:40:50] â„¹ï¸    - Diagnosis 2: 'I50.42'
[15:40:50] â„¹ï¸    - Diagnosis 3: 'I48.91'
[15:40:50] â„¹ï¸    - Diagnosis 4: 'None'
[15:40:50] â„¹ï¸    - Diagnosis 5: 'None'
[15:40:50] â„¹ï¸    - Diagnosis 6: 'None'
[15:40:50] â„¹ï¸  Final extracted MRN: '100999604'
[15:40:50] â„¹ï¸  Final extracted Sex: ''
[15:40:50] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[15:40:50] â„¹ï¸  Final extracted Payer Source: ''
[15:40:50] âœ… Patient data extraction completed successfully
[15:40:50] âœ…    âœ… Patient data extracted successfully
[15:40:50] ğŸ“Š Patient Response
     â””â”€ patientFName: Gisele
     â””â”€ patientLName: Calheta
     â””â”€ dob: 04/05/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: 100999604
     â””â”€ billingProvider: Daniel Martin MD
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '01/12/2025', 'endOfEpisode': '03/12/2025', 'firstDiagnosis': 'I11.0', 'secondDiagnosis': 'I50.42', 'thirdDiagnosis': 'I48.91', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:40:50] âœ…    âœ… Patient identified: Gisele Calheta
[15:40:50] âœ…    âœ… Patient name validation passed
[15:40:50] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:40:50] [DOC: 9269885] â„¹ï¸  DOB normalized: 04/05/1941
[15:40:50] [DOC: 9269885] â„¹ï¸  Episode startOfEpisode normalized: 01/12/2025
[15:40:50] [DOC: 9269885] â„¹ï¸  Episode endOfEpisode normalized: 03/12/2025
[15:40:50] [DOC: 9269885] âœ… Patient date processing completed successfully
[15:40:50] âœ…    âœ… Date processing completed
[15:40:50] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Gisele
     â””â”€ patientLName: Calheta
     â””â”€ dob: 04/05/1941
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: 100999604
     â””â”€ billingProvider: Daniel Martin MD
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '01/12/2025', 'endOfEpisode': '03/12/2025', 'firstDiagnosis': 'I11.0', 'secondDiagnosis': 'I50.42', 'thirdDiagnosis': 'I48.91'}]
[15:40:50] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:40:52] â„¹ï¸  Order extraction - MRN: '100999604'
[15:40:52] â„¹ï¸  Order extraction - Sex: ''
[15:40:52] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[15:40:52] â„¹ï¸  Order extraction - Payer Source: ''
[15:40:52] âœ… Order data extraction completed successfully
[15:40:52] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:40:52] â„¹ï¸  Using MRN from patient data: '100999604' over '100999604'
[15:40:52] âš ï¸  Could not determine sex using any available method
[15:40:52] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing'
[15:40:52] âœ… Patient name cross-validation successful
[15:40:52] âœ…    âœ… Data merged successfully
[15:40:54] âœ…    âœ… Order data extracted and validated
[15:40:54] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:41:03] [DOC: 9269885] âœ… Patient exists in API: Gisele Calheta, ID: ba774534-43ac-4c94-938a-aba81151ec6e
[15:41:03] âœ…    âœ… Existing patient found with ID: ba774534-43ac-4c94-938a-aba81151ec6e
[15:41:03] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:41:03] [DOC: 9269885] â„¹ï¸  Pushing order via API for patient ID: ba774534-43ac-4c94-938a-aba81151ec6e
[15:41:05] [DOC: 9269885] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13428"}
[15:41:05] âŒ    âŒ Failed to push order
[15:41:05] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:41:05] [DOC: 9269885] â„¹ï¸  Calculated age: 84 from DOB: 04/05/1941
[15:41:05] [DOC: 9269885] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[15:41:05] [DOC: 9269885] â„¹ï¸  Payer Source extracted: ''
[15:41:05] [DOC: 9269885] â„¹ï¸  Diagnosis codes being written:
[15:41:05] [DOC: 9269885] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'I11.0'
[15:41:05] [DOC: 9269885] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'I50.42'
[15:41:05] [DOC: 9269885] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'I48.91'
[15:41:05] [DOC: 9269885] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:41:05] [DOC: 9269885] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:41:05] [DOC: 9269885] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:41:05] [DOC: 9269885] âœ… Patient data written to CSV: Gisele Calheta | Sex:  | Age: 84 | Service: Skilled Nursing | Payer:  | MRN: 100999604
[15:41:05] âœ…    âœ… Document 9269885 processed and saved successfully
[15:41:05] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:41:05] [DOC: 9269885] â„¹ï¸  API push details saved for document 9269885
[15:41:05] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9269790                         â•‘
================================================================================
[15:41:05] â„¹ï¸  Agency: Brigham Home Care Services.Inc
[15:41:05] â„¹ï¸  Date: 04/30/2025
[15:41:05] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:41:06] [DOC: 9269790] âœ… Text extracted using pdfplumber (1868 chars)
[15:41:06] âœ…    âœ… Text extracted using pdfplumber (1868 chars)
[15:41:06] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:41:09] â„¹ï¸  AI extracted raw sex value: 'F'
[15:41:09] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[15:41:09] â„¹ï¸  AI extracted payer source: ''
[15:41:09] â„¹ï¸  AI extracted diagnoses:
[15:41:09] â„¹ï¸    - Diagnosis 1: ''
[15:41:09] â„¹ï¸    - Diagnosis 2: ''
[15:41:09] â„¹ï¸    - Diagnosis 3: ''
[15:41:09] â„¹ï¸    - Diagnosis 4: ''
[15:41:09] â„¹ï¸    - Diagnosis 5: ''
[15:41:09] â„¹ï¸    - Diagnosis 6: ''
[15:41:09] â„¹ï¸  Final extracted MRN: '2327'
[15:41:09] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:41:09] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[15:41:09] â„¹ï¸  Final extracted Payer Source: ''
[15:41:09] âœ… Patient data extraction completed successfully
[15:41:09] âœ…    âœ… Patient data extracted successfully
[15:41:09] ğŸ“Š Patient Response
     â””â”€ patientFName: NITZA
     â””â”€ patientLName: VALE
     â””â”€ dob: 10/07/1979
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2327
     â””â”€ billingProvider: Defusco, Nicholas
     â””â”€ npi: 1730593195
     â””â”€ physicianNPI: 1730593195
     â””â”€ nameOfAgency: Brigham Home Care Services, Inc
     â””â”€ address: 84 S FRANKLIN ST UNIT B
     â””â”€ city: HOLBROOK
     â””â”€ state: MA
     â””â”€ zip: 02343
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 857-0627
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '02/28/2025', 'endOfEpisode': '04/28/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:41:09] âœ…    âœ… Patient identified: NITZA VALE
[15:41:09] âœ…    âœ… Patient name validation passed
[15:41:09] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:41:09] [DOC: 9269790] â„¹ï¸  DOB normalized: 10/07/1979
[15:41:09] [DOC: 9269790] â„¹ï¸  Episode startOfEpisode normalized: 02/28/2025
[15:41:09] [DOC: 9269790] â„¹ï¸  Episode endOfEpisode normalized: 04/28/2025
[15:41:09] [DOC: 9269790] âœ… Patient date processing completed successfully
[15:41:09] âœ…    âœ… Date processing completed
[15:41:09] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: NITZA
     â””â”€ patientLName: VALE
     â””â”€ dob: 10/07/1979
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2327
     â””â”€ billingProvider: Defusco, Nicholas
     â””â”€ npi: 1730593195
     â””â”€ physicianNPI: 1730593195
     â””â”€ nameOfAgency: Brigham Home Care Services, Inc
     â””â”€ address: 84 S FRANKLIN ST UNIT B
     â””â”€ city: HOLBROOK
     â””â”€ state: MA
     â””â”€ zip: 02343
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 857-0627
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '02/28/2025', 'endOfEpisode': '04/28/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:41:09] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:41:11] â„¹ï¸  Order extraction - MRN: '2327'
[15:41:11] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:41:11] â„¹ï¸  Order extraction - Service Line: 'Nursing'
[15:41:11] â„¹ï¸  Order extraction - Payer Source: ''
[15:41:11] âœ… Order data extraction completed successfully
[15:41:11] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:41:11] â„¹ï¸  Using MRN from patient data: '2327' over '2327'
[15:41:11] â„¹ï¸  Combined service lines: Patient='Skilled Nursing' + Order='Nursing' = 'Nursing, Skilled Nursing'
[15:41:11] âœ… Patient name cross-validation successful
[15:41:11] âœ…    âœ… Data merged successfully
[15:41:13] âš ï¸     âŒ Skipping - missing company ID for agency: Brigham Home Care Services.Inc
[15:41:13] [DOC: 9269790] â„¹ï¸  API push details saved for document 9269790
================================================================================
â•‘                        Processing Document ID: 9269623                         â•‘
================================================================================
[15:41:13] â„¹ï¸  Agency: Southcoast VNA â€“ Community Office (Fairhaven)
[15:41:13] â„¹ï¸  Date: 04/30/2025
[15:41:13] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:41:14] [DOC: 9269623] âœ… Text extracted using pdfplumber (1353 chars)
[15:41:14] âœ…    âœ… Text extracted using pdfplumber (1353 chars)
[15:41:14] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:41:16] â„¹ï¸  AI extracted raw sex value: 'F'
[15:41:16] â„¹ï¸  AI extracted service line: 'Physical Therapy'
[15:41:16] â„¹ï¸  AI extracted payer source: ''
[15:41:16] â„¹ï¸  AI extracted diagnoses:
[15:41:16] â„¹ï¸    - Diagnosis 1: ''
[15:41:16] â„¹ï¸    - Diagnosis 2: ''
[15:41:16] â„¹ï¸    - Diagnosis 3: ''
[15:41:16] â„¹ï¸    - Diagnosis 4: ''
[15:41:16] â„¹ï¸    - Diagnosis 5: ''
[15:41:16] â„¹ï¸    - Diagnosis 6: ''
[15:41:16] â„¹ï¸  Final extracted MRN: '2925069'
[15:41:16] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:41:16] â„¹ï¸  Final extracted Service Line: 'Physical Therapy'
[15:41:16] â„¹ï¸  Final extracted Payer Source: ''
[15:41:16] âœ… Patient data extraction completed successfully
[15:41:16] âœ…    âœ… Patient data extracted successfully
[15:41:16] ğŸ“Š Patient Response
     â””â”€ patientFName: Anna
     â””â”€ patientLName: Rose
     â””â”€ dob: 04/03/1933
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2925069
     â””â”€ billingProvider: Daniel J. Martin, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 973-3200
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:41:16] âœ…    âœ… Patient identified: Anna Rose
[15:41:16] âœ…    âœ… Patient name validation passed
[15:41:16] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:41:16] [DOC: 9269623] â„¹ï¸  DOB normalized: 04/03/1933
[15:41:16] [DOC: 9269623] âœ… Patient date processing completed successfully
[15:41:16] âœ…    âœ… Date processing completed
[15:41:16] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Anna
     â””â”€ patientLName: Rose
     â””â”€ dob: 04/03/1933
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2925069
     â””â”€ billingProvider: Daniel J. Martin, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 973-3200
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:41:16] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:41:19] â„¹ï¸  Order extraction - MRN: '2925069'
[15:41:19] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:41:19] â„¹ï¸  Order extraction - Service Line: ''
[15:41:19] â„¹ï¸  Order extraction - Payer Source: ''
[15:41:19] âœ… Order data extraction completed successfully
[15:41:19] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:41:19] â„¹ï¸  Using MRN from patient data: '2925069' over '2925069'
[15:41:19] â„¹ï¸  Using service line from patient data: 'Physical Therapy'
[15:41:19] âœ… Patient name cross-validation successful
[15:41:19] âœ…    âœ… Data merged successfully
[15:41:20] âœ…    âœ… Order data extracted and validated
[15:41:20] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:41:25] [DOC: 9269623] â„¹ï¸  Patient not found in cache or API: Anna Rose
[15:41:25] [DOC: 9269623] â„¹ï¸  Patient not found, creating new patient via API...
[15:41:25] [DOC: 9269623] â„¹ï¸  Creating patient via API: Anna Rose
[15:41:26] [DOC: 9269623] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[15:41:26] âŒ    âŒ Failed to create patient
[15:41:26] [DOC: 9269623] â„¹ï¸  API push details saved for document 9269623
================================================================================
â•‘                        Processing Document ID: 9269594                         â•‘
================================================================================
[15:41:26] â„¹ï¸  Agency: Southcoast VNA â€“ Community Office (Fairhaven)
[15:41:26] â„¹ï¸  Date: 04/30/2025
[15:41:26] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:41:27] [DOC: 9269594] âœ… Text extracted using pdfplumber (1586 chars)
[15:41:27] âœ…    âœ… Text extracted using pdfplumber (1586 chars)
[15:41:27] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:41:30] â„¹ï¸  AI extracted raw sex value: 'F'
[15:41:30] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[15:41:30] â„¹ï¸  AI extracted payer source: ''
[15:41:30] â„¹ï¸  AI extracted diagnoses:
[15:41:30] â„¹ï¸    - Diagnosis 1: ''
[15:41:30] â„¹ï¸    - Diagnosis 2: ''
[15:41:30] â„¹ï¸    - Diagnosis 3: ''
[15:41:30] â„¹ï¸    - Diagnosis 4: ''
[15:41:30] â„¹ï¸    - Diagnosis 5: ''
[15:41:30] â„¹ï¸    - Diagnosis 6: ''
[15:41:30] â„¹ï¸  Final extracted MRN: '2761021'
[15:41:30] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:41:30] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[15:41:30] â„¹ï¸  Final extracted Payer Source: ''
[15:41:30] âœ… Patient data extraction completed successfully
[15:41:30] âœ…    âœ… Patient data extracted successfully
[15:41:30] ğŸ“Š Patient Response
     â””â”€ patientFName: Theresa
     â””â”€ patientLName: Moniz
     â””â”€ dob: 07/09/1956
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2761021
     â””â”€ billingProvider: Daniel J. Martin, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: 508-973-3200
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:41:30] âœ…    âœ… Patient identified: Theresa Moniz
[15:41:30] âœ…    âœ… Patient name validation passed
[15:41:30] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:41:30] [DOC: 9269594] â„¹ï¸  DOB normalized: 07/09/1956
[15:41:30] [DOC: 9269594] âœ… Patient date processing completed successfully
[15:41:30] âœ…    âœ… Date processing completed
[15:41:30] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Theresa
     â””â”€ patientLName: Moniz
     â””â”€ dob: 07/09/1956
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2761021
     â””â”€ billingProvider: Daniel J. Martin, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: 508-973-3200
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:41:30] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:41:32] â„¹ï¸  Order extraction - MRN: '2761021'
[15:41:32] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:41:32] â„¹ï¸  Order extraction - Service Line: ''
[15:41:32] â„¹ï¸  Order extraction - Payer Source: ''
[15:41:32] âœ… Order data extraction completed successfully
[15:41:32] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:41:32] â„¹ï¸  Using MRN from patient data: '2761021' over '2761021'
[15:41:32] â„¹ï¸  Using service line from patient data: 'Skilled Nursing'
[15:41:32] âœ… Patient name cross-validation successful
[15:41:32] âœ…    âœ… Data merged successfully
[15:41:33] âš ï¸     âŒ Skipping - missing episode start date
[15:41:33] [DOC: 9269594] â„¹ï¸  API push details saved for document 9269594
================================================================================
â•‘                        Processing Document ID: 9269109                         â•‘
================================================================================
[15:41:33] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:41:33] â„¹ï¸  Date: 04/30/2025
[15:41:33] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:41:37] [DOC: 9269109] âœ… Text extracted using pdfplumber (1379 chars)
[15:41:37] âœ…    âœ… Text extracted using pdfplumber (1379 chars)
[15:41:37] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:41:39] â„¹ï¸  AI extracted raw sex value: ''
[15:41:39] â„¹ï¸  AI extracted service line: 'Physical Therapy'
[15:41:39] â„¹ï¸  AI extracted payer source: ''
[15:41:39] â„¹ï¸  AI extracted diagnoses:
[15:41:39] â„¹ï¸    - Diagnosis 1: 'J18.9'
[15:41:39] â„¹ï¸    - Diagnosis 2: 'I71.21'
[15:41:39] â„¹ï¸    - Diagnosis 3: 'I11.0'
[15:41:39] â„¹ï¸    - Diagnosis 4: 'None'
[15:41:39] â„¹ï¸    - Diagnosis 5: 'None'
[15:41:39] â„¹ï¸    - Diagnosis 6: 'None'
[15:41:39] â„¹ï¸  Final extracted MRN: 'MA221128094306'
[15:41:39] â„¹ï¸  Final extracted Sex: ''
[15:41:39] â„¹ï¸  Final extracted Service Line: 'Physical Therapy'
[15:41:39] â„¹ï¸  Final extracted Payer Source: ''
[15:41:39] âœ… Patient data extraction completed successfully
[15:41:39] âœ…    âœ… Patient data extracted successfully
[15:41:39] ğŸ“Š Patient Response
     â””â”€ patientFName: Vicente
     â””â”€ patientLName: Amaro
     â””â”€ dob: 09/09/1943
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA221128094306
     â””â”€ billingProvider: ROBERT CALDAS
     â””â”€ npi: 1124032883
     â””â”€ physicianNPI: 1124032883
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '04/09/2025', 'endOfEpisode': '06/07/2025', 'firstDiagnosis': 'J18.9', 'secondDiagnosis': 'I71.21', 'thirdDiagnosis': 'I11.0', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[15:41:39] âœ…    âœ… Patient identified: Vicente Amaro
[15:41:39] âœ…    âœ… Patient name validation passed
[15:41:39] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:41:39] [DOC: 9269109] â„¹ï¸  DOB normalized: 09/09/1943
[15:41:39] [DOC: 9269109] â„¹ï¸  Episode startOfEpisode normalized: 04/09/2025
[15:41:39] [DOC: 9269109] â„¹ï¸  Episode endOfEpisode normalized: 06/07/2025
[15:41:39] [DOC: 9269109] âœ… Patient date processing completed successfully
[15:41:39] âœ…    âœ… Date processing completed
[15:41:39] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Vicente
     â””â”€ patientLName: Amaro
     â””â”€ dob: 09/09/1943
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA221128094306
     â””â”€ billingProvider: ROBERT CALDAS
     â””â”€ npi: 1124032883
     â””â”€ physicianNPI: 1124032883
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Physical Therapy
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/09/2025', 'endOfEpisode': '06/07/2025', 'firstDiagnosis': 'J18.9', 'secondDiagnosis': 'I71.21', 'thirdDiagnosis': 'I11.0'}]
[15:41:39] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:41:42] â„¹ï¸  Order extraction - MRN: 'MA221128094306'
[15:41:42] â„¹ï¸  Order extraction - Sex: ''
[15:41:42] â„¹ï¸  Order extraction - Service Line: 'Physical Therapy'
[15:41:42] â„¹ï¸  Order extraction - Payer Source: ''
[15:41:42] âœ… Order data extraction completed successfully
[15:41:42] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:41:42] â„¹ï¸  Using MRN from patient data: 'MA221128094306' over 'MA221128094306'
[15:41:42] âš ï¸  Could not determine sex using any available method
[15:41:42] â„¹ï¸  Service line consistent in both sources: 'Physical Therapy'
[15:41:42] âœ… Patient name cross-validation successful
[15:41:42] âœ…    âœ… Data merged successfully
[15:41:43] âœ…    âœ… Order data extracted and validated
[15:41:43] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:41:48] [DOC: 9269109] âœ… Patient exists in API: Vicente Amaro, ID: 00ec4706-0e5a-4a5a-aadd-f1f5d6bcb7ac
[15:41:48] âœ…    âœ… Existing patient found with ID: 00ec4706-0e5a-4a5a-aadd-f1f5d6bcb7ac
[15:41:48] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:41:48] [DOC: 9269109] â„¹ï¸  Pushing order via API for patient ID: 00ec4706-0e5a-4a5a-aadd-f1f5d6bcb7ac
[15:41:50] [DOC: 9269109] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12900"}
[15:41:50] âŒ    âŒ Failed to push order
[15:41:50] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:41:50] [DOC: 9269109] â„¹ï¸  Calculated age: 81 from DOB: 09/09/1943
[15:41:50] [DOC: 9269109] â„¹ï¸  Service Line extracted: 'Physical Therapy'
[15:41:50] [DOC: 9269109] â„¹ï¸  Payer Source extracted: ''
[15:41:50] [DOC: 9269109] â„¹ï¸  Diagnosis codes being written:
[15:41:50] [DOC: 9269109] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'J18.9'
[15:41:50] [DOC: 9269109] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'I71.21'
[15:41:50] [DOC: 9269109] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'I11.0'
[15:41:50] [DOC: 9269109] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:41:50] [DOC: 9269109] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:41:50] [DOC: 9269109] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:41:50] [DOC: 9269109] âœ… Patient data written to CSV: Vicente Amaro | Sex:  | Age: 81 | Service: Physical Therapy | Payer:  | MRN: MA221128094306
[15:41:50] âœ…    âœ… Document 9269109 processed and saved successfully
[15:41:50] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:41:50] [DOC: 9269109] â„¹ï¸  API push details saved for document 9269109
[15:41:50] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9268281                         â•‘
================================================================================
[15:41:50] â„¹ï¸  Agency: Southcoast VNA â€“ Community Office (Fairhaven)
[15:41:50] â„¹ï¸  Date: 04/30/2025
[15:41:50] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:41:51] [DOC: 9268281] âœ… Text extracted using pdfplumber (1476 chars)
[15:41:51] âœ…    âœ… Text extracted using pdfplumber (1476 chars)
[15:41:51] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:41:53] â„¹ï¸  AI extracted raw sex value: 'F'
[15:41:53] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[15:41:53] â„¹ï¸  AI extracted payer source: ''
[15:41:53] â„¹ï¸  AI extracted diagnoses:
[15:41:53] â„¹ï¸    - Diagnosis 1: ''
[15:41:53] â„¹ï¸    - Diagnosis 2: ''
[15:41:53] â„¹ï¸    - Diagnosis 3: ''
[15:41:53] â„¹ï¸    - Diagnosis 4: ''
[15:41:53] â„¹ï¸    - Diagnosis 5: ''
[15:41:53] â„¹ï¸    - Diagnosis 6: ''
[15:41:53] â„¹ï¸  Final extracted MRN: '2761021'
[15:41:53] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:41:53] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[15:41:53] â„¹ï¸  Final extracted Payer Source: ''
[15:41:53] âœ… Patient data extraction completed successfully
[15:41:53] âœ…    âœ… Patient data extracted successfully
[15:41:53] ğŸ“Š Patient Response
     â””â”€ patientFName: Theresa
     â””â”€ patientLName: Moniz
     â””â”€ dob: 07/09/1956
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2761021
     â””â”€ billingProvider: Daniel J. Martin, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 973-3200
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:41:53] âœ…    âœ… Patient identified: Theresa Moniz
[15:41:53] âœ…    âœ… Patient name validation passed
[15:41:53] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:41:53] [DOC: 9268281] â„¹ï¸  DOB normalized: 07/09/1956
[15:41:53] [DOC: 9268281] âœ… Patient date processing completed successfully
[15:41:53] âœ…    âœ… Date processing completed
[15:41:53] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Theresa
     â””â”€ patientLName: Moniz
     â””â”€ dob: 07/09/1956
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2761021
     â””â”€ billingProvider: Daniel J. Martin, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 973-3200
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:41:53] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:41:56] â„¹ï¸  Order extraction - MRN: '2761021'
[15:41:56] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:41:56] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[15:41:56] â„¹ï¸  Order extraction - Payer Source: ''
[15:41:56] âœ… Order data extraction completed successfully
[15:41:56] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:41:56] â„¹ï¸  Using MRN from patient data: '2761021' over '2761021'
[15:41:56] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing'
[15:41:56] âœ… Patient name cross-validation successful
[15:41:56] âœ…    âœ… Data merged successfully
[15:41:57] âœ…    âœ… Order data extracted and validated
[15:41:57] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:42:12] [DOC: 9268281] â„¹ï¸  Patient not found in cache or API: Theresa Moniz
[15:42:12] [DOC: 9268281] â„¹ï¸  Patient not found, creating new patient via API...
[15:42:12] [DOC: 9268281] â„¹ï¸  Creating patient via API: Theresa Moniz
[15:42:13] [DOC: 9268281] âŒ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[15:42:13] âŒ    âŒ Failed to create patient
[15:42:13] [DOC: 9268281] â„¹ï¸  API push details saved for document 9268281
================================================================================
â•‘                        Processing Document ID: 9268274                         â•‘
================================================================================
[15:42:13] â„¹ï¸  Agency: Southcoast VNA â€“ Community Office (Fairhaven)
[15:42:13] â„¹ï¸  Date: 04/30/2025
[15:42:13] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:42:14] [DOC: 9268274] âœ… Text extracted using pdfplumber (1319 chars)
[15:42:14] âœ…    âœ… Text extracted using pdfplumber (1319 chars)
[15:42:14] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:42:17] â„¹ï¸  AI extracted raw sex value: 'F'
[15:42:17] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[15:42:17] â„¹ï¸  AI extracted payer source: ''
[15:42:17] â„¹ï¸  AI extracted diagnoses:
[15:42:17] â„¹ï¸    - Diagnosis 1: ''
[15:42:17] â„¹ï¸    - Diagnosis 2: ''
[15:42:17] â„¹ï¸    - Diagnosis 3: ''
[15:42:17] â„¹ï¸    - Diagnosis 4: ''
[15:42:17] â„¹ï¸    - Diagnosis 5: ''
[15:42:17] â„¹ï¸    - Diagnosis 6: ''
[15:42:17] â„¹ï¸  Final extracted MRN: '2455123'
[15:42:17] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:42:17] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[15:42:17] â„¹ï¸  Final extracted Payer Source: ''
[15:42:17] âœ… Patient data extraction completed successfully
[15:42:17] âœ…    âœ… Patient data extracted successfully
[15:42:17] ğŸ“Š Patient Response
     â””â”€ patientFName: Donna
     â””â”€ patientLName: Faria
     â””â”€ dob: 04/27/1958
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2455123
     â””â”€ billingProvider: Daniel J. Martin, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 973-3200
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:42:17] âœ…    âœ… Patient identified: Donna Faria
[15:42:17] âœ…    âœ… Patient name validation passed
[15:42:17] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:42:17] [DOC: 9268274] â„¹ï¸  DOB normalized: 04/27/1958
[15:42:17] [DOC: 9268274] âœ… Patient date processing completed successfully
[15:42:17] âœ…    âœ… Date processing completed
[15:42:17] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Donna
     â””â”€ patientLName: Faria
     â””â”€ dob: 04/27/1958
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 2455123
     â””â”€ billingProvider: Daniel J. Martin, MD
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     â””â”€ address: 200 Mill Road
     â””â”€ city: Fairhaven
     â””â”€ state: MA
     â””â”€ zip: 02719-5252
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 973-3200
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:42:17] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:42:19] â„¹ï¸  Order extraction - MRN: '2455123'
[15:42:19] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:42:19] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing'
[15:42:19] â„¹ï¸  Order extraction - Payer Source: ''
[15:42:19] âœ… Order data extraction completed successfully
[15:42:19] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:42:19] â„¹ï¸  Using MRN from patient data: '2455123' over '2455123'
[15:42:19] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing'
[15:42:19] âœ… Patient name cross-validation successful
[15:42:19] âœ…    âœ… Data merged successfully
[15:42:20] âœ…    âœ… Order data extracted and validated
[15:42:20] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:42:25] [DOC: 9268274] âœ… Patient exists in API: Donna Faria, ID: 1685c907-1eb7-42e4-bfab-3c7b8b56fd05
[15:42:25] âœ…    âœ… Existing patient found with ID: 1685c907-1eb7-42e4-bfab-3c7b8b56fd05
[15:42:25] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:42:25] [DOC: 9268274] â„¹ï¸  Pushing order via API for patient ID: 1685c907-1eb7-42e4-bfab-3c7b8b56fd05
[15:42:27] [DOC: 9268274] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14143"}
[15:42:27] âŒ    âŒ Failed to push order
[15:42:27] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:42:27] [DOC: 9268274] â„¹ï¸  Calculated age: 67 from DOB: 04/27/1958
[15:42:27] [DOC: 9268274] â„¹ï¸  Service Line extracted: 'Skilled Nursing'
[15:42:27] [DOC: 9268274] â„¹ï¸  Payer Source extracted: ''
[15:42:27] [DOC: 9268274] â„¹ï¸  Diagnosis codes being written:
[15:42:27] [DOC: 9268274] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[15:42:27] [DOC: 9268274] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[15:42:27] [DOC: 9268274] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[15:42:27] [DOC: 9268274] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:42:27] [DOC: 9268274] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:42:27] [DOC: 9268274] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:42:27] [DOC: 9268274] âœ… Patient data written to CSV: Donna Faria | Sex: FEMALE | Age: 67 | Service: Skilled Nursing | Payer:  | MRN: 2455123
[15:42:27] âœ…    âœ… Document 9268274 processed and saved successfully
[15:42:27] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:42:27] [DOC: 9268274] â„¹ï¸  API push details saved for document 9268274
[15:42:27] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9268226                         â•‘
================================================================================
[15:42:27] â„¹ï¸  Agency: Bayada Home Health Care Inc-Providence
[15:42:27] â„¹ï¸  Date: 04/29/2025
[15:42:27] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:42:30] [DOC: 9268226] âœ… Text extracted using pdfplumber (21277 chars)
[15:42:30] âœ…    âœ… Text extracted using pdfplumber (21193 chars)
[15:42:30] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:42:34] â„¹ï¸  AI extracted raw sex value: 'F'
[15:42:34] â„¹ï¸  AI extracted service line: 'Skilled Nursing'
[15:42:34] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:42:34] â„¹ï¸  AI extracted diagnoses:
[15:42:34] â„¹ï¸    - Diagnosis 1: 'I26.93'
[15:42:34] â„¹ï¸    - Diagnosis 2: 'I95.1'
[15:42:34] â„¹ï¸    - Diagnosis 3: 'E89.0'
[15:42:34] â„¹ï¸    - Diagnosis 4: 'E55.9'
[15:42:34] â„¹ï¸    - Diagnosis 5: 'D50.9'
[15:42:34] â„¹ï¸    - Diagnosis 6: 'F31.9'
[15:42:34] â„¹ï¸  Final extracted MRN: '04400034480901'
[15:42:34] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:42:34] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing'
[15:42:34] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:42:34] âœ… Patient data extraction completed successfully
[15:42:34] âœ…    âœ… Patient data extracted successfully
[15:42:34] ğŸ“Š Patient Response
     â””â”€ patientFName: DONNA
     â””â”€ patientLName: MEDEIROS
     â””â”€ dob: 05/13/1967
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 04400034480901
     â””â”€ billingProvider: BAYADA HOME HEALTH CARE INC
     â””â”€ npi: 417057
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: BAYADA HOME HEALTH CARE INC
     â””â”€ address: 1295 STAFFORD RD APT 8
     â””â”€ city: TIVERTON
     â””â”€ state: RI
     â””â”€ zip: 02878-
     â””â”€ email: 
     â””â”€ phoneNumber: (774) 473-3818
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/22/2025', 'startOfEpisode': '04/22/2025', 'endOfEpisode': '06/20/2025', 'firstDiagnosis': 'I26.93', 'secondDiagnosis': 'I95.1', 'thirdDiagnosis': 'E89.0', 'fourthDiagnosis': 'E55.9', 'fifthDiagnosis': 'D50.9', 'sixthDiagnosis': 'F31.9'}]
[15:42:34] âœ…    âœ… Patient identified: DONNA MEDEIROS
[15:42:34] âœ…    âœ… Patient name validation passed
[15:42:34] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:42:34] [DOC: 9268226] â„¹ï¸  DOB normalized: 05/13/1967
[15:42:34] [DOC: 9268226] â„¹ï¸  Episode startOfCare normalized: 04/22/2025
[15:42:34] [DOC: 9268226] â„¹ï¸  Episode startOfEpisode normalized: 04/22/2025
[15:42:34] [DOC: 9268226] â„¹ï¸  Episode endOfEpisode normalized: 06/20/2025
[15:42:34] [DOC: 9268226] âœ… Patient date processing completed successfully
[15:42:34] âœ…    âœ… Date processing completed
[15:42:34] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: DONNA
     â””â”€ patientLName: MEDEIROS
     â””â”€ dob: 05/13/1967
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 04400034480901
     â””â”€ billingProvider: BAYADA HOME HEALTH CARE INC
     â””â”€ npi: 417057
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: BAYADA HOME HEALTH CARE INC
     â””â”€ address: 1295 STAFFORD RD APT 8
     â””â”€ city: TIVERTON
     â””â”€ state: RI
     â””â”€ zip: 02878-
     â””â”€ email: 
     â””â”€ phoneNumber: (774) 473-3818
     â””â”€ serviceLine: Skilled Nursing
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/22/2025', 'startOfEpisode': '04/22/2025', 'endOfEpisode': '06/20/2025', 'firstDiagnosis': 'I26.93', 'secondDiagnosis': 'I95.1', 'thirdDiagnosis': 'E89.0', 'fourthDiagnosis': 'E55.9', 'fifthDiagnosis': 'D50.9', 'sixthDiagnosis': 'F31.9'}]
[15:42:34] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:42:37] â„¹ï¸  Order extraction - MRN: '04400034480901'
[15:42:37] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:42:37] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:42:37] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:42:37] âœ… Order data extraction completed successfully
[15:42:37] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:42:37] â„¹ï¸  Using MRN from patient data: '04400034480901' over '04400034480901'
[15:42:37] â„¹ï¸  Combined service lines: Patient='Skilled Nursing' + Order='Skilled Nursing, Physical Therapy, Occupational Therapy' = 'Occupational Therapy, Physical Therapy, Skilled Nursing'
[15:42:37] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:42:37] âœ… Patient name cross-validation successful
[15:42:37] âœ…    âœ… Data merged successfully
[15:42:38] âœ…    âœ… Order data extracted and validated
[15:42:38] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:42:38] [DOC: 9268226] âœ… Patient found in local cache: DONNA MEDEIROS, ID: 1a293cc9-60c5-42d8-ab0c-43aa83d836e9
[15:42:38] âœ…    âœ… Existing patient found with ID: 1a293cc9-60c5-42d8-ab0c-43aa83d836e9
[15:42:38] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:42:38] [DOC: 9268226] â„¹ï¸  Pushing order via API for patient ID: 1a293cc9-60c5-42d8-ab0c-43aa83d836e9
[15:42:39] [DOC: 9268226] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14058"}
[15:42:39] âŒ    âŒ Failed to push order
[15:42:39] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:42:39] [DOC: 9268226] â„¹ï¸  Calculated age: 58 from DOB: 05/13/1967
[15:42:39] [DOC: 9268226] â„¹ï¸  Service Line extracted: 'Occupational Therapy, Physical Therapy, Skilled Nursing'
[15:42:39] [DOC: 9268226] â„¹ï¸  Payer Source extracted: 'Medicare'
[15:42:39] [DOC: 9268226] â„¹ï¸  Diagnosis codes being written:
[15:42:39] [DOC: 9268226] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'I26.93'
[15:42:39] [DOC: 9268226] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'I95.1'
[15:42:39] [DOC: 9268226] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'E89.0'
[15:42:39] [DOC: 9268226] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'E55.9'
[15:42:39] [DOC: 9268226] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'D50.9'
[15:42:39] [DOC: 9268226] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'F31.9'
[15:42:39] [DOC: 9268226] âœ… Patient data written to CSV: DONNA MEDEIROS | Sex: FEMALE | Age: 58 | Service: Occupational Therapy, Physical Therapy, Skilled Nursing | Payer: Medicare | MRN: 04400034480901
[15:42:39] âœ…    âœ… Document 9268226 processed and saved successfully
[15:42:39] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:42:39] [DOC: 9268226] â„¹ï¸  API push details saved for document 9268226
[15:42:39] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9267511                         â•‘
================================================================================
[15:42:39] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:42:39] â„¹ï¸  Date: 04/29/2025
[15:42:39] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:42:42] [DOC: 9267511] âœ… Text extracted using pdfplumber (1304 chars)
[15:42:42] âœ…    âœ… Text extracted using pdfplumber (1304 chars)
[15:42:42] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:42:45] â„¹ï¸  AI extracted raw sex value: ''
[15:42:45] â„¹ï¸  AI extracted service line: 'Nursing, LPN'
[15:42:45] â„¹ï¸  AI extracted payer source: ''
[15:42:45] â„¹ï¸  AI extracted diagnoses:
[15:42:45] â„¹ï¸    - Diagnosis 1: 'A41.9'
[15:42:45] â„¹ï¸    - Diagnosis 2: 'N30.00'
[15:42:45] â„¹ï¸    - Diagnosis 3: 'F41.9'
[15:42:45] â„¹ï¸    - Diagnosis 4: ''
[15:42:45] â„¹ï¸    - Diagnosis 5: ''
[15:42:45] â„¹ï¸    - Diagnosis 6: ''
[15:42:45] â„¹ï¸  Final extracted MRN: 'MA231215025208'
[15:42:45] â„¹ï¸  Final extracted Sex: ''
[15:42:45] â„¹ï¸  Final extracted Service Line: 'Nursing, LPN'
[15:42:45] â„¹ï¸  Final extracted Payer Source: ''
[15:42:45] âœ… Patient data extraction completed successfully
[15:42:45] âœ…    âœ… Patient data extracted successfully
[15:42:45] ğŸ“Š Patient Response
     â””â”€ patientFName: Marcia
     â””â”€ patientLName: Dunlop
     â””â”€ dob: 02/21/1952
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA231215025208
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Nursing, LPN
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '12/28/2024', 'endOfEpisode': '02/25/2025', 'firstDiagnosis': 'A41.9', 'secondDiagnosis': 'N30.00', 'thirdDiagnosis': 'F41.9', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:42:45] âœ…    âœ… Patient identified: Marcia Dunlop
[15:42:45] âœ…    âœ… Patient name validation passed
[15:42:45] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:42:45] [DOC: 9267511] â„¹ï¸  DOB normalized: 02/21/1952
[15:42:45] [DOC: 9267511] â„¹ï¸  Episode startOfEpisode normalized: 12/28/2024
[15:42:45] [DOC: 9267511] â„¹ï¸  Episode endOfEpisode normalized: 02/25/2025
[15:42:45] [DOC: 9267511] âœ… Patient date processing completed successfully
[15:42:45] âœ…    âœ… Date processing completed
[15:42:45] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Marcia
     â””â”€ patientLName: Dunlop
     â””â”€ dob: 02/21/1952
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: MA231215025208
     â””â”€ billingProvider: ACHILLES ALCARAZ MD
     â””â”€ npi: 1245548643
     â””â”€ physicianNPI: 1245548643
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Nursing, LPN
     â””â”€ payorSource: 
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '12/28/2024', 'endOfEpisode': '02/25/2025', 'firstDiagnosis': 'A41.9', 'secondDiagnosis': 'N30.00', 'thirdDiagnosis': 'F41.9', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:42:45] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:42:48] â„¹ï¸  Order extraction - MRN: 'MA231215025208'
[15:42:48] â„¹ï¸  Order extraction - Sex: ''
[15:42:48] â„¹ï¸  Order extraction - Service Line: 'RN'
[15:42:48] â„¹ï¸  Order extraction - Payer Source: ''
[15:42:48] âœ… Order data extraction completed successfully
[15:42:48] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:42:48] â„¹ï¸  Using MRN from patient data: 'MA231215025208' over 'MA231215025208'
[15:42:48] âš ï¸  Could not determine sex using any available method
[15:42:48] â„¹ï¸  Combined service lines: Patient='Nursing, LPN' + Order='RN' = 'LPN, Nursing, RN'
[15:42:48] âœ… Patient name cross-validation successful
[15:42:48] âœ…    âœ… Data merged successfully
[15:42:49] âœ…    âœ… Order data extracted and validated
[15:42:49] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:42:55] [DOC: 9267511] âœ… Patient exists in API: Marcia Dunlop, ID: 3c464d06-6a86-462f-9d61-1b884255685a
[15:42:55] âœ…    âœ… Existing patient found with ID: 3c464d06-6a86-462f-9d61-1b884255685a
[15:42:55] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:42:55] [DOC: 9267511] â„¹ï¸  Pushing order via API for patient ID: 3c464d06-6a86-462f-9d61-1b884255685a
[15:42:56] [DOC: 9267511] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13899"}
[15:42:56] âŒ    âŒ Failed to push order
[15:42:56] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:42:56] [DOC: 9267511] â„¹ï¸  Calculated age: 73 from DOB: 02/21/1952
[15:42:56] [DOC: 9267511] â„¹ï¸  Service Line extracted: 'LPN, Nursing, RN'
[15:42:56] [DOC: 9267511] â„¹ï¸  Payer Source extracted: ''
[15:42:56] [DOC: 9267511] â„¹ï¸  Diagnosis codes being written:
[15:42:56] [DOC: 9267511] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'A41.9'
[15:42:56] [DOC: 9267511] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'N30.00'
[15:42:56] [DOC: 9267511] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'F41.9'
[15:42:56] [DOC: 9267511] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:42:56] [DOC: 9267511] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:42:56] [DOC: 9267511] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:42:56] [DOC: 9267511] âœ… Patient data written to CSV: Marcia Dunlop | Sex:  | Age: 73 | Service: LPN, Nursing, RN | Payer:  | MRN: MA231215025208
[15:42:56] âœ…    âœ… Document 9267511 processed and saved successfully
[15:42:56] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:42:56] [DOC: 9267511] â„¹ï¸  API push details saved for document 9267511
[15:42:56] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9266990                         â•‘
================================================================================
[15:42:56] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:42:56] â„¹ï¸  Date: 04/29/2025
[15:42:56] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:42:58] [DOC: 9266990] âœ… Text extracted using pdfplumber (13231 chars)
[15:42:58] âœ…    âœ… Text extracted using pdfplumber (13231 chars)
[15:42:58] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:43:02] â„¹ï¸  AI extracted raw sex value: 'F'
[15:43:02] â„¹ï¸  AI extracted service line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:43:02] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:43:02] â„¹ï¸  AI extracted diagnoses:
[15:43:02] â„¹ï¸    - Diagnosis 1: 'N30.00'
[15:43:02] â„¹ï¸    - Diagnosis 2: 'E11.9'
[15:43:02] â„¹ï¸    - Diagnosis 3: 'F41.1'
[15:43:02] â„¹ï¸    - Diagnosis 4: 'I95.1'
[15:43:02] â„¹ï¸    - Diagnosis 5: 'M13.849'
[15:43:02] â„¹ï¸    - Diagnosis 6: 'M51.87'
[15:43:02] â„¹ï¸  Final extracted MRN: '101002392'
[15:43:02] â„¹ï¸  Final extracted Sex: 'FEMALE'
[15:43:02] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:43:02] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:43:02] âœ… Patient data extraction completed successfully
[15:43:02] âœ…    âœ… Patient data extracted successfully
[15:43:02] ğŸ“Š Patient Response
     â””â”€ patientFName: Virginia
     â””â”€ patientLName: Brunton
     â””â”€ dob: 06/05/1940
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 101002392
     â””â”€ billingProvider: Dr. QIN, SHAN
     â””â”€ npi: 1891138822
     â””â”€ physicianNPI: 1891138822
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST.
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780-3561
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/08/2025', 'startOfEpisode': '04/08/2025', 'endOfEpisode': '06/06/2025', 'firstDiagnosis': 'N30.00', 'secondDiagnosis': 'E11.9', 'thirdDiagnosis': 'F41.1', 'fourthDiagnosis': 'I95.1', 'fifthDiagnosis': 'M13.849', 'sixthDiagnosis': 'M51.87'}]
[15:43:02] âœ…    âœ… Patient identified: Virginia Brunton
[15:43:02] âœ…    âœ… Patient name validation passed
[15:43:02] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:43:02] [DOC: 9266990] â„¹ï¸  DOB normalized: 06/05/1940
[15:43:02] [DOC: 9266990] â„¹ï¸  Episode startOfCare normalized: 04/08/2025
[15:43:02] [DOC: 9266990] â„¹ï¸  Episode startOfEpisode normalized: 04/08/2025
[15:43:02] [DOC: 9266990] â„¹ï¸  Episode endOfEpisode normalized: 06/06/2025
[15:43:02] [DOC: 9266990] âœ… Patient date processing completed successfully
[15:43:02] âœ…    âœ… Date processing completed
[15:43:02] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Virginia
     â””â”€ patientLName: Brunton
     â””â”€ dob: 06/05/1940
     â””â”€ patientSex: FEMALE
     â””â”€ medicalRecordNo: 101002392
     â””â”€ billingProvider: Dr. QIN, SHAN
     â””â”€ npi: 1891138822
     â””â”€ physicianNPI: 1891138822
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 125 County ST.
     â””â”€ city: Taunton
     â””â”€ state: MA
     â””â”€ zip: 02780-3561
     â””â”€ phoneNumber: (508) 967-0761
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/08/2025', 'startOfEpisode': '04/08/2025', 'endOfEpisode': '06/06/2025', 'firstDiagnosis': 'N30.00', 'secondDiagnosis': 'E11.9', 'thirdDiagnosis': 'F41.1', 'fourthDiagnosis': 'I95.1', 'fifthDiagnosis': 'M13.849', 'sixthDiagnosis': 'M51.87'}]
[15:43:02] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:43:04] â„¹ï¸  Order extraction - MRN: '101002392'
[15:43:04] â„¹ï¸  Order extraction - Sex: 'FEMALE'
[15:43:04] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:43:04] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:43:04] âœ… Order data extraction completed successfully
[15:43:04] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:43:04] â„¹ï¸  Using MRN from patient data: '101002392' over '101002392'
[15:43:04] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:43:04] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:43:04] âœ… Patient name cross-validation successful
[15:43:04] âœ…    âœ… Data merged successfully
[15:43:06] âœ…    âœ… Order data extracted and validated
[15:43:06] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:43:06] [DOC: 9266990] âœ… Patient found in local cache: Virginia Brunton, ID: 1dfe1667-8fe2-4a04-bd64-0b58b891f126
[15:43:06] âœ…    âœ… Existing patient found with ID: 1dfe1667-8fe2-4a04-bd64-0b58b891f126
[15:43:06] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:43:06] [DOC: 9266990] â„¹ï¸  Pushing order via API for patient ID: 1dfe1667-8fe2-4a04-bd64-0b58b891f126
[15:43:07] [DOC: 9266990] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13402"}
[15:43:07] âŒ    âŒ Failed to push order
[15:43:07] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:43:07] [DOC: 9266990] â„¹ï¸  Calculated age: 85 from DOB: 06/05/1940
[15:43:07] [DOC: 9266990] â„¹ï¸  Service Line extracted: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:43:07] [DOC: 9266990] â„¹ï¸  Payer Source extracted: 'Medicare'
[15:43:07] [DOC: 9266990] â„¹ï¸  Diagnosis codes being written:
[15:43:07] [DOC: 9266990] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'N30.00'
[15:43:07] [DOC: 9266990] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'E11.9'
[15:43:07] [DOC: 9266990] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'F41.1'
[15:43:07] [DOC: 9266990] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'I95.1'
[15:43:07] [DOC: 9266990] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'M13.849'
[15:43:07] [DOC: 9266990] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'M51.87'
[15:43:07] [DOC: 9266990] âœ… Patient data written to CSV: Virginia Brunton | Sex: FEMALE | Age: 85 | Service: Skilled Nursing, Physical Therapy, Occupational Therapy | Payer: Medicare | MRN: 101002392
[15:43:07] âœ…    âœ… Document 9266990 processed and saved successfully
[15:43:07] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:43:07] [DOC: 9266990] â„¹ï¸  API push details saved for document 9266990
[15:43:07] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9266816                         â•‘
================================================================================
[15:43:07] â„¹ï¸  Agency: Compassionate Care Hospice-Taunton
[15:43:07] â„¹ï¸  Date: 04/29/2025
[15:43:07] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:43:10] [DOC: 9266816] âœ… Text extracted using pdfplumber (1501 chars)
[15:43:10] âœ…    âœ… Text extracted using pdfplumber (1489 chars)
[15:43:10] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:43:12] â„¹ï¸  AI extracted raw sex value: ''
[15:43:12] â„¹ï¸  AI extracted service line: 'Hospice Volunteer Coordinator'
[15:43:12] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:43:12] â„¹ï¸  AI extracted diagnoses:
[15:43:12] â„¹ï¸    - Diagnosis 1: ''
[15:43:12] â„¹ï¸    - Diagnosis 2: ''
[15:43:12] â„¹ï¸    - Diagnosis 3: ''
[15:43:12] â„¹ï¸    - Diagnosis 4: ''
[15:43:12] â„¹ï¸    - Diagnosis 5: ''
[15:43:12] â„¹ï¸    - Diagnosis 6: ''
[15:43:12] â„¹ï¸  Final extracted MRN: 'B3700365065902'
[15:43:12] â„¹ï¸  Final extracted Sex: ''
[15:43:12] â„¹ï¸  Final extracted Service Line: 'Hospice Volunteer Coordinator'
[15:43:12] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:43:12] âœ… Patient data extraction completed successfully
[15:43:12] âœ…    âœ… Patient data extracted successfully
[15:43:12] ğŸ“Š Patient Response
     â””â”€ patientFName: RICHARD
     â””â”€ patientLName: SIMMONS
     â””â”€ dob: 03/28/1931
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: B3700365065902
     â””â”€ billingProvider: COMPASSIONATE CARE HOSPICE
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: COMPASSIONATE CARE HOSPICE
     â””â”€ address: 4475 2 LAKESHORE CENTER SUITE 110
     â””â”€ city: BRIDGEWATER
     â””â”€ state: MA
     â””â”€ zip: 02324-1077
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 399-5900
     â””â”€ serviceLine: Hospice Volunteer Coordinator
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:43:12] âœ…    âœ… Patient identified: RICHARD SIMMONS
[15:43:12] âœ…    âœ… Patient name validation passed
[15:43:12] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:43:12] [DOC: 9266816] â„¹ï¸  DOB normalized: 03/28/1931
[15:43:12] [DOC: 9266816] âœ… Patient date processing completed successfully
[15:43:12] âœ…    âœ… Date processing completed
[15:43:12] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: RICHARD
     â””â”€ patientLName: SIMMONS
     â””â”€ dob: 03/28/1931
     â””â”€ patientSex: 
     â””â”€ medicalRecordNo: B3700365065902
     â””â”€ billingProvider: COMPASSIONATE CARE HOSPICE
     â””â”€ npi: 
     â””â”€ physicianNPI: 
     â””â”€ nameOfAgency: COMPASSIONATE CARE HOSPICE
     â””â”€ address: 4475 2 LAKESHORE CENTER SUITE 110
     â””â”€ city: BRIDGEWATER
     â””â”€ state: MA
     â””â”€ zip: 02324-1077
     â””â”€ email: 
     â””â”€ phoneNumber: (508) 399-5900
     â””â”€ serviceLine: Hospice Volunteer Coordinator
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[15:43:12] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:43:15] â„¹ï¸  Order extraction - MRN: 'B3700365065902'
[15:43:15] â„¹ï¸  Order extraction - Sex: ''
[15:43:15] â„¹ï¸  Order extraction - Service Line: 'Hospice Volunteer Coordinator'
[15:43:15] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:43:15] âœ… Order data extraction completed successfully
[15:43:15] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:43:15] â„¹ï¸  Using MRN from patient data: 'B3700365065902' over 'B3700365065902'
[15:43:15] â„¹ï¸  Inferred sex as MALE from name: RICHARD
[15:43:15] â„¹ï¸  Service line consistent in both sources: 'Hospice Volunteer Coordinator'
[15:43:15] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:43:15] âœ… Patient name cross-validation successful
[15:43:15] âœ…    âœ… Data merged successfully
[15:43:16] âœ…    âœ… Order data extracted and validated
[15:43:16] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:43:16] [DOC: 9266816] âœ… Patient found in local cache: RICHARD SIMMONS, ID: fb13de4e-e12b-487b-9527-fa575e9f8c29
[15:43:16] âœ…    âœ… Existing patient found with ID: fb13de4e-e12b-487b-9527-fa575e9f8c29
[15:43:16] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:43:16] [DOC: 9266816] â„¹ï¸  Pushing order via API for patient ID: fb13de4e-e12b-487b-9527-fa575e9f8c29
[15:43:17] [DOC: 9266816] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14431"}
[15:43:17] âŒ    âŒ Failed to push order
[15:43:17] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:43:17] [DOC: 9266816] â„¹ï¸  Calculated age: 94 from DOB: 03/28/1931
[15:43:17] [DOC: 9266816] â„¹ï¸  Service Line extracted: 'Hospice Volunteer Coordinator'
[15:43:17] [DOC: 9266816] â„¹ï¸  Payer Source extracted: 'Medicare'
[15:43:17] [DOC: 9266816] â„¹ï¸  Diagnosis codes being written:
[15:43:17] [DOC: 9266816] â„¹ï¸    - Latest_Episode_Firstdiagnosis: ''
[15:43:17] [DOC: 9266816] â„¹ï¸    - Latest_Episode_Seconddiagnosis: ''
[15:43:17] [DOC: 9266816] â„¹ï¸    - Latest_Episode_Thirddiagnosis: ''
[15:43:17] [DOC: 9266816] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: ''
[15:43:17] [DOC: 9266816] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: ''
[15:43:17] [DOC: 9266816] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: ''
[15:43:17] [DOC: 9266816] âœ… Patient data written to CSV: RICHARD SIMMONS | Sex: MALE | Age: 94 | Service: Hospice Volunteer Coordinator | Payer: Medicare | MRN: B3700365065902
[15:43:17] âœ…    âœ… Document 9266816 processed and saved successfully
[15:43:17] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:43:17] [DOC: 9266816] â„¹ï¸  API push details saved for document 9266816
[15:43:17] âœ…    âœ… API details saved
================================================================================
â•‘                        Processing Document ID: 9266647                         â•‘
================================================================================
[15:43:17] â„¹ï¸  Agency: Nightingale Visiting Nurses-Taunton
[15:43:17] â„¹ï¸  Date: 04/29/2025
[15:43:17] ğŸ”„ 
ğŸ”„ Step 1: Extracting text from PDF...
[15:43:20] [DOC: 9266647] âœ… Text extracted using pdfplumber (17992 chars)
[15:43:20] âœ…    âœ… Text extracted using pdfplumber (17980 chars)
[15:43:20] ğŸ”„ 
ğŸ”„ Step 2: Extracting patient data...
[15:43:24] â„¹ï¸  AI extracted raw sex value: 'M'
[15:43:24] â„¹ï¸  AI extracted service line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:43:24] â„¹ï¸  AI extracted payer source: 'Medicare'
[15:43:24] â„¹ï¸  AI extracted diagnoses:
[15:43:24] â„¹ï¸    - Diagnosis 1: 'A04.72'
[15:43:24] â„¹ï¸    - Diagnosis 2: 'E11.9'
[15:43:24] â„¹ï¸    - Diagnosis 3: 'E87.1'
[15:43:24] â„¹ï¸    - Diagnosis 4: 'J44.89'
[15:43:24] â„¹ï¸    - Diagnosis 5: 'I11.0'
[15:43:24] â„¹ï¸    - Diagnosis 6: 'I50.32'
[15:43:24] â„¹ï¸  Final extracted MRN: 'MA250414053302'
[15:43:24] â„¹ï¸  Final extracted Sex: 'MALE'
[15:43:24] â„¹ï¸  Final extracted Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:43:24] â„¹ï¸  Final extracted Payer Source: 'Medicare'
[15:43:24] âœ… Patient data extraction completed successfully
[15:43:24] âœ…    âœ… Patient data extracted successfully
[15:43:24] ğŸ“Š Patient Response
     â””â”€ patientFName: Serafim
     â””â”€ patientLName: Mimoso
     â””â”€ dob: 05/08/1933
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: MA250414053302
     â””â”€ billingProvider: Martin, Daniel MD
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 281 Davis St
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02746
     â””â”€ email: None
     â””â”€ phoneNumber: (508) 993-8866
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/18/2025', 'startOfEpisode': '04/18/2025', 'endOfEpisode': '06/16/2025', 'firstDiagnosis': 'A04.72', 'secondDiagnosis': 'E11.9', 'thirdDiagnosis': 'E87.1', 'fourthDiagnosis': 'J44.89', 'fifthDiagnosis': 'I11.0', 'sixthDiagnosis': 'I50.32'}]
[15:43:24] âœ…    âœ… Patient identified: Serafim Mimoso
[15:43:24] âœ…    âœ… Patient name validation passed
[15:43:24] ğŸ”„ 
ğŸ”„ Step 3: Processing patient dates...
[15:43:24] [DOC: 9266647] â„¹ï¸  DOB normalized: 05/08/1933
[15:43:24] [DOC: 9266647] â„¹ï¸  Episode startOfCare normalized: 04/18/2025
[15:43:24] [DOC: 9266647] â„¹ï¸  Episode startOfEpisode normalized: 04/18/2025
[15:43:24] [DOC: 9266647] â„¹ï¸  Episode endOfEpisode normalized: 06/16/2025
[15:43:24] [DOC: 9266647] âœ… Patient date processing completed successfully
[15:43:24] âœ…    âœ… Date processing completed
[15:43:24] ğŸ“Š Processed Patient Data
     â””â”€ patientFName: Serafim
     â””â”€ patientLName: Mimoso
     â””â”€ dob: 05/08/1933
     â””â”€ patientSex: MALE
     â””â”€ medicalRecordNo: MA250414053302
     â””â”€ billingProvider: Martin, Daniel MD
     â””â”€ npi: 1720058803
     â””â”€ physicianNPI: 1720058803
     â””â”€ nameOfAgency: Nightingale Visiting Nurses
     â””â”€ address: 281 Davis St
     â””â”€ city: New Bedford
     â””â”€ state: MA
     â””â”€ zip: 02746
     â””â”€ phoneNumber: (508) 993-8866
     â””â”€ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy
     â””â”€ payorSource: Medicare
     â””â”€ episodeDiagnoses: [{'startOfCare': '04/18/2025', 'startOfEpisode': '04/18/2025', 'endOfEpisode': '06/16/2025', 'firstDiagnosis': 'A04.72', 'secondDiagnosis': 'E11.9', 'thirdDiagnosis': 'E87.1', 'fourthDiagnosis': 'J44.89', 'fifthDiagnosis': 'I11.0', 'sixthDiagnosis': 'I50.32'}]
[15:43:24] ğŸ”„ 
ğŸ”„ Step 4: Extracting order data...
[15:43:27] â„¹ï¸  Order extraction - MRN: 'MA250414053302'
[15:43:27] â„¹ï¸  Order extraction - Sex: 'MALE'
[15:43:27] â„¹ï¸  Order extraction - Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:43:27] â„¹ï¸  Order extraction - Payer Source: 'Medicare'
[15:43:27] âœ… Order data extraction completed successfully
[15:43:27] ğŸ”„ 
ğŸ”„ Step 4.5: Merging patient and order data...
[15:43:27] â„¹ï¸  Using MRN from patient data: 'MA250414053302' over 'MA250414053302'
[15:43:27] â„¹ï¸  Service line consistent in both sources: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:43:27] â„¹ï¸  Payer source consistent in both sources: 'Medicare'
[15:43:27] âœ… Patient name cross-validation successful
[15:43:27] âœ…    âœ… Data merged successfully
[15:43:28] âœ…    âœ… Order data extracted and validated
[15:43:28] ğŸ”„ 
ğŸ”„ Step 5: Checking/Creating patient...
[15:43:28] [DOC: 9266647] âœ… Patient found in local cache: Serafim Mimoso, ID: 0849f00a-166d-4c7d-969a-5567b25056c1
[15:43:28] âœ…    âœ… Existing patient found with ID: 0849f00a-166d-4c7d-969a-5567b25056c1
[15:43:28] ğŸ”„ 
ğŸ”„ Step 6: Pushing order to API...
[15:43:28] [DOC: 9266647] â„¹ï¸  Pushing order via API for patient ID: 0849f00a-166d-4c7d-969a-5567b25056c1
[15:43:29] [DOC: 9266647] âŒ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14107"}
[15:43:29] âŒ    âŒ Failed to push order
[15:43:29] ğŸ”„ 
ğŸ”„ Step 7: Writing to CSV...
[15:43:29] [DOC: 9266647] â„¹ï¸  Calculated age: 92 from DOB: 05/08/1933
[15:43:29] [DOC: 9266647] â„¹ï¸  Service Line extracted: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[15:43:29] [DOC: 9266647] â„¹ï¸  Payer Source extracted: 'Medicare'
[15:43:29] [DOC: 9266647] â„¹ï¸  Diagnosis codes being written:
[15:43:29] [DOC: 9266647] â„¹ï¸    - Latest_Episode_Firstdiagnosis: 'A04.72'
[15:43:29] [DOC: 9266647] â„¹ï¸    - Latest_Episode_Seconddiagnosis: 'E11.9'
[15:43:29] [DOC: 9266647] â„¹ï¸    - Latest_Episode_Thirddiagnosis: 'E87.1'
[15:43:29] [DOC: 9266647] â„¹ï¸    - Latest_Episode_Fourthdiagnosis: 'J44.89'
[15:43:29] [DOC: 9266647] â„¹ï¸    - Latest_Episode_Fifthdiagnosis: 'I11.0'
[15:43:29] [DOC: 9266647] â„¹ï¸    - Latest_Episode_Sixthdiagnosis: 'I50.32'
[15:43:29] [DOC: 9266647] âœ… Patient data written to CSV: Serafim Mimoso | Sex: MALE | Age: 92 | Service: Skilled Nursing, Physical Therapy, Occupational Therapy | Payer: Medicare | MRN: MA250414053302
[15:43:29] âœ…    âœ… Document 9266647 processed and saved successfully
[15:43:29] ğŸ”„ 
ğŸ”„ Step 8: Saving API details...
[15:43:29] [DOC: 9266647] â„¹ï¸  API push details saved for document 9266647
[15:43:29] âœ…    âœ… API details saved
================================================================================
â•‘                               PROCESSING SUMMARY                               â•‘
================================================================================
[15:43:29] â„¹ï¸  Total Processed: 49
[15:43:29] â„¹ï¸  CSV Success: 34
[15:43:29] â„¹ï¸  CSV Errors: 7
[15:43:29] â„¹ï¸  API Success: 0
[15:43:29] â„¹ï¸  API Errors: 42
[15:43:29] â„¹ï¸  CSV Success Rate: 69.4%
[15:43:29] â„¹ï¸  API Success Rate: 0.0%
[15:43:29] â„¹ï¸  Output CSV File: csv_outputs/extracted_patients_20250607_153057.csv
[15:43:29] â„¹ï¸  API Details File: api_outputs/api_push_details_20250607_153057.csv
================================================================================
â•‘          ============================================================          â•‘
================================================================================
