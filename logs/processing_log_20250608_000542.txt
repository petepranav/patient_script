================================================================================
║                            FINAL VERSION PROCESSOR                             ║
================================================================================
[00:05:42] ℹ️  CSV Data Extraction & API Push Tool
[00:05:42] ℹ️  
[00:05:42] ℹ️  Features:
[00:05:42] ℹ️  - 2 Robust text extraction methods (PDFPlumber + Tesseract OCR)
[00:05:42] ℹ️  - AI-powered patient and order data extraction
[00:05:42] ℹ️  - Enhanced error handling and logging
[00:05:42] ℹ️  - Full API integration (patient creation + order pushing)
[00:05:42] ℹ️  - CSV output with comprehensive patient data
[00:05:42] ℹ️  - Detailed API tracking with remarks for every document
[00:05:42] ℹ️  - Complete audit trail of all processing attempts
[00:05:42] ℹ️  
[00:05:42] ℹ️  Starting CSV processing with API integration: hawthorn_fam.csv
[00:05:42] ✅ Created output CSV file: csv_outputs/extracted_patients_20250608_000542.csv
[00:05:42] ✅ Created API details CSV file: api_outputs/api_push_details_20250608_000542.csv
================================================================================
║                        Processing Document ID: 9256944                         ║
================================================================================
[00:05:42] ℹ️  Agency: Guardian Home Health Care LLC - West Bridgewater
[00:05:42] ℹ️  Date: 04/23/2025
[00:05:42] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:05:45] [DOC: 9256944] ✅ Text extracted using pdfplumber (1453 chars)
[00:05:45] ✅    ✅ Text extracted using pdfplumber (1453 chars)
[00:05:45] 🔄 
🔄 Step 2: Extracting patient data...
[00:05:49] ℹ️  AI extracted raw sex value: 'F'
[00:05:49] ℹ️  AI extracted service line: 'HHA'
[00:05:49] ℹ️  AI extracted payer source: 'Medicaid/MA'
[00:05:49] ℹ️  AI extracted diagnoses:
[00:05:49] ℹ️    - Diagnosis 1: 'None'
[00:05:49] ℹ️    - Diagnosis 2: 'None'
[00:05:49] ℹ️    - Diagnosis 3: 'None'
[00:05:49] ℹ️    - Diagnosis 4: 'None'
[00:05:49] ℹ️    - Diagnosis 5: 'None'
[00:05:49] ℹ️    - Diagnosis 6: 'None'
[00:05:49] ℹ️  Final extracted MRN: '554005'
[00:05:49] ℹ️  Final extracted Sex: 'FEMALE'
[00:05:49] ℹ️  Final extracted Service Line: 'HHA'
[00:05:49] ℹ️  Final extracted Payer Source: 'Medicaid/MA'
[00:05:49] ✅ Patient data extraction completed successfully
[00:05:49] ✅    ✅ Patient data extracted successfully
[00:05:49] 📊 Patient Response
     └─ patientFName: Yomayra
     └─ patientLName: Velez-Morales
     └─ dob: 10/26/1975
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 554005
     └─ billingProvider: Guardian Home Health Care, LLC
     └─ npi: 
     └─ physicianNPI: 1124032883
     └─ nameOfAgency: Guardian Home Health Care, LLC
     └─ address: 750 West Center St 3rd Floor
     └─ city: W Bridgewater
     └─ state: MA
     └─ zip: 02379
     └─ email: None
     └─ phoneNumber: (508) 588-5811
     └─ serviceLine: HHA
     └─ payorSource: Medicaid/MA
     └─ episodeDiagnoses: [{'startOfCare': '06/04/2024', 'startOfEpisode': None, 'endOfEpisode': None, 'firstDiagnosis': None, 'secondDiagnosis': None, 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[00:05:49] ✅    ✅ Patient identified: Yomayra Velez-Morales
[00:05:49] ✅    ✅ Patient name validation passed
[00:05:49] 🔄 
🔄 Step 3: Processing patient dates...
[00:05:49] [DOC: 9256944] ℹ️  DOB normalized: 10/26/1975
[00:05:49] [DOC: 9256944] ℹ️  Episode startOfCare normalized: 06/04/2024
[00:05:49] [DOC: 9256944] ✅ Patient date processing completed successfully
[00:05:49] ✅    ✅ Date processing completed
[00:05:49] 📊 Processed Patient Data
     └─ patientFName: Yomayra
     └─ patientLName: Velez-Morales
     └─ dob: 10/26/1975
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 554005
     └─ billingProvider: Guardian Home Health Care, LLC
     └─ npi: 
     └─ physicianNPI: 1124032883
     └─ nameOfAgency: Guardian Home Health Care, LLC
     └─ address: 750 West Center St 3rd Floor
     └─ city: W Bridgewater
     └─ state: MA
     └─ zip: 02379
     └─ phoneNumber: (508) 588-5811
     └─ serviceLine: HHA
     └─ payorSource: Medicaid/MA
     └─ episodeDiagnoses: [{'startOfCare': '06/04/2024'}]
[00:05:49] 🔄 
🔄 Step 4: Extracting order data...
[00:05:52] ℹ️  Order extraction - MRN: '554005'
[00:05:52] ℹ️  Order extraction - Sex: 'FEMALE'
[00:05:52] ℹ️  Order extraction - Service Line: 'HHA'
[00:05:52] ℹ️  Order extraction - Payer Source: 'Medicaid/MA'
[00:05:52] ✅ Order data extraction completed successfully
[00:05:52] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:05:52] ℹ️  Using MRN from patient data: '554005' over '554005'
[00:05:52] ℹ️  Service line consistent in both sources: 'HHA'
[00:05:52] ℹ️  Payer source consistent in both sources: 'Medicaid/MA'
[00:05:52] ✅ Patient name cross-validation successful
[00:05:52] ✅    ✅ Data merged successfully
[00:05:53] ✅    ✅ Order data extracted and validated
[00:05:53] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:05:53] [DOC: 9256944] ✅ Patient found in local cache: Yomayra Velez-Morales, ID: e98d4286-e41f-4b12-99e1-b508f6e5aa92
[00:05:53] ✅    ✅ Existing patient found with ID: e98d4286-e41f-4b12-99e1-b508f6e5aa92
[00:05:53] 🔄 
🔄 Step 6: Pushing order to API...
[00:05:53] [DOC: 9256944] ℹ️  Pushing order via API for patient ID: e98d4286-e41f-4b12-99e1-b508f6e5aa92
[00:05:54] [DOC: 9256944] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:05:54] ❌    ❌ Failed to push order
[00:05:54] 🔄 
🔄 Step 7: Writing to CSV...
[00:05:54] [DOC: 9256944] ℹ️  Calculated age: 49 from DOB: 10/26/1975
[00:05:54] [DOC: 9256944] ℹ️  Service Line extracted: 'HHA'
[00:05:54] [DOC: 9256944] ℹ️  Payer Source extracted: 'Medicaid/MA'
[00:05:54] [DOC: 9256944] ℹ️  Diagnosis codes being written:
[00:05:54] [DOC: 9256944] ℹ️    - Latest_Episode_Firstdiagnosis: ''
[00:05:54] [DOC: 9256944] ℹ️    - Latest_Episode_Seconddiagnosis: ''
[00:05:54] [DOC: 9256944] ℹ️    - Latest_Episode_Thirddiagnosis: ''
[00:05:54] [DOC: 9256944] ℹ️    - Latest_Episode_Fourthdiagnosis: ''
[00:05:54] [DOC: 9256944] ℹ️    - Latest_Episode_Fifthdiagnosis: ''
[00:05:54] [DOC: 9256944] ℹ️    - Latest_Episode_Sixthdiagnosis: ''
[00:05:54] [DOC: 9256944] ✅ Patient data written to CSV: Yomayra Velez-Morales | Sex: FEMALE | Age: 49 | Service: HHA | Payer: Medicaid/MA | MRN: 554005
[00:05:54] ✅    ✅ Document 9256944 processed and saved successfully
[00:05:54] 🔄 
🔄 Step 8: Saving API details...
[00:05:54] [DOC: 9256944] ℹ️  API push details saved for document 9256944
[00:05:54] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9256835                         ║
================================================================================
[00:05:54] ℹ️  Agency: Guardian Home Health Care LLC - West Bridgewater
[00:05:54] ℹ️  Date: 04/23/2025
[00:05:54] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:05:56] [DOC: 9256835] ✅ Text extracted using pdfplumber (1433 chars)
[00:05:56] ✅    ✅ Text extracted using pdfplumber (1433 chars)
[00:05:56] 🔄 
🔄 Step 2: Extracting patient data...
[00:05:59] ℹ️  AI extracted raw sex value: 'M'
[00:05:59] ℹ️  AI extracted service line: 'HHA'
[00:05:59] ℹ️  AI extracted payer source: 'Medicaid/MA'
[00:05:59] ℹ️  AI extracted diagnoses:
[00:05:59] ℹ️    - Diagnosis 1: ''
[00:05:59] ℹ️    - Diagnosis 2: ''
[00:05:59] ℹ️    - Diagnosis 3: ''
[00:05:59] ℹ️    - Diagnosis 4: ''
[00:05:59] ℹ️    - Diagnosis 5: ''
[00:05:59] ℹ️    - Diagnosis 6: ''
[00:05:59] ℹ️  Final extracted MRN: '36004'
[00:05:59] ℹ️  Final extracted Sex: 'MALE'
[00:05:59] ℹ️  Final extracted Service Line: 'HHA'
[00:05:59] ℹ️  Final extracted Payer Source: 'Medicaid/MA'
[00:05:59] ✅ Patient data extraction completed successfully
[00:05:59] ✅    ✅ Patient data extracted successfully
[00:05:59] 📊 Patient Response
     └─ patientFName: William
     └─ patientLName: Leary
     └─ dob: 10/27/1963
     └─ patientSex: MALE
     └─ medicalRecordNo: 36004
     └─ billingProvider: Guardian Home Health Care, LLC
     └─ npi: 1346571098
     └─ physicianNPI: 1346571098
     └─ nameOfAgency: Guardian Home Health Care, LLC
     └─ address: 750 West Center St 3rd Floor
     └─ city: W Bridgewater
     └─ state: MA
     └─ zip: 02379
     └─ email: 
     └─ phoneNumber: (508) 588-5811
     └─ serviceLine: HHA
     └─ payorSource: Medicaid/MA
     └─ episodeDiagnoses: [{'startOfCare': '11/23/2016', 'startOfEpisode': '04/10/2025', 'endOfEpisode': '06/08/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:05:59] ✅    ✅ Patient identified: William Leary
[00:05:59] ✅    ✅ Patient name validation passed
[00:05:59] 🔄 
🔄 Step 3: Processing patient dates...
[00:05:59] [DOC: 9256835] ℹ️  DOB normalized: 10/27/1963
[00:05:59] [DOC: 9256835] ℹ️  Episode startOfCare normalized: 11/23/2016
[00:05:59] [DOC: 9256835] ℹ️  Episode startOfEpisode normalized: 04/10/2025
[00:05:59] [DOC: 9256835] ℹ️  Episode endOfEpisode normalized: 06/08/2025
[00:05:59] [DOC: 9256835] ✅ Patient date processing completed successfully
[00:05:59] ✅    ✅ Date processing completed
[00:05:59] 📊 Processed Patient Data
     └─ patientFName: William
     └─ patientLName: Leary
     └─ dob: 10/27/1963
     └─ patientSex: MALE
     └─ medicalRecordNo: 36004
     └─ billingProvider: Guardian Home Health Care, LLC
     └─ npi: 1346571098
     └─ physicianNPI: 1346571098
     └─ nameOfAgency: Guardian Home Health Care, LLC
     └─ address: 750 West Center St 3rd Floor
     └─ city: W Bridgewater
     └─ state: MA
     └─ zip: 02379
     └─ email: 
     └─ phoneNumber: (508) 588-5811
     └─ serviceLine: HHA
     └─ payorSource: Medicaid/MA
     └─ episodeDiagnoses: [{'startOfCare': '11/23/2016', 'startOfEpisode': '04/10/2025', 'endOfEpisode': '06/08/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:05:59] 🔄 
🔄 Step 4: Extracting order data...
[00:06:02] ℹ️  Order extraction - MRN: '36004'
[00:06:02] ℹ️  Order extraction - Sex: 'MALE'
[00:06:02] ℹ️  Order extraction - Service Line: 'HHA'
[00:06:02] ℹ️  Order extraction - Payer Source: 'Medicaid/MA'
[00:06:02] ✅ Order data extraction completed successfully
[00:06:02] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:06:02] ℹ️  Using MRN from patient data: '36004' over '36004'
[00:06:02] ℹ️  Service line consistent in both sources: 'HHA'
[00:06:02] ℹ️  Payer source consistent in both sources: 'Medicaid/MA'
[00:06:02] ✅ Patient name cross-validation successful
[00:06:02] ✅    ✅ Data merged successfully
[00:06:03] ✅    ✅ Order data extracted and validated
[00:06:03] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:06:03] [DOC: 9256835] ✅ Patient found in local cache: William Leary, ID: 6fc2c40a-61bd-498d-946a-7c0987cdbb37
[00:06:03] ✅    ✅ Existing patient found with ID: 6fc2c40a-61bd-498d-946a-7c0987cdbb37
[00:06:03] 🔄 
🔄 Step 6: Pushing order to API...
[00:06:03] [DOC: 9256835] ℹ️  Pushing order via API for patient ID: 6fc2c40a-61bd-498d-946a-7c0987cdbb37
[00:06:04] [DOC: 9256835] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:06:04] ❌    ❌ Failed to push order
[00:06:04] 🔄 
🔄 Step 7: Writing to CSV...
[00:06:04] [DOC: 9256835] ℹ️  Calculated age: 61 from DOB: 10/27/1963
[00:06:04] [DOC: 9256835] ℹ️  Service Line extracted: 'HHA'
[00:06:04] [DOC: 9256835] ℹ️  Payer Source extracted: 'Medicaid/MA'
[00:06:04] [DOC: 9256835] ℹ️  Diagnosis codes being written:
[00:06:04] [DOC: 9256835] ℹ️    - Latest_Episode_Firstdiagnosis: ''
[00:06:04] [DOC: 9256835] ℹ️    - Latest_Episode_Seconddiagnosis: ''
[00:06:04] [DOC: 9256835] ℹ️    - Latest_Episode_Thirddiagnosis: ''
[00:06:04] [DOC: 9256835] ℹ️    - Latest_Episode_Fourthdiagnosis: ''
[00:06:04] [DOC: 9256835] ℹ️    - Latest_Episode_Fifthdiagnosis: ''
[00:06:04] [DOC: 9256835] ℹ️    - Latest_Episode_Sixthdiagnosis: ''
[00:06:04] [DOC: 9256835] ✅ Patient data written to CSV: William Leary | Sex: MALE | Age: 61 | Service: HHA | Payer: Medicaid/MA | MRN: 36004
[00:06:04] ✅    ✅ Document 9256835 processed and saved successfully
[00:06:04] 🔄 
🔄 Step 8: Saving API details...
[00:06:04] [DOC: 9256835] ℹ️  API push details saved for document 9256835
[00:06:04] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9256811                         ║
================================================================================
[00:06:04] ℹ️  Agency: AccentCare Fall River
[00:06:04] ℹ️  Date: 04/23/2025
[00:06:04] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:06:09] [DOC: 9256811] ✅ Text extracted using pdfplumber (1225 chars)
[00:06:09] ✅    ✅ Text extracted using pdfplumber (1225 chars)
[00:06:09] 🔄 
🔄 Step 2: Extracting patient data...
[00:06:11] ℹ️  AI extracted raw sex value: ''
[00:06:11] ℹ️  AI extracted service line: 'Skilled Nursing'
[00:06:11] ℹ️  AI extracted payer source: ''
[00:06:11] ℹ️  AI extracted diagnoses:
[00:06:11] ℹ️    - Diagnosis 1: 'None'
[00:06:11] ℹ️    - Diagnosis 2: 'None'
[00:06:11] ℹ️    - Diagnosis 3: 'None'
[00:06:11] ℹ️    - Diagnosis 4: 'None'
[00:06:11] ℹ️    - Diagnosis 5: 'None'
[00:06:11] ℹ️    - Diagnosis 6: 'None'
[00:06:11] ℹ️  Final extracted MRN: 'C0200218380901'
[00:06:11] ℹ️  Final extracted Sex: ''
[00:06:11] ℹ️  Final extracted Service Line: 'Skilled Nursing'
[00:06:11] ℹ️  Final extracted Payer Source: ''
[00:06:11] ✅ Patient data extraction completed successfully
[00:06:11] ✅    ✅ Patient data extracted successfully
[00:06:11] 📊 Patient Response
     └─ patientFName: JOSE
     └─ patientLName: CASADO
     └─ dob: 02/24/1954
     └─ patientSex: 
     └─ medicalRecordNo: C0200218380901
     └─ billingProvider: ACCENTCARE OF MASS, INC. DBA AC HH OF MASS
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: ACCENTCARE OF MASS, INC. DBA AC HH OF MASS
     └─ address: 21 FATHER DEVALLES BLVD STE 104
     └─ city: FALL RIVER
     └─ state: MA
     └─ zip: 02723-1519
     └─ email: 
     └─ phoneNumber: (508) 235-5312
     └─ serviceLine: Skilled Nursing
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '11/13/2024', 'endOfEpisode': '11/14/2024', 'firstDiagnosis': None, 'secondDiagnosis': None, 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[00:06:11] ✅    ✅ Patient identified: JOSE CASADO
[00:06:11] ✅    ✅ Patient name validation passed
[00:06:11] 🔄 
🔄 Step 3: Processing patient dates...
[00:06:11] [DOC: 9256811] ℹ️  DOB normalized: 02/24/1954
[00:06:11] [DOC: 9256811] ℹ️  Episode startOfEpisode normalized: 11/13/2024
[00:06:11] [DOC: 9256811] ℹ️  Episode endOfEpisode normalized: 11/14/2024
[00:06:11] [DOC: 9256811] ✅ Patient date processing completed successfully
[00:06:11] ✅    ✅ Date processing completed
[00:06:11] 📊 Processed Patient Data
     └─ patientFName: JOSE
     └─ patientLName: CASADO
     └─ dob: 02/24/1954
     └─ patientSex: 
     └─ medicalRecordNo: C0200218380901
     └─ billingProvider: ACCENTCARE OF MASS, INC. DBA AC HH OF MASS
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: ACCENTCARE OF MASS, INC. DBA AC HH OF MASS
     └─ address: 21 FATHER DEVALLES BLVD STE 104
     └─ city: FALL RIVER
     └─ state: MA
     └─ zip: 02723-1519
     └─ email: 
     └─ phoneNumber: (508) 235-5312
     └─ serviceLine: Skilled Nursing
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '11/13/2024', 'endOfEpisode': '11/14/2024'}]
[00:06:11] 🔄 
🔄 Step 4: Extracting order data...
[00:06:14] ℹ️  Order extraction - MRN: 'C0200218380901'
[00:06:14] ℹ️  Order extraction - Sex: ''
[00:06:14] ℹ️  Order extraction - Service Line: 'Skilled Nursing'
[00:06:14] ℹ️  Order extraction - Payer Source: ''
[00:06:14] ✅ Order data extraction completed successfully
[00:06:14] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:06:14] ℹ️  Using MRN from patient data: 'C0200218380901' over 'C0200218380901'
[00:06:14] ⚠️  Could not determine sex using any available method
[00:06:14] ℹ️  Service line consistent in both sources: 'Skilled Nursing'
[00:06:14] ✅ Patient name cross-validation successful
[00:06:14] ✅    ✅ Data merged successfully
[00:06:15] ✅    ✅ Order data extracted and validated
[00:06:15] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:06:15] [DOC: 9256811] ✅ Patient found in local cache: JOSE CASADO, ID: 82dd4811-5b48-4329-a55b-8cd28c1370fb
[00:06:15] ✅    ✅ Existing patient found with ID: 82dd4811-5b48-4329-a55b-8cd28c1370fb
[00:06:15] 🔄 
🔄 Step 6: Pushing order to API...
[00:06:15] [DOC: 9256811] ℹ️  Pushing order via API for patient ID: 82dd4811-5b48-4329-a55b-8cd28c1370fb
[00:06:16] [DOC: 9256811] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13461"}
[00:06:16] ❌    ❌ Failed to push order
[00:06:16] 🔄 
🔄 Step 7: Writing to CSV...
[00:06:16] [DOC: 9256811] ℹ️  Calculated age: 71 from DOB: 02/24/1954
[00:06:16] [DOC: 9256811] ℹ️  Service Line extracted: 'Skilled Nursing'
[00:06:16] [DOC: 9256811] ℹ️  Payer Source extracted: ''
[00:06:16] [DOC: 9256811] ℹ️  Diagnosis codes being written:
[00:06:16] [DOC: 9256811] ℹ️    - Latest_Episode_Firstdiagnosis: ''
[00:06:16] [DOC: 9256811] ℹ️    - Latest_Episode_Seconddiagnosis: ''
[00:06:16] [DOC: 9256811] ℹ️    - Latest_Episode_Thirddiagnosis: ''
[00:06:16] [DOC: 9256811] ℹ️    - Latest_Episode_Fourthdiagnosis: ''
[00:06:16] [DOC: 9256811] ℹ️    - Latest_Episode_Fifthdiagnosis: ''
[00:06:16] [DOC: 9256811] ℹ️    - Latest_Episode_Sixthdiagnosis: ''
[00:06:16] [DOC: 9256811] ✅ Patient data written to CSV: JOSE CASADO | Sex:  | Age: 71 | Service: Skilled Nursing | Payer:  | MRN: C0200218380901
[00:06:16] ✅    ✅ Document 9256811 processed and saved successfully
[00:06:16] 🔄 
🔄 Step 8: Saving API details...
[00:06:16] [DOC: 9256811] ℹ️  API push details saved for document 9256811
[00:06:16] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9256732                         ║
================================================================================
[00:06:16] ℹ️  Agency: Guardian Home Health Care LLC - West Bridgewater
[00:06:16] ℹ️  Date: 04/23/2025
[00:06:16] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:06:19] [DOC: 9256732] ✅ Text extracted using pdfplumber (1334 chars)
[00:06:19] ✅    ✅ Text extracted using pdfplumber (1334 chars)
[00:06:19] 🔄 
🔄 Step 2: Extracting patient data...
[00:06:22] ℹ️  AI extracted raw sex value: 'F'
[00:06:22] ℹ️  AI extracted service line: 'HHA'
[00:06:22] ℹ️  AI extracted payer source: 'Medicare'
[00:06:22] ℹ️  AI extracted diagnoses:
[00:06:22] ℹ️    - Diagnosis 1: 'None'
[00:06:22] ℹ️    - Diagnosis 2: 'None'
[00:06:22] ℹ️    - Diagnosis 3: 'None'
[00:06:22] ℹ️    - Diagnosis 4: 'None'
[00:06:22] ℹ️    - Diagnosis 5: 'None'
[00:06:22] ℹ️    - Diagnosis 6: 'None'
[00:06:22] ℹ️  Final extracted MRN: '67003'
[00:06:22] ℹ️  Final extracted Sex: 'FEMALE'
[00:06:22] ℹ️  Final extracted Service Line: 'HHA'
[00:06:22] ℹ️  Final extracted Payer Source: 'Medicare'
[00:06:22] ✅ Patient data extraction completed successfully
[00:06:22] ✅    ✅ Patient data extracted successfully
[00:06:22] 📊 Patient Response
     └─ patientFName: Barbara
     └─ patientLName: Damico
     └─ dob: 06/24/1957
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 67003
     └─ billingProvider: Guardian Home Health Care, LLC
     └─ npi: 
     └─ physicianNPI: 1598703944
     └─ nameOfAgency: Guardian Home Health Care, LLC
     └─ address: 750 West Center St 3rd Floor
     └─ city: W Bridgewater
     └─ state: MA
     └─ zip: 02379
     └─ email: None
     └─ phoneNumber: (508) 588-5811
     └─ serviceLine: HHA
     └─ payorSource: Medicare
     └─ episodeDiagnoses: [{'startOfCare': '09/22/2022', 'startOfEpisode': None, 'endOfEpisode': '05/08/2025', 'firstDiagnosis': None, 'secondDiagnosis': None, 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[00:06:22] ✅    ✅ Patient identified: Barbara Damico
[00:06:22] ✅    ✅ Patient name validation passed
[00:06:22] 🔄 
🔄 Step 3: Processing patient dates...
[00:06:22] [DOC: 9256732] ℹ️  DOB normalized: 06/24/1957
[00:06:22] [DOC: 9256732] ℹ️  Episode startOfCare normalized: 09/22/2022
[00:06:22] [DOC: 9256732] ℹ️  Episode endOfEpisode normalized: 05/08/2025
[00:06:22] [DOC: 9256732] ✅ Patient date processing completed successfully
[00:06:22] ✅    ✅ Date processing completed
[00:06:22] 📊 Processed Patient Data
     └─ patientFName: Barbara
     └─ patientLName: Damico
     └─ dob: 06/24/1957
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 67003
     └─ billingProvider: Guardian Home Health Care, LLC
     └─ npi: 
     └─ physicianNPI: 1598703944
     └─ nameOfAgency: Guardian Home Health Care, LLC
     └─ address: 750 West Center St 3rd Floor
     └─ city: W Bridgewater
     └─ state: MA
     └─ zip: 02379
     └─ phoneNumber: (508) 588-5811
     └─ serviceLine: HHA
     └─ payorSource: Medicare
     └─ episodeDiagnoses: [{'startOfCare': '09/22/2022', 'endOfEpisode': '05/08/2025'}]
[00:06:22] 🔄 
🔄 Step 4: Extracting order data...
[00:06:25] ℹ️  Order extraction - MRN: '67003'
[00:06:25] ℹ️  Order extraction - Sex: 'FEMALE'
[00:06:25] ℹ️  Order extraction - Service Line: 'HHA'
[00:06:25] ℹ️  Order extraction - Payer Source: 'Medicare'
[00:06:25] ✅ Order data extraction completed successfully
[00:06:25] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:06:25] ℹ️  Using MRN from patient data: '67003' over '67003'
[00:06:25] ℹ️  Service line consistent in both sources: 'HHA'
[00:06:25] ℹ️  Payer source consistent in both sources: 'Medicare'
[00:06:25] ✅ Patient name cross-validation successful
[00:06:25] ✅    ✅ Data merged successfully
[00:06:26] ✅    ✅ Order data extracted and validated
[00:06:26] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:06:26] [DOC: 9256732] ✅ Patient found in local cache: Barbara Damico, ID: ed66bc2d-31b0-42d1-b914-035a418658b8
[00:06:26] ✅    ✅ Existing patient found with ID: ed66bc2d-31b0-42d1-b914-035a418658b8
[00:06:26] 🔄 
🔄 Step 6: Pushing order to API...
[00:06:26] [DOC: 9256732] ℹ️  Pushing order via API for patient ID: ed66bc2d-31b0-42d1-b914-035a418658b8
[00:06:27] [DOC: 9256732] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:06:27] ❌    ❌ Failed to push order
[00:06:27] 🔄 
🔄 Step 7: Writing to CSV...
[00:06:27] [DOC: 9256732] ℹ️  Calculated age: 67 from DOB: 06/24/1957
[00:06:27] [DOC: 9256732] ℹ️  Service Line extracted: 'HHA'
[00:06:27] [DOC: 9256732] ℹ️  Payer Source extracted: 'Medicare'
[00:06:27] [DOC: 9256732] ℹ️  Diagnosis codes being written:
[00:06:27] [DOC: 9256732] ℹ️    - Latest_Episode_Firstdiagnosis: ''
[00:06:27] [DOC: 9256732] ℹ️    - Latest_Episode_Seconddiagnosis: ''
[00:06:27] [DOC: 9256732] ℹ️    - Latest_Episode_Thirddiagnosis: ''
[00:06:27] [DOC: 9256732] ℹ️    - Latest_Episode_Fourthdiagnosis: ''
[00:06:27] [DOC: 9256732] ℹ️    - Latest_Episode_Fifthdiagnosis: ''
[00:06:27] [DOC: 9256732] ℹ️    - Latest_Episode_Sixthdiagnosis: ''
[00:06:27] [DOC: 9256732] ✅ Patient data written to CSV: Barbara Damico | Sex: FEMALE | Age: 67 | Service: HHA | Payer: Medicare | MRN: 67003
[00:06:27] ✅    ✅ Document 9256732 processed and saved successfully
[00:06:27] 🔄 
🔄 Step 8: Saving API details...
[00:06:27] [DOC: 9256732] ℹ️  API push details saved for document 9256732
[00:06:27] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9256714                         ║
================================================================================
[00:06:27] ℹ️  Agency: Guardian Home Health Care LLC - West Bridgewater
[00:06:27] ℹ️  Date: 04/23/2025
[00:06:27] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:06:29] [DOC: 9256714] ✅ Text extracted using pdfplumber (1285 chars)
[00:06:29] ✅    ✅ Text extracted using pdfplumber (1285 chars)
[00:06:29] 🔄 
🔄 Step 2: Extracting patient data...
[00:06:32] ℹ️  AI extracted raw sex value: 'F'
[00:06:32] ℹ️  AI extracted service line: 'HHA'
[00:06:32] ℹ️  AI extracted payer source: 'Medicaid/MA'
[00:06:32] ℹ️  AI extracted diagnoses:
[00:06:32] ℹ️    - Diagnosis 1: 'None'
[00:06:32] ℹ️    - Diagnosis 2: 'None'
[00:06:32] ℹ️    - Diagnosis 3: 'None'
[00:06:32] ℹ️    - Diagnosis 4: 'None'
[00:06:32] ℹ️    - Diagnosis 5: 'None'
[00:06:32] ℹ️    - Diagnosis 6: 'None'
[00:06:32] ℹ️  Final extracted MRN: '658'
[00:06:32] ℹ️  Final extracted Sex: 'FEMALE'
[00:06:32] ℹ️  Final extracted Service Line: 'HHA'
[00:06:32] ℹ️  Final extracted Payer Source: 'Medicaid/MA'
[00:06:32] ✅ Patient data extraction completed successfully
[00:06:32] ✅    ✅ Patient data extracted successfully
[00:06:32] 📊 Patient Response
     └─ patientFName: Deborah
     └─ patientLName: Raposo
     └─ dob: 03/15/1958
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 658
     └─ billingProvider: Guardian Home Health Care, LLC
     └─ npi: 
     └─ physicianNPI: 1730593195
     └─ nameOfAgency: Guardian Home Health Care, LLC
     └─ address: 750 West Center St 3rd Floor
     └─ city: W Bridgewater
     └─ state: MA
     └─ zip: 02379
     └─ email: None
     └─ phoneNumber: (508) 588-5811
     └─ serviceLine: HHA
     └─ payorSource: Medicaid/MA
     └─ episodeDiagnoses: [{'startOfCare': '09/13/2022', 'startOfEpisode': '03/01/2025', 'endOfEpisode': '04/29/2025', 'firstDiagnosis': None, 'secondDiagnosis': None, 'thirdDiagnosis': None, 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[00:06:32] ✅    ✅ Patient identified: Deborah Raposo
[00:06:32] ✅    ✅ Patient name validation passed
[00:06:32] 🔄 
🔄 Step 3: Processing patient dates...
[00:06:32] [DOC: 9256714] ℹ️  DOB normalized: 03/15/1958
[00:06:32] [DOC: 9256714] ℹ️  Episode startOfCare normalized: 09/13/2022
[00:06:32] [DOC: 9256714] ℹ️  Episode startOfEpisode normalized: 03/01/2025
[00:06:32] [DOC: 9256714] ℹ️  Episode endOfEpisode normalized: 04/29/2025
[00:06:32] [DOC: 9256714] ✅ Patient date processing completed successfully
[00:06:32] ✅    ✅ Date processing completed
[00:06:32] 📊 Processed Patient Data
     └─ patientFName: Deborah
     └─ patientLName: Raposo
     └─ dob: 03/15/1958
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 658
     └─ billingProvider: Guardian Home Health Care, LLC
     └─ npi: 
     └─ physicianNPI: 1730593195
     └─ nameOfAgency: Guardian Home Health Care, LLC
     └─ address: 750 West Center St 3rd Floor
     └─ city: W Bridgewater
     └─ state: MA
     └─ zip: 02379
     └─ phoneNumber: (508) 588-5811
     └─ serviceLine: HHA
     └─ payorSource: Medicaid/MA
     └─ episodeDiagnoses: [{'startOfCare': '09/13/2022', 'startOfEpisode': '03/01/2025', 'endOfEpisode': '04/29/2025'}]
[00:06:32] 🔄 
🔄 Step 4: Extracting order data...
[00:06:34] ℹ️  Order extraction - MRN: '658'
[00:06:34] ℹ️  Order extraction - Sex: 'FEMALE'
[00:06:34] ℹ️  Order extraction - Service Line: 'HHA'
[00:06:34] ℹ️  Order extraction - Payer Source: 'Medicaid/MA'
[00:06:34] ✅ Order data extraction completed successfully
[00:06:34] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:06:34] ℹ️  Using MRN from patient data: '658' over '658'
[00:06:34] ℹ️  Service line consistent in both sources: 'HHA'
[00:06:34] ℹ️  Payer source consistent in both sources: 'Medicaid/MA'
[00:06:34] ✅ Patient name cross-validation successful
[00:06:34] ✅    ✅ Data merged successfully
[00:06:36] ✅    ✅ Order data extracted and validated
[00:06:36] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:06:36] [DOC: 9256714] ✅ Patient found in local cache: Deborah Raposo, ID: bd24d6c5-fe2e-4fd6-8f90-dc2b009f2ba3
[00:06:36] ✅    ✅ Existing patient found with ID: bd24d6c5-fe2e-4fd6-8f90-dc2b009f2ba3
[00:06:36] 🔄 
🔄 Step 6: Pushing order to API...
[00:06:36] [DOC: 9256714] ℹ️  Pushing order via API for patient ID: bd24d6c5-fe2e-4fd6-8f90-dc2b009f2ba3
[00:06:37] [DOC: 9256714] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:06:37] ❌    ❌ Failed to push order
[00:06:37] 🔄 
🔄 Step 7: Writing to CSV...
[00:06:37] [DOC: 9256714] ℹ️  Calculated age: 67 from DOB: 03/15/1958
[00:06:37] [DOC: 9256714] ℹ️  Service Line extracted: 'HHA'
[00:06:37] [DOC: 9256714] ℹ️  Payer Source extracted: 'Medicaid/MA'
[00:06:37] [DOC: 9256714] ℹ️  Diagnosis codes being written:
[00:06:37] [DOC: 9256714] ℹ️    - Latest_Episode_Firstdiagnosis: ''
[00:06:37] [DOC: 9256714] ℹ️    - Latest_Episode_Seconddiagnosis: ''
[00:06:37] [DOC: 9256714] ℹ️    - Latest_Episode_Thirddiagnosis: ''
[00:06:37] [DOC: 9256714] ℹ️    - Latest_Episode_Fourthdiagnosis: ''
[00:06:37] [DOC: 9256714] ℹ️    - Latest_Episode_Fifthdiagnosis: ''
[00:06:37] [DOC: 9256714] ℹ️    - Latest_Episode_Sixthdiagnosis: ''
[00:06:37] [DOC: 9256714] ✅ Patient data written to CSV: Deborah Raposo | Sex: FEMALE | Age: 67 | Service: HHA | Payer: Medicaid/MA | MRN: 658
[00:06:37] ✅    ✅ Document 9256714 processed and saved successfully
[00:06:37] 🔄 
🔄 Step 8: Saving API details...
[00:06:37] [DOC: 9256714] ℹ️  API push details saved for document 9256714
[00:06:37] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9256687                         ║
================================================================================
[00:06:37] ℹ️  Agency: Dartmouth HH
[00:06:37] ℹ️  Date: 04/23/2025
[00:06:37] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:06:40] [DOC: 9256687] ✅ Text extracted using pdfplumber (9015 chars)
[00:06:40] ✅    ✅ Text extracted using pdfplumber (9015 chars)
[00:06:40] 🔄 
🔄 Step 2: Extracting patient data...
[00:06:43] ℹ️  AI extracted raw sex value: 'F'
[00:06:43] ℹ️  AI extracted service line: 'Skilled Nursing'
[00:06:43] ℹ️  AI extracted payer source: ''
[00:06:43] ℹ️  AI extracted diagnoses:
[00:06:43] ℹ️    - Diagnosis 1: 'Z46.6'
[00:06:43] ℹ️    - Diagnosis 2: 'R33.9'
[00:06:43] ℹ️    - Diagnosis 3: 'G30.1'
[00:06:43] ℹ️    - Diagnosis 4: 'F02.83'
[00:06:43] ℹ️    - Diagnosis 5: 'F32.A'
[00:06:43] ℹ️    - Diagnosis 6: 'E11.65'
[00:06:43] ℹ️  Final extracted MRN: '371014'
[00:06:43] ℹ️  Final extracted Sex: 'FEMALE'
[00:06:43] ℹ️  Final extracted Service Line: 'Skilled Nursing'
[00:06:43] ℹ️  Final extracted Payer Source: ''
[00:06:43] ✅ Patient data extraction completed successfully
[00:06:43] ✅    ✅ Patient data extracted successfully
[00:06:43] 📊 Patient Response
     └─ patientFName: Mason
     └─ patientLName: Ann
     └─ dob: 02/11/1934
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 371014
     └─ billingProvider: Hawthorn Medical Associates
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ email: 
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Skilled Nursing
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '01/05/2023', 'startOfEpisode': '04/24/2025', 'endOfEpisode': '06/22/2025', 'firstDiagnosis': 'Z46.6', 'secondDiagnosis': 'R33.9', 'thirdDiagnosis': 'G30.1', 'fourthDiagnosis': 'F02.83', 'fifthDiagnosis': 'F32.A', 'sixthDiagnosis': 'E11.65'}]
[00:06:43] ✅    ✅ Patient identified: Mason Ann
[00:06:43] ✅    ✅ Patient name validation passed
[00:06:43] 🔄 
🔄 Step 3: Processing patient dates...
[00:06:43] [DOC: 9256687] ℹ️  DOB normalized: 02/11/1934
[00:06:43] [DOC: 9256687] ℹ️  Episode startOfCare normalized: 01/05/2023
[00:06:43] [DOC: 9256687] ℹ️  Episode startOfEpisode normalized: 04/24/2025
[00:06:43] [DOC: 9256687] ℹ️  Episode endOfEpisode normalized: 06/22/2025
[00:06:43] [DOC: 9256687] ✅ Patient date processing completed successfully
[00:06:43] ✅    ✅ Date processing completed
[00:06:43] 📊 Processed Patient Data
     └─ patientFName: Mason
     └─ patientLName: Ann
     └─ dob: 02/11/1934
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 371014
     └─ billingProvider: Hawthorn Medical Associates
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ email: 
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Skilled Nursing
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '01/05/2023', 'startOfEpisode': '04/24/2025', 'endOfEpisode': '06/22/2025', 'firstDiagnosis': 'Z46.6', 'secondDiagnosis': 'R33.9', 'thirdDiagnosis': 'G30.1', 'fourthDiagnosis': 'F02.83', 'fifthDiagnosis': 'F32.A', 'sixthDiagnosis': 'E11.65'}]
[00:06:43] 🔄 
🔄 Step 4: Extracting order data...
[00:06:46] ℹ️  Order extraction - MRN: '371014'
[00:06:46] ℹ️  Order extraction - Sex: 'FEMALE'
[00:06:46] ℹ️  Order extraction - Service Line: 'Skilled Nursing'
[00:06:46] ℹ️  Order extraction - Payer Source: ''
[00:06:46] ✅ Order data extraction completed successfully
[00:06:46] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:06:46] ℹ️  Using MRN from patient data: '371014' over '371014'
[00:06:46] ℹ️  Service line consistent in both sources: 'Skilled Nursing'
[00:06:46] ✅ Patient name cross-validation successful
[00:06:46] ✅    ✅ Data merged successfully
[00:06:47] ✅    ✅ Order data extracted and validated
[00:06:47] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:06:55] [DOC: 9256687] ℹ️  Patient not found in cache or API: Mason Ann
[00:06:55] [DOC: 9256687] ℹ️  Patient not found, creating new patient via API...
[00:06:55] [DOC: 9256687] ℹ️  Creating patient via API: Mason Ann
[00:06:56] [DOC: 9256687] ❌ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[00:06:56] ❌    ❌ Failed to create patient
[00:06:56] [DOC: 9256687] ℹ️  API push details saved for document 9256687
================================================================================
║                        Processing Document ID: 9256659                         ║
================================================================================
[00:06:56] ℹ️  Agency: Dartmouth HH
[00:06:56] ℹ️  Date: 04/23/2025
[00:06:56] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:06:58] [DOC: 9256659] ✅ Text extracted using pdfplumber (12753 chars)
[00:06:58] ✅    ✅ Text extracted using pdfplumber (12741 chars)
[00:06:58] 🔄 
🔄 Step 2: Extracting patient data...
[00:07:02] ℹ️  AI extracted raw sex value: 'F'
[00:07:02] ℹ️  AI extracted service line: 'Skilled Nursing'
[00:07:02] ℹ️  AI extracted payer source: 'None'
[00:07:02] ℹ️  AI extracted diagnoses:
[00:07:02] ℹ️    - Diagnosis 1: 'I83.212'
[00:07:02] ℹ️    - Diagnosis 2: 'L97.811'
[00:07:02] ℹ️    - Diagnosis 3: 'L89.893'
[00:07:02] ℹ️    - Diagnosis 4: 'L89.892'
[00:07:02] ℹ️    - Diagnosis 5: 'I83.12'
[00:07:02] ℹ️    - Diagnosis 6: 'I89.0'
[00:07:02] ℹ️  Final extracted MRN: '1033009'
[00:07:02] ℹ️  Final extracted Sex: 'FEMALE'
[00:07:02] ℹ️  Final extracted Service Line: 'Skilled Nursing'
[00:07:02] ℹ️  Final extracted Payer Source: ''
[00:07:02] ✅ Patient data extraction completed successfully
[00:07:02] ✅    ✅ Patient data extracted successfully
[00:07:02] 📊 Patient Response
     └─ patientFName: Irene
     └─ patientLName: Gauthier
     └─ dob: 05/12/1942
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 1033009
     └─ billingProvider: Hawthorn Medical Associates
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ email: None
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Skilled Nursing
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '04/17/2025', 'endOfEpisode': '06/15/2025', 'firstDiagnosis': 'I83.212', 'secondDiagnosis': 'L97.811', 'thirdDiagnosis': 'L89.893', 'fourthDiagnosis': 'L89.892', 'fifthDiagnosis': 'I83.12', 'sixthDiagnosis': 'I89.0'}]
[00:07:02] ✅    ✅ Patient identified: Irene Gauthier
[00:07:02] ✅    ✅ Patient name validation passed
[00:07:02] 🔄 
🔄 Step 3: Processing patient dates...
[00:07:02] [DOC: 9256659] ℹ️  DOB normalized: 05/12/1942
[00:07:02] [DOC: 9256659] ℹ️  Episode startOfEpisode normalized: 04/17/2025
[00:07:02] [DOC: 9256659] ℹ️  Episode endOfEpisode normalized: 06/15/2025
[00:07:02] [DOC: 9256659] ✅ Patient date processing completed successfully
[00:07:02] ✅    ✅ Date processing completed
[00:07:02] 📊 Processed Patient Data
     └─ patientFName: Irene
     └─ patientLName: Gauthier
     └─ dob: 05/12/1942
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 1033009
     └─ billingProvider: Hawthorn Medical Associates
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Skilled Nursing
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/17/2025', 'endOfEpisode': '06/15/2025', 'firstDiagnosis': 'I83.212', 'secondDiagnosis': 'L97.811', 'thirdDiagnosis': 'L89.893', 'fourthDiagnosis': 'L89.892', 'fifthDiagnosis': 'I83.12', 'sixthDiagnosis': 'I89.0'}]
[00:07:02] 🔄 
🔄 Step 4: Extracting order data...
[00:07:04] ℹ️  Order extraction - MRN: '1033009'
[00:07:04] ℹ️  Order extraction - Sex: 'FEMALE'
[00:07:04] ℹ️  Order extraction - Service Line: 'Skilled Nursing'
[00:07:04] ℹ️  Order extraction - Payer Source: ''
[00:07:04] ✅ Order data extraction completed successfully
[00:07:04] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:07:04] ℹ️  Using MRN from patient data: '1033009' over '1033009'
[00:07:04] ℹ️  Service line consistent in both sources: 'Skilled Nursing'
[00:07:04] ✅ Patient name cross-validation successful
[00:07:04] ✅    ✅ Data merged successfully
[00:07:05] ✅    ✅ Order data extracted and validated
[00:07:05] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:07:05] [DOC: 9256659] ✅ Patient found in local cache: Irene Gauthier, ID: 7960ccf2-0abf-4c03-8efc-88df1aa249e6
[00:07:05] ✅    ✅ Existing patient found with ID: 7960ccf2-0abf-4c03-8efc-88df1aa249e6
[00:07:05] 🔄 
🔄 Step 6: Pushing order to API...
[00:07:05] [DOC: 9256659] ℹ️  Pushing order via API for patient ID: 7960ccf2-0abf-4c03-8efc-88df1aa249e6
[00:07:06] [DOC: 9256659] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:07:06] ❌    ❌ Failed to push order
[00:07:06] 🔄 
🔄 Step 7: Writing to CSV...
[00:07:06] [DOC: 9256659] ℹ️  Calculated age: 83 from DOB: 05/12/1942
[00:07:06] [DOC: 9256659] ℹ️  Service Line extracted: 'Skilled Nursing'
[00:07:06] [DOC: 9256659] ℹ️  Payer Source extracted: ''
[00:07:06] [DOC: 9256659] ℹ️  Diagnosis codes being written:
[00:07:06] [DOC: 9256659] ℹ️    - Latest_Episode_Firstdiagnosis: 'I83.212'
[00:07:06] [DOC: 9256659] ℹ️    - Latest_Episode_Seconddiagnosis: 'L97.811'
[00:07:06] [DOC: 9256659] ℹ️    - Latest_Episode_Thirddiagnosis: 'L89.893'
[00:07:06] [DOC: 9256659] ℹ️    - Latest_Episode_Fourthdiagnosis: 'L89.892'
[00:07:06] [DOC: 9256659] ℹ️    - Latest_Episode_Fifthdiagnosis: 'I83.12'
[00:07:06] [DOC: 9256659] ℹ️    - Latest_Episode_Sixthdiagnosis: 'I89.0'
[00:07:06] [DOC: 9256659] ✅ Patient data written to CSV: Irene Gauthier | Sex: FEMALE | Age: 83 | Service: Skilled Nursing | Payer:  | MRN: 1033009
[00:07:06] ✅    ✅ Document 9256659 processed and saved successfully
[00:07:06] 🔄 
🔄 Step 8: Saving API details...
[00:07:06] [DOC: 9256659] ℹ️  API push details saved for document 9256659
[00:07:06] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9256651                         ║
================================================================================
[00:07:06] ℹ️  Agency: Dartmouth HH
[00:07:06] ℹ️  Date: 04/23/2025
[00:07:06] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:07:10] [DOC: 9256651] ✅ Text extracted using pdfplumber (14379 chars)
[00:07:10] ✅    ✅ Text extracted using pdfplumber (14367 chars)
[00:07:10] 🔄 
🔄 Step 2: Extracting patient data...
[00:07:13] ℹ️  AI extracted raw sex value: 'M'
[00:07:13] ℹ️  AI extracted service line: 'Skilled Nursing'
[00:07:13] ℹ️  AI extracted payer source: ''
[00:07:13] ℹ️  AI extracted diagnoses:
[00:07:13] ℹ️    - Diagnosis 1: 'G20.A2'
[00:07:13] ℹ️    - Diagnosis 2: 'K59.01'
[00:07:13] ℹ️    - Diagnosis 3: 'R13.12'
[00:07:13] ℹ️    - Diagnosis 4: 'I95.1'
[00:07:13] ℹ️    - Diagnosis 5: 'E87.6'
[00:07:13] ℹ️    - Diagnosis 6: 'M06.011'
[00:07:13] ℹ️  Final extracted MRN: '3076011'
[00:07:13] ℹ️  Final extracted Sex: 'MALE'
[00:07:13] ℹ️  Final extracted Service Line: 'Skilled Nursing'
[00:07:13] ℹ️  Final extracted Payer Source: ''
[00:07:13] ✅ Patient data extraction completed successfully
[00:07:13] ✅    ✅ Patient data extracted successfully
[00:07:13] 📊 Patient Response
     └─ patientFName: Fairbanks
     └─ patientLName: Paul
     └─ dob: 03/25/1943
     └─ patientSex: MALE
     └─ medicalRecordNo: 3076011
     └─ billingProvider: Hawthorn Medical Associates
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ email: 
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Skilled Nursing
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '12/19/2024', 'startOfEpisode': '04/18/2025', 'endOfEpisode': '06/16/2025', 'firstDiagnosis': 'G20.A2', 'secondDiagnosis': 'K59.01', 'thirdDiagnosis': 'R13.12', 'fourthDiagnosis': 'I95.1', 'fifthDiagnosis': 'E87.6', 'sixthDiagnosis': 'M06.011'}]
[00:07:13] ✅    ✅ Patient identified: Fairbanks Paul
[00:07:13] ✅    ✅ Patient name validation passed
[00:07:13] 🔄 
🔄 Step 3: Processing patient dates...
[00:07:13] [DOC: 9256651] ℹ️  DOB normalized: 03/25/1943
[00:07:13] [DOC: 9256651] ℹ️  Episode startOfCare normalized: 12/19/2024
[00:07:13] [DOC: 9256651] ℹ️  Episode startOfEpisode normalized: 04/18/2025
[00:07:13] [DOC: 9256651] ℹ️  Episode endOfEpisode normalized: 06/16/2025
[00:07:13] [DOC: 9256651] ✅ Patient date processing completed successfully
[00:07:13] ✅    ✅ Date processing completed
[00:07:13] 📊 Processed Patient Data
     └─ patientFName: Fairbanks
     └─ patientLName: Paul
     └─ dob: 03/25/1943
     └─ patientSex: MALE
     └─ medicalRecordNo: 3076011
     └─ billingProvider: Hawthorn Medical Associates
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ email: 
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Skilled Nursing
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '12/19/2024', 'startOfEpisode': '04/18/2025', 'endOfEpisode': '06/16/2025', 'firstDiagnosis': 'G20.A2', 'secondDiagnosis': 'K59.01', 'thirdDiagnosis': 'R13.12', 'fourthDiagnosis': 'I95.1', 'fifthDiagnosis': 'E87.6', 'sixthDiagnosis': 'M06.011'}]
[00:07:13] 🔄 
🔄 Step 4: Extracting order data...
[00:07:15] ℹ️  Order extraction - MRN: '3076011'
[00:07:15] ℹ️  Order extraction - Sex: 'MALE'
[00:07:15] ℹ️  Order extraction - Service Line: 'Skilled Nursing'
[00:07:15] ℹ️  Order extraction - Payer Source: ''
[00:07:15] ✅ Order data extraction completed successfully
[00:07:15] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:07:15] ℹ️  Using MRN from patient data: '3076011' over '3076011'
[00:07:15] ℹ️  Service line consistent in both sources: 'Skilled Nursing'
[00:07:15] ✅ Patient name cross-validation successful
[00:07:15] ✅    ✅ Data merged successfully
[00:07:16] ✅    ✅ Order data extracted and validated
[00:07:16] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:07:23] [DOC: 9256651] ℹ️  Patient not found in cache or API: Fairbanks Paul
[00:07:23] [DOC: 9256651] ℹ️  Patient not found, creating new patient via API...
[00:07:23] [DOC: 9256651] ℹ️  Creating patient via API: Fairbanks Paul
[00:07:24] [DOC: 9256651] ❌ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[00:07:24] ❌    ❌ Failed to create patient
[00:07:24] [DOC: 9256651] ℹ️  API push details saved for document 9256651
================================================================================
║                        Processing Document ID: 9256518                         ║
================================================================================
[00:07:24] ℹ️  Agency: Nizhoni Health-Fall River
[00:07:24] ℹ️  Date: 04/23/2025
[00:07:24] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:07:27] [DOC: 9256518] ✅ Text extracted using pdfplumber (1269 chars)
[00:07:27] ✅    ✅ Text extracted using pdfplumber (1269 chars)
[00:07:27] 🔄 
🔄 Step 2: Extracting patient data...
[00:07:30] ℹ️  AI extracted raw sex value: 'F'
[00:07:30] ℹ️  AI extracted service line: 'HHA'
[00:07:30] ℹ️  AI extracted payer source: 'Medicaid/MA'
[00:07:30] ℹ️  AI extracted diagnoses:
[00:07:30] ℹ️    - Diagnosis 1: ''
[00:07:30] ℹ️    - Diagnosis 2: ''
[00:07:30] ℹ️    - Diagnosis 3: ''
[00:07:30] ℹ️    - Diagnosis 4: ''
[00:07:30] ℹ️    - Diagnosis 5: ''
[00:07:30] ℹ️    - Diagnosis 6: ''
[00:07:30] ℹ️  Final extracted MRN: '14458020'
[00:07:30] ℹ️  Final extracted Sex: 'FEMALE'
[00:07:30] ℹ️  Final extracted Service Line: 'HHA'
[00:07:30] ℹ️  Final extracted Payer Source: 'Medicaid/MA'
[00:07:30] ✅ Patient data extraction completed successfully
[00:07:30] ✅    ✅ Patient data extracted successfully
[00:07:30] 📊 Patient Response
     └─ patientFName: Gina
     └─ patientLName: Reich
     └─ dob: 12/30/1962
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 14458020
     └─ billingProvider: Innovive Health of Massachusetts LLC
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Innovive Health of Massachusetts LLC
     └─ address: 10 Cabot Rd Suite 201
     └─ city: Medford
     └─ state: MA
     └─ zip: 02155
     └─ email: 
     └─ phoneNumber: (617) 623-3211
     └─ serviceLine: HHA
     └─ payorSource: Medicaid/MA
     └─ episodeDiagnoses: [{'startOfCare': '10/22/2024', 'startOfEpisode': '04/20/2025', 'endOfEpisode': '06/18/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:07:30] ✅    ✅ Patient identified: Gina Reich
[00:07:30] ✅    ✅ Patient name validation passed
[00:07:30] 🔄 
🔄 Step 3: Processing patient dates...
[00:07:30] [DOC: 9256518] ℹ️  DOB normalized: 12/30/1962
[00:07:30] [DOC: 9256518] ℹ️  Episode startOfCare normalized: 10/22/2024
[00:07:30] [DOC: 9256518] ℹ️  Episode startOfEpisode normalized: 04/20/2025
[00:07:30] [DOC: 9256518] ℹ️  Episode endOfEpisode normalized: 06/18/2025
[00:07:30] [DOC: 9256518] ✅ Patient date processing completed successfully
[00:07:30] ✅    ✅ Date processing completed
[00:07:30] 📊 Processed Patient Data
     └─ patientFName: Gina
     └─ patientLName: Reich
     └─ dob: 12/30/1962
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 14458020
     └─ billingProvider: Innovive Health of Massachusetts LLC
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Innovive Health of Massachusetts LLC
     └─ address: 10 Cabot Rd Suite 201
     └─ city: Medford
     └─ state: MA
     └─ zip: 02155
     └─ email: 
     └─ phoneNumber: (617) 623-3211
     └─ serviceLine: HHA
     └─ payorSource: Medicaid/MA
     └─ episodeDiagnoses: [{'startOfCare': '10/22/2024', 'startOfEpisode': '04/20/2025', 'endOfEpisode': '06/18/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:07:30] 🔄 
🔄 Step 4: Extracting order data...
[00:07:32] ℹ️  Order extraction - MRN: '14458020'
[00:07:32] ℹ️  Order extraction - Sex: 'FEMALE'
[00:07:32] ℹ️  Order extraction - Service Line: ''
[00:07:32] ℹ️  Order extraction - Payer Source: 'Medicaid/MA'
[00:07:32] ✅ Order data extraction completed successfully
[00:07:32] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:07:32] ℹ️  Using MRN from patient data: '14458020' over '14458020'
[00:07:32] ℹ️  Using service line from patient data: 'HHA'
[00:07:32] ℹ️  Payer source consistent in both sources: 'Medicaid/MA'
[00:07:32] ✅ Patient name cross-validation successful
[00:07:32] ✅    ✅ Data merged successfully
[00:07:34] ✅    ✅ Order data extracted and validated
[00:07:34] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:07:34] [DOC: 9256518] ✅ Patient found in local cache: Gina Reich, ID: d58989e3-7402-4034-9b32-9290658d7724
[00:07:34] ✅    ✅ Existing patient found with ID: d58989e3-7402-4034-9b32-9290658d7724
[00:07:34] 🔄 
🔄 Step 6: Pushing order to API...
[00:07:34] [DOC: 9256518] ℹ️  Pushing order via API for patient ID: d58989e3-7402-4034-9b32-9290658d7724
[00:07:35] [DOC: 9256518] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:07:35] ❌    ❌ Failed to push order
[00:07:35] 🔄 
🔄 Step 7: Writing to CSV...
[00:07:35] [DOC: 9256518] ℹ️  Calculated age: 62 from DOB: 12/30/1962
[00:07:35] [DOC: 9256518] ℹ️  Service Line extracted: 'HHA'
[00:07:35] [DOC: 9256518] ℹ️  Payer Source extracted: 'Medicaid/MA'
[00:07:35] [DOC: 9256518] ℹ️  Diagnosis codes being written:
[00:07:35] [DOC: 9256518] ℹ️    - Latest_Episode_Firstdiagnosis: ''
[00:07:35] [DOC: 9256518] ℹ️    - Latest_Episode_Seconddiagnosis: ''
[00:07:35] [DOC: 9256518] ℹ️    - Latest_Episode_Thirddiagnosis: ''
[00:07:35] [DOC: 9256518] ℹ️    - Latest_Episode_Fourthdiagnosis: ''
[00:07:35] [DOC: 9256518] ℹ️    - Latest_Episode_Fifthdiagnosis: ''
[00:07:35] [DOC: 9256518] ℹ️    - Latest_Episode_Sixthdiagnosis: ''
[00:07:35] [DOC: 9256518] ✅ Patient data written to CSV: Gina Reich | Sex: FEMALE | Age: 62 | Service: HHA | Payer: Medicaid/MA | MRN: 14458020
[00:07:35] ✅    ✅ Document 9256518 processed and saved successfully
[00:07:35] 🔄 
🔄 Step 8: Saving API details...
[00:07:35] [DOC: 9256518] ℹ️  API push details saved for document 9256518
[00:07:35] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9256036                         ║
================================================================================
[00:07:35] ℹ️  Agency: Visiting Rehab & Nursing Services
[00:07:35] ℹ️  Date: 04/23/2025
[00:07:35] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:07:37] [DOC: 9256036] ✅ Text extracted using pdfplumber (5437 chars)
[00:07:37] ✅    ✅ Text extracted using pdfplumber (5437 chars)
[00:07:37] 🔄 
🔄 Step 2: Extracting patient data...
[00:07:39] ℹ️  AI extracted raw sex value: 'None'
[00:07:39] ℹ️  AI extracted service line: 'None'
[00:07:39] ℹ️  AI extracted payer source: 'None'
[00:07:39] ℹ️  AI extracted diagnoses:
[00:07:39] ℹ️    - Diagnosis 1: ''
[00:07:39] ℹ️    - Diagnosis 2: ''
[00:07:39] ℹ️    - Diagnosis 3: ''
[00:07:39] ℹ️    - Diagnosis 4: ''
[00:07:39] ℹ️    - Diagnosis 5: ''
[00:07:39] ℹ️    - Diagnosis 6: ''
[00:07:39] ℹ️  Final extracted MRN: ''
[00:07:39] ℹ️  Final extracted Sex: ''
[00:07:39] ℹ️  Final extracted Service Line: ''
[00:07:39] ℹ️  Final extracted Payer Source: ''
[00:07:39] ✅ Patient data extraction completed successfully
[00:07:39] ✅    ✅ Patient data extracted successfully
[00:07:39] 📊 Patient Response
     └─ patientFName: None
     └─ patientLName: None
     └─ dob: None
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: None
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: None
     └─ address: None
     └─ city: None
     └─ state: None
     └─ zip: 
     └─ email: None
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: []
[00:07:39] ⚠️     ❌ Insufficient patient data extracted
[00:07:39] [DOC: 9256036] ℹ️  API push details saved for document 9256036
================================================================================
║                        Processing Document ID: 9255838                         ║
================================================================================
[00:07:39] ℹ️  Agency: Bayada Home Health Care-Dartmouth
[00:07:39] ℹ️  Date: 04/23/2025
[00:07:39] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:07:42] [DOC: 9255838] ✅ Text extracted using pdfplumber (33782 chars)
[00:07:42] ✅    ✅ Text extracted using pdfplumber (33674 chars)
[00:07:42] 🔄 
🔄 Step 2: Extracting patient data...
[00:07:46] ℹ️  AI extracted raw sex value: 'F'
[00:07:46] ℹ️  AI extracted service line: 'PT, OT, Skilled Nursing'
[00:07:46] ℹ️  AI extracted payer source: 'Medicare'
[00:07:46] ℹ️  AI extracted diagnoses:
[00:07:46] ℹ️    - Diagnosis 1: 'T85.79XD'
[00:07:46] ℹ️    - Diagnosis 2: 'Z43.3'
[00:07:46] ℹ️    - Diagnosis 3: 'K57.90'
[00:07:46] ℹ️    - Diagnosis 4: 'M79.7'
[00:07:46] ℹ️    - Diagnosis 5: 'I77.819'
[00:07:46] ℹ️    - Diagnosis 6: 'M19.90'
[00:07:46] ℹ️  Final extracted MRN: '28700211578301'
[00:07:46] ℹ️  Final extracted Sex: 'FEMALE'
[00:07:46] ℹ️  Final extracted Service Line: 'PT, OT, Skilled Nursing'
[00:07:46] ℹ️  Final extracted Payer Source: 'Medicare'
[00:07:46] ✅ Patient data extraction completed successfully
[00:07:46] ✅    ✅ Patient data extracted successfully
[00:07:46] 📊 Patient Response
     └─ patientFName: KATHLEEN
     └─ patientLName: FRIAS
     └─ dob: 03/18/1967
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 28700211578301
     └─ billingProvider: BAYADA HOME HEALTH CARE INC
     └─ npi: 227539
     └─ physicianNPI: 
     └─ nameOfAgency: BAYADA HOME HEALTH CARE INC
     └─ address: 237 HILLMAN STREET
     └─ city: NEW BEDFORD
     └─ state: MA
     └─ zip: 02740
     └─ email: 
     └─ phoneNumber: (508) 994-1003
     └─ serviceLine: PT, OT, Skilled Nursing
     └─ payorSource: Medicare
     └─ episodeDiagnoses: [{'startOfCare': '04/05/2025', 'startOfEpisode': '04/05/2025', 'endOfEpisode': '06/03/2025', 'firstDiagnosis': 'T85.79XD', 'secondDiagnosis': 'Z43.3', 'thirdDiagnosis': 'K57.90', 'fourthDiagnosis': 'M79.7', 'fifthDiagnosis': 'I77.819', 'sixthDiagnosis': 'M19.90'}]
[00:07:46] ✅    ✅ Patient identified: KATHLEEN FRIAS
[00:07:46] ✅    ✅ Patient name validation passed
[00:07:46] 🔄 
🔄 Step 3: Processing patient dates...
[00:07:46] [DOC: 9255838] ℹ️  DOB normalized: 03/18/1967
[00:07:46] [DOC: 9255838] ℹ️  Episode startOfCare normalized: 04/05/2025
[00:07:46] [DOC: 9255838] ℹ️  Episode startOfEpisode normalized: 04/05/2025
[00:07:46] [DOC: 9255838] ℹ️  Episode endOfEpisode normalized: 06/03/2025
[00:07:46] [DOC: 9255838] ✅ Patient date processing completed successfully
[00:07:46] ✅    ✅ Date processing completed
[00:07:46] 📊 Processed Patient Data
     └─ patientFName: KATHLEEN
     └─ patientLName: FRIAS
     └─ dob: 03/18/1967
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 28700211578301
     └─ billingProvider: BAYADA HOME HEALTH CARE INC
     └─ npi: 227539
     └─ physicianNPI: 
     └─ nameOfAgency: BAYADA HOME HEALTH CARE INC
     └─ address: 237 HILLMAN STREET
     └─ city: NEW BEDFORD
     └─ state: MA
     └─ zip: 02740
     └─ email: 
     └─ phoneNumber: (508) 994-1003
     └─ serviceLine: PT, OT, Skilled Nursing
     └─ payorSource: Medicare
     └─ episodeDiagnoses: [{'startOfCare': '04/05/2025', 'startOfEpisode': '04/05/2025', 'endOfEpisode': '06/03/2025', 'firstDiagnosis': 'T85.79XD', 'secondDiagnosis': 'Z43.3', 'thirdDiagnosis': 'K57.90', 'fourthDiagnosis': 'M79.7', 'fifthDiagnosis': 'I77.819', 'sixthDiagnosis': 'M19.90'}]
[00:07:46] 🔄 
🔄 Step 4: Extracting order data...
[00:07:49] ℹ️  Order extraction - MRN: '28700211578301'
[00:07:49] ℹ️  Order extraction - Sex: 'FEMALE'
[00:07:49] ℹ️  Order extraction - Service Line: 'PT, OT, Skilled Nursing'
[00:07:49] ℹ️  Order extraction - Payer Source: 'Medicare'
[00:07:49] ✅ Order data extraction completed successfully
[00:07:49] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:07:49] ℹ️  Using MRN from patient data: '28700211578301' over '28700211578301'
[00:07:49] ℹ️  Service line consistent in both sources: 'PT, OT, Skilled Nursing'
[00:07:49] ℹ️  Payer source consistent in both sources: 'Medicare'
[00:07:49] ✅ Patient name cross-validation successful
[00:07:49] ✅    ✅ Data merged successfully
[00:07:50] ✅    ✅ Order data extracted and validated
[00:07:50] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:07:50] [DOC: 9255838] ✅ Patient found in local cache: KATHLEEN FRIAS, ID: 58cde2b3-570e-4d16-984f-dd28448d60c7
[00:07:50] ✅    ✅ Existing patient found with ID: 58cde2b3-570e-4d16-984f-dd28448d60c7
[00:07:50] 🔄 
🔄 Step 6: Pushing order to API...
[00:07:50] [DOC: 9255838] ℹ️  Pushing order via API for patient ID: 58cde2b3-570e-4d16-984f-dd28448d60c7
[00:07:52] [DOC: 9255838] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD19983"}
[00:07:52] ❌    ❌ Failed to push order
[00:07:52] 🔄 
🔄 Step 7: Writing to CSV...
[00:07:52] [DOC: 9255838] ℹ️  Calculated age: 58 from DOB: 03/18/1967
[00:07:52] [DOC: 9255838] ℹ️  Service Line extracted: 'PT, OT, Skilled Nursing'
[00:07:52] [DOC: 9255838] ℹ️  Payer Source extracted: 'Medicare'
[00:07:52] [DOC: 9255838] ℹ️  Diagnosis codes being written:
[00:07:52] [DOC: 9255838] ℹ️    - Latest_Episode_Firstdiagnosis: 'T85.79XD'
[00:07:52] [DOC: 9255838] ℹ️    - Latest_Episode_Seconddiagnosis: 'Z43.3'
[00:07:52] [DOC: 9255838] ℹ️    - Latest_Episode_Thirddiagnosis: 'K57.90'
[00:07:52] [DOC: 9255838] ℹ️    - Latest_Episode_Fourthdiagnosis: 'M79.7'
[00:07:52] [DOC: 9255838] ℹ️    - Latest_Episode_Fifthdiagnosis: 'I77.819'
[00:07:52] [DOC: 9255838] ℹ️    - Latest_Episode_Sixthdiagnosis: 'M19.90'
[00:07:52] [DOC: 9255838] ✅ Patient data written to CSV: KATHLEEN FRIAS | Sex: FEMALE | Age: 58 | Service: PT, OT, Skilled Nursing | Payer: Medicare | MRN: 28700211578301
[00:07:52] ✅    ✅ Document 9255838 processed and saved successfully
[00:07:52] 🔄 
🔄 Step 8: Saving API details...
[00:07:52] [DOC: 9255838] ℹ️  API push details saved for document 9255838
[00:07:52] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9255702                         ║
================================================================================
[00:07:52] ℹ️  Agency: All At Home Health Care-Allston
[00:07:52] ℹ️  Date: 04/23/2025
[00:07:52] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:07:54] [DOC: 9255702] ✅ Text extracted using pdfplumber (2486 chars)
[00:07:54] ✅    ✅ Text extracted using pdfplumber (2486 chars)
[00:07:54] 🔄 
🔄 Step 2: Extracting patient data...
[00:07:56] ℹ️  AI extracted raw sex value: ''
[00:07:56] ℹ️  AI extracted service line: 'RN'
[00:07:56] ℹ️  AI extracted payer source: ''
[00:07:56] ℹ️  AI extracted diagnoses:
[00:07:56] ℹ️    - Diagnosis 1: 'I13.0'
[00:07:56] ℹ️    - Diagnosis 2: ''
[00:07:56] ℹ️    - Diagnosis 3: ''
[00:07:56] ℹ️    - Diagnosis 4: ''
[00:07:56] ℹ️    - Diagnosis 5: ''
[00:07:56] ℹ️    - Diagnosis 6: ''
[00:07:56] ℹ️  Final extracted MRN: ''
[00:07:56] ℹ️  Final extracted Sex: ''
[00:07:56] ℹ️  Final extracted Service Line: 'RN'
[00:07:56] ℹ️  Final extracted Payer Source: ''
[00:07:56] ✅ Patient data extraction completed successfully
[00:07:56] ✅    ✅ Patient data extracted successfully
[00:07:56] 📊 Patient Response
     └─ patientFName: Patricia
     └─ patientLName: Vincent
     └─ dob: 08/29/1938
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: All At Home Health Care
     └─ npi: 1720386378
     └─ physicianNPI: 1063606473
     └─ nameOfAgency: All At Home Health Care
     └─ address: 1842 Beacon St, Suite 404
     └─ city: Brookline
     └─ state: MA
     └─ zip: 02445
     └─ email: olsa.rusha@allathomehealth.com
     └─ phoneNumber: (617) 782-9900
     └─ serviceLine: RN
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '04/11/2025', 'startOfEpisode': '04/11/2025', 'endOfEpisode': '06/09/2025', 'firstDiagnosis': 'I13.0', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:07:56] ✅    ✅ Patient identified: Patricia Vincent
[00:07:56] ✅    ✅ Patient name validation passed
[00:07:56] 🔄 
🔄 Step 3: Processing patient dates...
[00:07:56] [DOC: 9255702] ℹ️  DOB normalized: 08/29/1938
[00:07:56] [DOC: 9255702] ℹ️  Episode startOfCare normalized: 04/11/2025
[00:07:56] [DOC: 9255702] ℹ️  Episode startOfEpisode normalized: 04/11/2025
[00:07:56] [DOC: 9255702] ℹ️  Episode endOfEpisode normalized: 06/09/2025
[00:07:56] [DOC: 9255702] ✅ Patient date processing completed successfully
[00:07:56] ✅    ✅ Date processing completed
[00:07:56] 📊 Processed Patient Data
     └─ patientFName: Patricia
     └─ patientLName: Vincent
     └─ dob: 08/29/1938
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: All At Home Health Care
     └─ npi: 1720386378
     └─ physicianNPI: 1063606473
     └─ nameOfAgency: All At Home Health Care
     └─ address: 1842 Beacon St, Suite 404
     └─ city: Brookline
     └─ state: MA
     └─ zip: 02445
     └─ email: olsa.rusha@allathomehealth.com
     └─ phoneNumber: (617) 782-9900
     └─ serviceLine: RN
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '04/11/2025', 'startOfEpisode': '04/11/2025', 'endOfEpisode': '06/09/2025', 'firstDiagnosis': 'I13.0', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:07:56] 🔄 
🔄 Step 4: Extracting order data...
[00:07:59] ℹ️  Order extraction - MRN: ''
[00:07:59] ℹ️  Order extraction - Sex: ''
[00:07:59] ℹ️  Order extraction - Service Line: ''
[00:07:59] ℹ️  Order extraction - Payer Source: ''
[00:07:59] ✅ Order data extraction completed successfully
[00:07:59] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:07:59] ⚠️  No MRN found in either patient or order data
[00:07:59] ℹ️  Inferred sex as FEMALE from name: Patricia
[00:07:59] ℹ️  Using service line from patient data: 'RN'
[00:07:59] ✅ Patient name cross-validation successful
[00:07:59] ✅    ✅ Data merged successfully
[00:08:00] ✅    ✅ Order data extracted and validated
[00:08:00] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:08:00] [DOC: 9255702] ✅ Patient found in local cache: Patricia Vincent, ID: b62e589a-7142-4c79-b2f8-94d5918e5d7a
[00:08:00] ✅    ✅ Existing patient found with ID: b62e589a-7142-4c79-b2f8-94d5918e5d7a
[00:08:00] 🔄 
🔄 Step 6: Pushing order to API...
[00:08:00] [DOC: 9255702] ℹ️  Pushing order via API for patient ID: b62e589a-7142-4c79-b2f8-94d5918e5d7a
[00:08:01] [DOC: 9255702] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:08:01] ❌    ❌ Failed to push order
[00:08:01] 🔄 
🔄 Step 7: Writing to CSV...
[00:08:01] [DOC: 9255702] ℹ️  Calculated age: 86 from DOB: 08/29/1938
[00:08:01] [DOC: 9255702] ℹ️  Service Line extracted: 'RN'
[00:08:01] [DOC: 9255702] ℹ️  Payer Source extracted: ''
[00:08:01] [DOC: 9255702] ℹ️  Diagnosis codes being written:
[00:08:01] [DOC: 9255702] ℹ️    - Latest_Episode_Firstdiagnosis: 'I13.0'
[00:08:01] [DOC: 9255702] ℹ️    - Latest_Episode_Seconddiagnosis: ''
[00:08:01] [DOC: 9255702] ℹ️    - Latest_Episode_Thirddiagnosis: ''
[00:08:01] [DOC: 9255702] ℹ️    - Latest_Episode_Fourthdiagnosis: ''
[00:08:01] [DOC: 9255702] ℹ️    - Latest_Episode_Fifthdiagnosis: ''
[00:08:01] [DOC: 9255702] ℹ️    - Latest_Episode_Sixthdiagnosis: ''
[00:08:01] [DOC: 9255702] ✅ Patient data written to CSV: Patricia Vincent | Sex: FEMALE | Age: 86 | Service: RN | Payer:  | MRN: 
[00:08:01] ✅    ✅ Document 9255702 processed and saved successfully
[00:08:01] 🔄 
🔄 Step 8: Saving API details...
[00:08:01] [DOC: 9255702] ℹ️  API push details saved for document 9255702
[00:08:01] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9255701                         ║
================================================================================
[00:08:01] ℹ️  Agency: All At Home Health Care-Allston
[00:08:01] ℹ️  Date: 04/23/2025
[00:08:01] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:08:03] [DOC: 9255701] ✅ Text extracted using pdfplumber (2841 chars)
[00:08:03] ✅    ✅ Text extracted using pdfplumber (2841 chars)
[00:08:03] 🔄 
🔄 Step 2: Extracting patient data...
[00:08:06] ℹ️  AI extracted raw sex value: ''
[00:08:06] ℹ️  AI extracted service line: ''
[00:08:06] ℹ️  AI extracted payer source: ''
[00:08:06] ℹ️  AI extracted diagnoses:
[00:08:06] ℹ️    - Diagnosis 1: 'I13.0'
[00:08:06] ℹ️    - Diagnosis 2: ''
[00:08:06] ℹ️    - Diagnosis 3: ''
[00:08:06] ℹ️    - Diagnosis 4: ''
[00:08:06] ℹ️    - Diagnosis 5: ''
[00:08:06] ℹ️    - Diagnosis 6: ''
[00:08:06] ℹ️  Final extracted MRN: ''
[00:08:06] ℹ️  Final extracted Sex: ''
[00:08:06] ℹ️  Final extracted Service Line: ''
[00:08:06] ℹ️  Final extracted Payer Source: ''
[00:08:06] ✅ Patient data extraction completed successfully
[00:08:06] ✅    ✅ Patient data extracted successfully
[00:08:06] 📊 Patient Response
     └─ patientFName: Patricia
     └─ patientLName: Vincent
     └─ dob: 08/29/1938
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: All At Home Health Care
     └─ npi: 1720386378
     └─ physicianNPI: 1063606473
     └─ nameOfAgency: All At Home Health Care
     └─ address: 1842 Beacon St, Suite 404
     └─ city: Brookline
     └─ state: MA
     └─ zip: 02445
     └─ email: olsa.rusha@allathomehealth.com
     └─ phoneNumber: (617) 782-9900
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '04/11/2025', 'startOfEpisode': '04/15/2025', 'endOfEpisode': '06/09/2025', 'firstDiagnosis': 'I13.0', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:08:06] ✅    ✅ Patient identified: Patricia Vincent
[00:08:06] ✅    ✅ Patient name validation passed
[00:08:06] 🔄 
🔄 Step 3: Processing patient dates...
[00:08:06] [DOC: 9255701] ℹ️  DOB normalized: 08/29/1938
[00:08:06] [DOC: 9255701] ℹ️  Episode startOfCare normalized: 04/11/2025
[00:08:06] [DOC: 9255701] ℹ️  Episode startOfEpisode normalized: 04/15/2025
[00:08:06] [DOC: 9255701] ℹ️  Episode endOfEpisode normalized: 06/09/2025
[00:08:06] [DOC: 9255701] ✅ Patient date processing completed successfully
[00:08:06] ✅    ✅ Date processing completed
[00:08:06] 📊 Processed Patient Data
     └─ patientFName: Patricia
     └─ patientLName: Vincent
     └─ dob: 08/29/1938
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: All At Home Health Care
     └─ npi: 1720386378
     └─ physicianNPI: 1063606473
     └─ nameOfAgency: All At Home Health Care
     └─ address: 1842 Beacon St, Suite 404
     └─ city: Brookline
     └─ state: MA
     └─ zip: 02445
     └─ email: olsa.rusha@allathomehealth.com
     └─ phoneNumber: (617) 782-9900
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '04/11/2025', 'startOfEpisode': '04/15/2025', 'endOfEpisode': '06/09/2025', 'firstDiagnosis': 'I13.0', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:08:06] 🔄 
🔄 Step 4: Extracting order data...
[00:08:09] ℹ️  Order extraction - MRN: ''
[00:08:09] ℹ️  Order extraction - Sex: ''
[00:08:09] ℹ️  Order extraction - Service Line: ''
[00:08:09] ℹ️  Order extraction - Payer Source: ''
[00:08:09] ✅ Order data extraction completed successfully
[00:08:09] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:08:09] ⚠️  No MRN found in either patient or order data
[00:08:09] ℹ️  Inferred sex as FEMALE from name: Patricia
[00:08:09] ✅ Patient name cross-validation successful
[00:08:09] ✅    ✅ Data merged successfully
[00:08:10] ✅    ✅ Order data extracted and validated
[00:08:10] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:08:10] [DOC: 9255701] ✅ Patient found in local cache: Patricia Vincent, ID: b62e589a-7142-4c79-b2f8-94d5918e5d7a
[00:08:10] ✅    ✅ Existing patient found with ID: b62e589a-7142-4c79-b2f8-94d5918e5d7a
[00:08:10] 🔄 
🔄 Step 6: Pushing order to API...
[00:08:10] [DOC: 9255701] ℹ️  Pushing order via API for patient ID: b62e589a-7142-4c79-b2f8-94d5918e5d7a
[00:08:11] [DOC: 9255701] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:08:11] ❌    ❌ Failed to push order
[00:08:11] 🔄 
🔄 Step 7: Writing to CSV...
[00:08:11] [DOC: 9255701] ℹ️  Calculated age: 86 from DOB: 08/29/1938
[00:08:11] [DOC: 9255701] ℹ️  Service Line extracted: ''
[00:08:11] [DOC: 9255701] ℹ️  Payer Source extracted: ''
[00:08:11] [DOC: 9255701] ℹ️  Diagnosis codes being written:
[00:08:11] [DOC: 9255701] ℹ️    - Latest_Episode_Firstdiagnosis: 'I13.0'
[00:08:11] [DOC: 9255701] ℹ️    - Latest_Episode_Seconddiagnosis: ''
[00:08:11] [DOC: 9255701] ℹ️    - Latest_Episode_Thirddiagnosis: ''
[00:08:11] [DOC: 9255701] ℹ️    - Latest_Episode_Fourthdiagnosis: ''
[00:08:11] [DOC: 9255701] ℹ️    - Latest_Episode_Fifthdiagnosis: ''
[00:08:11] [DOC: 9255701] ℹ️    - Latest_Episode_Sixthdiagnosis: ''
[00:08:11] [DOC: 9255701] ✅ Patient data written to CSV: Patricia Vincent | Sex: FEMALE | Age: 86 | Service:  | Payer:  | MRN: 
[00:08:11] ✅    ✅ Document 9255701 processed and saved successfully
[00:08:11] 🔄 
🔄 Step 8: Saving API details...
[00:08:11] [DOC: 9255701] ℹ️  API push details saved for document 9255701
[00:08:11] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9255700                         ║
================================================================================
[00:08:11] ℹ️  Agency: All At Home Health Care-Allston
[00:08:11] ℹ️  Date: 04/23/2025
[00:08:11] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:08:13] [DOC: 9255700] ✅ Text extracted using pdfplumber (2153 chars)
[00:08:13] ✅    ✅ Text extracted using pdfplumber (2153 chars)
[00:08:13] 🔄 
🔄 Step 2: Extracting patient data...
[00:08:16] ℹ️  AI extracted raw sex value: ''
[00:08:16] ℹ️  AI extracted service line: 'Skilled Nursing'
[00:08:16] ℹ️  AI extracted payer source: ''
[00:08:16] ℹ️  AI extracted diagnoses:
[00:08:16] ℹ️    - Diagnosis 1: ''
[00:08:16] ℹ️    - Diagnosis 2: ''
[00:08:16] ℹ️    - Diagnosis 3: ''
[00:08:16] ℹ️    - Diagnosis 4: ''
[00:08:16] ℹ️    - Diagnosis 5: ''
[00:08:16] ℹ️    - Diagnosis 6: ''
[00:08:16] ℹ️  Final extracted MRN: ''
[00:08:16] ℹ️  Final extracted Sex: ''
[00:08:16] ℹ️  Final extracted Service Line: 'Skilled Nursing'
[00:08:16] ℹ️  Final extracted Payer Source: ''
[00:08:16] ✅ Patient data extraction completed successfully
[00:08:16] ✅    ✅ Patient data extracted successfully
[00:08:16] 📊 Patient Response
     └─ patientFName: Patricia
     └─ patientLName: Vincent
     └─ dob: 08/29/1938
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: Sirjana Dhungana Parajuli, MD
     └─ npi: 1720386378
     └─ physicianNPI: 1063606473
     └─ nameOfAgency: All At Home Health Care
     └─ address: 531 Faunce Corner Rd
     └─ city: North Dartmouth
     └─ state: MA
     └─ zip: 02747
     └─ email: olsa.rusha@allathomehealth.com
     └─ phoneNumber: (774) 202-2820
     └─ serviceLine: Skilled Nursing
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '04/11/2025', 'startOfEpisode': '04/11/2025', 'endOfEpisode': '06/09/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:08:16] ✅    ✅ Patient identified: Patricia Vincent
[00:08:16] ✅    ✅ Patient name validation passed
[00:08:16] 🔄 
🔄 Step 3: Processing patient dates...
[00:08:16] [DOC: 9255700] ℹ️  DOB normalized: 08/29/1938
[00:08:16] [DOC: 9255700] ℹ️  Episode startOfCare normalized: 04/11/2025
[00:08:16] [DOC: 9255700] ℹ️  Episode startOfEpisode normalized: 04/11/2025
[00:08:16] [DOC: 9255700] ℹ️  Episode endOfEpisode normalized: 06/09/2025
[00:08:16] [DOC: 9255700] ✅ Patient date processing completed successfully
[00:08:16] ✅    ✅ Date processing completed
[00:08:16] 📊 Processed Patient Data
     └─ patientFName: Patricia
     └─ patientLName: Vincent
     └─ dob: 08/29/1938
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: Sirjana Dhungana Parajuli, MD
     └─ npi: 1720386378
     └─ physicianNPI: 1063606473
     └─ nameOfAgency: All At Home Health Care
     └─ address: 531 Faunce Corner Rd
     └─ city: North Dartmouth
     └─ state: MA
     └─ zip: 02747
     └─ email: olsa.rusha@allathomehealth.com
     └─ phoneNumber: (774) 202-2820
     └─ serviceLine: Skilled Nursing
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '04/11/2025', 'startOfEpisode': '04/11/2025', 'endOfEpisode': '06/09/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:08:16] 🔄 
🔄 Step 4: Extracting order data...
[00:08:18] ℹ️  Order extraction - MRN: ''
[00:08:18] ℹ️  Order extraction - Sex: ''
[00:08:18] ℹ️  Order extraction - Service Line: 'Skilled Nursing'
[00:08:18] ℹ️  Order extraction - Payer Source: ''
[00:08:18] ✅ Order data extraction completed successfully
[00:08:18] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:08:18] ⚠️  No MRN found in either patient or order data
[00:08:18] ℹ️  Inferred sex as FEMALE from name: Patricia
[00:08:18] ℹ️  Service line consistent in both sources: 'Skilled Nursing'
[00:08:18] ✅ Patient name cross-validation successful
[00:08:18] ✅    ✅ Data merged successfully
[00:08:19] ✅    ✅ Order data extracted and validated
[00:08:19] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:08:19] [DOC: 9255700] ✅ Patient found in local cache: Patricia Vincent, ID: b62e589a-7142-4c79-b2f8-94d5918e5d7a
[00:08:19] ✅    ✅ Existing patient found with ID: b62e589a-7142-4c79-b2f8-94d5918e5d7a
[00:08:19] 🔄 
🔄 Step 6: Pushing order to API...
[00:08:19] [DOC: 9255700] ℹ️  Pushing order via API for patient ID: b62e589a-7142-4c79-b2f8-94d5918e5d7a
[00:08:21] [DOC: 9255700] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:08:21] ❌    ❌ Failed to push order
[00:08:21] 🔄 
🔄 Step 7: Writing to CSV...
[00:08:21] [DOC: 9255700] ℹ️  Calculated age: 86 from DOB: 08/29/1938
[00:08:21] [DOC: 9255700] ℹ️  Service Line extracted: 'Skilled Nursing'
[00:08:21] [DOC: 9255700] ℹ️  Payer Source extracted: ''
[00:08:21] [DOC: 9255700] ℹ️  Diagnosis codes being written:
[00:08:21] [DOC: 9255700] ℹ️    - Latest_Episode_Firstdiagnosis: ''
[00:08:21] [DOC: 9255700] ℹ️    - Latest_Episode_Seconddiagnosis: ''
[00:08:21] [DOC: 9255700] ℹ️    - Latest_Episode_Thirddiagnosis: ''
[00:08:21] [DOC: 9255700] ℹ️    - Latest_Episode_Fourthdiagnosis: ''
[00:08:21] [DOC: 9255700] ℹ️    - Latest_Episode_Fifthdiagnosis: ''
[00:08:21] [DOC: 9255700] ℹ️    - Latest_Episode_Sixthdiagnosis: ''
[00:08:21] [DOC: 9255700] ✅ Patient data written to CSV: Patricia Vincent | Sex: FEMALE | Age: 86 | Service: Skilled Nursing | Payer:  | MRN: 
[00:08:21] ✅    ✅ Document 9255700 processed and saved successfully
[00:08:21] 🔄 
🔄 Step 8: Saving API details...
[00:08:21] [DOC: 9255700] ℹ️  API push details saved for document 9255700
[00:08:21] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9255698                         ║
================================================================================
[00:08:21] ℹ️  Agency: All At Home Health Care-Allston
[00:08:21] ℹ️  Date: 04/23/2025
[00:08:21] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:08:24] [DOC: 9255698] ✅ Text extracted using pdfplumber (23809 chars)
[00:08:24] ✅    ✅ Text extracted using pdfplumber (23737 chars)
[00:08:24] 🔄 
🔄 Step 2: Extracting patient data...
[00:08:27] ℹ️  AI extracted raw sex value: 'F'
[00:08:27] ℹ️  AI extracted service line: 'Nursing, Physical Therapy'
[00:08:27] ℹ️  AI extracted payer source: ''
[00:08:27] ℹ️  AI extracted diagnoses:
[00:08:27] ℹ️    - Diagnosis 1: 'I13.0'
[00:08:27] ℹ️    - Diagnosis 2: 'I50.23'
[00:08:27] ℹ️    - Diagnosis 3: 'E11.22'
[00:08:27] ℹ️    - Diagnosis 4: 'N18.32'
[00:08:27] ℹ️    - Diagnosis 5: 'E11.42'
[00:08:27] ℹ️    - Diagnosis 6: 'I48.91'
[00:08:27] ℹ️  Final extracted MRN: '1821'
[00:08:27] ℹ️  Final extracted Sex: 'FEMALE'
[00:08:27] ℹ️  Final extracted Service Line: 'Nursing, Physical Therapy'
[00:08:27] ℹ️  Final extracted Payer Source: ''
[00:08:27] ✅ Patient data extraction completed successfully
[00:08:27] ✅    ✅ Patient data extracted successfully
[00:08:27] 📊 Patient Response
     └─ patientFName: Patricia
     └─ patientLName: Vincent
     └─ dob: 08/29/1938
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 1821
     └─ billingProvider: All At Home Health Care
     └─ npi: 1720386378
     └─ physicianNPI: 1063606473
     └─ nameOfAgency: All At Home Health Care
     └─ address: 129A Oakdale St
     └─ city: New Bedford
     └─ state: MA
     └─ zip: 02740
     └─ email: 
     └─ phoneNumber: (774) 202-2820
     └─ serviceLine: Nursing, Physical Therapy
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '04/11/2025', 'startOfEpisode': '04/11/2025', 'endOfEpisode': '06/09/2025', 'firstDiagnosis': 'I13.0', 'secondDiagnosis': 'I50.23', 'thirdDiagnosis': 'E11.22', 'fourthDiagnosis': 'N18.32', 'fifthDiagnosis': 'E11.42', 'sixthDiagnosis': 'I48.91'}]
[00:08:27] ✅    ✅ Patient identified: Patricia Vincent
[00:08:27] ✅    ✅ Patient name validation passed
[00:08:27] 🔄 
🔄 Step 3: Processing patient dates...
[00:08:27] [DOC: 9255698] ℹ️  DOB normalized: 08/29/1938
[00:08:27] [DOC: 9255698] ℹ️  Episode startOfCare normalized: 04/11/2025
[00:08:27] [DOC: 9255698] ℹ️  Episode startOfEpisode normalized: 04/11/2025
[00:08:27] [DOC: 9255698] ℹ️  Episode endOfEpisode normalized: 06/09/2025
[00:08:27] [DOC: 9255698] ✅ Patient date processing completed successfully
[00:08:27] ✅    ✅ Date processing completed
[00:08:27] 📊 Processed Patient Data
     └─ patientFName: Patricia
     └─ patientLName: Vincent
     └─ dob: 08/29/1938
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 1821
     └─ billingProvider: All At Home Health Care
     └─ npi: 1720386378
     └─ physicianNPI: 1063606473
     └─ nameOfAgency: All At Home Health Care
     └─ address: 129A Oakdale St
     └─ city: New Bedford
     └─ state: MA
     └─ zip: 02740
     └─ email: 
     └─ phoneNumber: (774) 202-2820
     └─ serviceLine: Nursing, Physical Therapy
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '04/11/2025', 'startOfEpisode': '04/11/2025', 'endOfEpisode': '06/09/2025', 'firstDiagnosis': 'I13.0', 'secondDiagnosis': 'I50.23', 'thirdDiagnosis': 'E11.22', 'fourthDiagnosis': 'N18.32', 'fifthDiagnosis': 'E11.42', 'sixthDiagnosis': 'I48.91'}]
[00:08:27] 🔄 
🔄 Step 4: Extracting order data...
[00:08:30] ℹ️  Order extraction - MRN: '1821'
[00:08:30] ℹ️  Order extraction - Sex: 'FEMALE'
[00:08:30] ℹ️  Order extraction - Service Line: 'RN, PT, HHA'
[00:08:30] ℹ️  Order extraction - Payer Source: ''
[00:08:30] ✅ Order data extraction completed successfully
[00:08:30] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:08:30] ℹ️  Using MRN from patient data: '1821' over '1821'
[00:08:30] ℹ️  Combined service lines: Patient='Nursing, Physical Therapy' + Order='RN, PT, HHA' = 'HHA, Nursing, PT, Physical Therapy, RN'
[00:08:30] ✅ Patient name cross-validation successful
[00:08:30] ✅    ✅ Data merged successfully
[00:08:31] ✅    ✅ Order data extracted and validated
[00:08:31] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:08:31] [DOC: 9255698] ✅ Patient found in local cache: Patricia Vincent, ID: b62e589a-7142-4c79-b2f8-94d5918e5d7a
[00:08:31] ✅    ✅ Existing patient found with ID: b62e589a-7142-4c79-b2f8-94d5918e5d7a
[00:08:31] 🔄 
🔄 Step 6: Pushing order to API...
[00:08:31] [DOC: 9255698] ℹ️  Pushing order via API for patient ID: b62e589a-7142-4c79-b2f8-94d5918e5d7a
[00:08:32] [DOC: 9255698] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:08:32] ❌    ❌ Failed to push order
[00:08:32] 🔄 
🔄 Step 7: Writing to CSV...
[00:08:32] [DOC: 9255698] ℹ️  Calculated age: 86 from DOB: 08/29/1938
[00:08:32] [DOC: 9255698] ℹ️  Service Line extracted: 'HHA, Nursing, PT, Physical Therapy, RN'
[00:08:32] [DOC: 9255698] ℹ️  Payer Source extracted: ''
[00:08:32] [DOC: 9255698] ℹ️  Diagnosis codes being written:
[00:08:32] [DOC: 9255698] ℹ️    - Latest_Episode_Firstdiagnosis: 'I13.0'
[00:08:32] [DOC: 9255698] ℹ️    - Latest_Episode_Seconddiagnosis: 'I50.23'
[00:08:32] [DOC: 9255698] ℹ️    - Latest_Episode_Thirddiagnosis: 'E11.22'
[00:08:32] [DOC: 9255698] ℹ️    - Latest_Episode_Fourthdiagnosis: 'N18.32'
[00:08:32] [DOC: 9255698] ℹ️    - Latest_Episode_Fifthdiagnosis: 'E11.42'
[00:08:32] [DOC: 9255698] ℹ️    - Latest_Episode_Sixthdiagnosis: 'I48.91'
[00:08:32] [DOC: 9255698] ✅ Patient data written to CSV: Patricia Vincent | Sex: FEMALE | Age: 86 | Service: HHA, Nursing, PT, Physical Therapy, RN | Payer:  | MRN: 1821
[00:08:32] ✅    ✅ Document 9255698 processed and saved successfully
[00:08:32] 🔄 
🔄 Step 8: Saving API details...
[00:08:32] [DOC: 9255698] ℹ️  API push details saved for document 9255698
[00:08:32] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9255660                         ║
================================================================================
[00:08:32] ℹ️  Agency: Dartmouth HH
[00:08:32] ℹ️  Date: 04/23/2025
[00:08:32] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:08:34] [DOC: 9255660] ✅ Text extracted using pdfplumber (6260 chars)
[00:08:34] ✅    ✅ Text extracted using pdfplumber (6260 chars)
[00:08:34] 🔄 
🔄 Step 2: Extracting patient data...
[00:08:37] ℹ️  AI extracted raw sex value: 'M'
[00:08:37] ℹ️  AI extracted service line: 'Occupational Therapy, Skilled Nursing'
[00:08:37] ℹ️  AI extracted payer source: 'Aetna- Mcare'
[00:08:37] ℹ️  AI extracted diagnoses:
[00:08:37] ℹ️    - Diagnosis 1: ''
[00:08:37] ℹ️    - Diagnosis 2: ''
[00:08:37] ℹ️    - Diagnosis 3: ''
[00:08:37] ℹ️    - Diagnosis 4: ''
[00:08:37] ℹ️    - Diagnosis 5: ''
[00:08:37] ℹ️    - Diagnosis 6: ''
[00:08:37] ℹ️  Final extracted MRN: '5736011'
[00:08:37] ℹ️  Final extracted Sex: 'MALE'
[00:08:37] ℹ️  Final extracted Service Line: 'Occupational Therapy, Skilled Nursing'
[00:08:37] ℹ️  Final extracted Payer Source: 'Aetna- Mcare'
[00:08:37] ✅ Patient data extraction completed successfully
[00:08:37] ✅    ✅ Patient data extracted successfully
[00:08:37] 📊 Patient Response
     └─ patientFName: William
     └─ patientLName: Bruno
     └─ dob: 02/19/1934
     └─ patientSex: MALE
     └─ medicalRecordNo: 5736011
     └─ billingProvider: Community Nurse Inc
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ email: 
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Occupational Therapy, Skilled Nursing
     └─ payorSource: Aetna- Mcare
     └─ episodeDiagnoses: [{'startOfCare': '04/08/2025', 'startOfEpisode': '04/08/2025', 'endOfEpisode': '06/06/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:08:37] ✅    ✅ Patient identified: William Bruno
[00:08:37] ✅    ✅ Patient name validation passed
[00:08:37] 🔄 
🔄 Step 3: Processing patient dates...
[00:08:37] [DOC: 9255660] ℹ️  DOB normalized: 02/19/1934
[00:08:37] [DOC: 9255660] ℹ️  Episode startOfCare normalized: 04/08/2025
[00:08:37] [DOC: 9255660] ℹ️  Episode startOfEpisode normalized: 04/08/2025
[00:08:37] [DOC: 9255660] ℹ️  Episode endOfEpisode normalized: 06/06/2025
[00:08:37] [DOC: 9255660] ✅ Patient date processing completed successfully
[00:08:37] ✅    ✅ Date processing completed
[00:08:37] 📊 Processed Patient Data
     └─ patientFName: William
     └─ patientLName: Bruno
     └─ dob: 02/19/1934
     └─ patientSex: MALE
     └─ medicalRecordNo: 5736011
     └─ billingProvider: Community Nurse Inc
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ email: 
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Occupational Therapy, Skilled Nursing
     └─ payorSource: Aetna- Mcare
     └─ episodeDiagnoses: [{'startOfCare': '04/08/2025', 'startOfEpisode': '04/08/2025', 'endOfEpisode': '06/06/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:08:37] 🔄 
🔄 Step 4: Extracting order data...
[00:08:40] ℹ️  Order extraction - MRN: ''
[00:08:40] ℹ️  Order extraction - Sex: 'MALE'
[00:08:40] ℹ️  Order extraction - Service Line: 'OT'
[00:08:40] ℹ️  Order extraction - Payer Source: 'Aetna- Mcare'
[00:08:40] ✅ Order data extraction completed successfully
[00:08:40] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:08:40] ℹ️  Using MRN from patient data: '5736011'
[00:08:40] ℹ️  Combined service lines: Patient='Occupational Therapy, Skilled Nursing' + Order='OT' = 'OT, Occupational Therapy, Skilled Nursing'
[00:08:40] ℹ️  Payer source consistent in both sources: 'Aetna- Mcare'
[00:08:40] ✅ Patient name cross-validation successful
[00:08:40] ✅    ✅ Data merged successfully
[00:08:41] ✅    ✅ Order data extracted and validated
[00:08:41] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:08:41] [DOC: 9255660] ✅ Patient found in local cache: William Bruno, ID: 703d60f5-098a-47bf-88d3-5bcf6865311e
[00:08:41] ✅    ✅ Existing patient found with ID: 703d60f5-098a-47bf-88d3-5bcf6865311e
[00:08:41] 🔄 
🔄 Step 6: Pushing order to API...
[00:08:41] [DOC: 9255660] ℹ️  Pushing order via API for patient ID: 703d60f5-098a-47bf-88d3-5bcf6865311e
[00:08:42] [DOC: 9255660] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:08:42] ❌    ❌ Failed to push order
[00:08:42] 🔄 
🔄 Step 7: Writing to CSV...
[00:08:42] [DOC: 9255660] ℹ️  Calculated age: 91 from DOB: 02/19/1934
[00:08:42] [DOC: 9255660] ℹ️  Service Line extracted: 'OT, Occupational Therapy, Skilled Nursing'
[00:08:42] [DOC: 9255660] ℹ️  Payer Source extracted: 'Aetna- Mcare'
[00:08:42] [DOC: 9255660] ℹ️  Diagnosis codes being written:
[00:08:42] [DOC: 9255660] ℹ️    - Latest_Episode_Firstdiagnosis: ''
[00:08:42] [DOC: 9255660] ℹ️    - Latest_Episode_Seconddiagnosis: ''
[00:08:42] [DOC: 9255660] ℹ️    - Latest_Episode_Thirddiagnosis: ''
[00:08:42] [DOC: 9255660] ℹ️    - Latest_Episode_Fourthdiagnosis: ''
[00:08:42] [DOC: 9255660] ℹ️    - Latest_Episode_Fifthdiagnosis: ''
[00:08:42] [DOC: 9255660] ℹ️    - Latest_Episode_Sixthdiagnosis: ''
[00:08:42] [DOC: 9255660] ✅ Patient data written to CSV: William Bruno | Sex: MALE | Age: 91 | Service: OT, Occupational Therapy, Skilled Nursing | Payer: Aetna- Mcare | MRN: 5736011
[00:08:42] ✅    ✅ Document 9255660 processed and saved successfully
[00:08:42] 🔄 
🔄 Step 8: Saving API details...
[00:08:42] [DOC: 9255660] ℹ️  API push details saved for document 9255660
[00:08:42] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9255658                         ║
================================================================================
[00:08:42] ℹ️  Agency: Dartmouth HH
[00:08:42] ℹ️  Date: 04/23/2025
[00:08:42] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:08:45] [DOC: 9255658] ✅ Text extracted using pdfplumber (20084 chars)
[00:08:45] ✅    ✅ Text extracted using pdfplumber (20072 chars)
[00:08:45] 🔄 
🔄 Step 2: Extracting patient data...
[00:08:48] ℹ️  AI extracted raw sex value: 'M'
[00:08:48] ℹ️  AI extracted service line: 'Skilled Nursing, PT, OT'
[00:08:48] ℹ️  AI extracted payer source: 'None'
[00:08:48] ℹ️  AI extracted diagnoses:
[00:08:48] ℹ️    - Diagnosis 1: 'J84.10'
[00:08:48] ℹ️    - Diagnosis 2: 'J47.9'
[00:08:48] ℹ️    - Diagnosis 3: 'G47.33'
[00:08:48] ℹ️    - Diagnosis 4: 'Z99.81'
[00:08:48] ℹ️    - Diagnosis 5: 'I10'
[00:08:48] ℹ️    - Diagnosis 6: 'I06.9'
[00:08:48] ℹ️  Final extracted MRN: '5736011'
[00:08:48] ℹ️  Final extracted Sex: 'MALE'
[00:08:48] ℹ️  Final extracted Service Line: 'Skilled Nursing, PT, OT'
[00:08:48] ℹ️  Final extracted Payer Source: ''
[00:08:48] ✅ Patient data extraction completed successfully
[00:08:48] ✅    ✅ Patient data extracted successfully
[00:08:48] 📊 Patient Response
     └─ patientFName: William
     └─ patientLName: Bruno
     └─ dob: 02/19/1934
     └─ patientSex: MALE
     └─ medicalRecordNo: 5736011
     └─ billingProvider: Community Nurse Inc
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ email: None
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Skilled Nursing, PT, OT
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '04/08/2025', 'startOfEpisode': '04/08/2025', 'endOfEpisode': '06/06/2025', 'firstDiagnosis': 'J84.10', 'secondDiagnosis': 'J47.9', 'thirdDiagnosis': 'G47.33', 'fourthDiagnosis': 'Z99.81', 'fifthDiagnosis': 'I10', 'sixthDiagnosis': 'I06.9'}]
[00:08:48] ✅    ✅ Patient identified: William Bruno
[00:08:48] ✅    ✅ Patient name validation passed
[00:08:48] 🔄 
🔄 Step 3: Processing patient dates...
[00:08:48] [DOC: 9255658] ℹ️  DOB normalized: 02/19/1934
[00:08:48] [DOC: 9255658] ℹ️  Episode startOfCare normalized: 04/08/2025
[00:08:48] [DOC: 9255658] ℹ️  Episode startOfEpisode normalized: 04/08/2025
[00:08:48] [DOC: 9255658] ℹ️  Episode endOfEpisode normalized: 06/06/2025
[00:08:48] [DOC: 9255658] ✅ Patient date processing completed successfully
[00:08:48] ✅    ✅ Date processing completed
[00:08:48] 📊 Processed Patient Data
     └─ patientFName: William
     └─ patientLName: Bruno
     └─ dob: 02/19/1934
     └─ patientSex: MALE
     └─ medicalRecordNo: 5736011
     └─ billingProvider: Community Nurse Inc
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Skilled Nursing, PT, OT
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '04/08/2025', 'startOfEpisode': '04/08/2025', 'endOfEpisode': '06/06/2025', 'firstDiagnosis': 'J84.10', 'secondDiagnosis': 'J47.9', 'thirdDiagnosis': 'G47.33', 'fourthDiagnosis': 'Z99.81', 'fifthDiagnosis': 'I10', 'sixthDiagnosis': 'I06.9'}]
[00:08:48] 🔄 
🔄 Step 4: Extracting order data...
[00:08:51] ℹ️  Order extraction - MRN: '5736011'
[00:08:51] ℹ️  Order extraction - Sex: 'MALE'
[00:08:51] ℹ️  Order extraction - Service Line: 'Skilled Nursing, PT, OT'
[00:08:51] ℹ️  Order extraction - Payer Source: ''
[00:08:51] ✅ Order data extraction completed successfully
[00:08:51] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:08:51] ℹ️  Using MRN from patient data: '5736011' over '5736011'
[00:08:51] ℹ️  Service line consistent in both sources: 'Skilled Nursing, PT, OT'
[00:08:51] ✅ Patient name cross-validation successful
[00:08:51] ✅    ✅ Data merged successfully
[00:08:52] ✅    ✅ Order data extracted and validated
[00:08:52] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:08:52] [DOC: 9255658] ✅ Patient found in local cache: William Bruno, ID: 703d60f5-098a-47bf-88d3-5bcf6865311e
[00:08:52] ✅    ✅ Existing patient found with ID: 703d60f5-098a-47bf-88d3-5bcf6865311e
[00:08:52] 🔄 
🔄 Step 6: Pushing order to API...
[00:08:52] [DOC: 9255658] ℹ️  Pushing order via API for patient ID: 703d60f5-098a-47bf-88d3-5bcf6865311e
[00:08:53] [DOC: 9255658] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:08:53] ❌    ❌ Failed to push order
[00:08:53] 🔄 
🔄 Step 7: Writing to CSV...
[00:08:53] [DOC: 9255658] ℹ️  Calculated age: 91 from DOB: 02/19/1934
[00:08:53] [DOC: 9255658] ℹ️  Service Line extracted: 'Skilled Nursing, PT, OT'
[00:08:53] [DOC: 9255658] ℹ️  Payer Source extracted: ''
[00:08:53] [DOC: 9255658] ℹ️  Diagnosis codes being written:
[00:08:53] [DOC: 9255658] ℹ️    - Latest_Episode_Firstdiagnosis: 'J84.10'
[00:08:53] [DOC: 9255658] ℹ️    - Latest_Episode_Seconddiagnosis: 'J47.9'
[00:08:53] [DOC: 9255658] ℹ️    - Latest_Episode_Thirddiagnosis: 'G47.33'
[00:08:53] [DOC: 9255658] ℹ️    - Latest_Episode_Fourthdiagnosis: 'Z99.81'
[00:08:53] [DOC: 9255658] ℹ️    - Latest_Episode_Fifthdiagnosis: 'I10'
[00:08:53] [DOC: 9255658] ℹ️    - Latest_Episode_Sixthdiagnosis: 'I06.9'
[00:08:53] [DOC: 9255658] ✅ Patient data written to CSV: William Bruno | Sex: MALE | Age: 91 | Service: Skilled Nursing, PT, OT | Payer:  | MRN: 5736011
[00:08:53] ✅    ✅ Document 9255658 processed and saved successfully
[00:08:53] 🔄 
🔄 Step 8: Saving API details...
[00:08:53] [DOC: 9255658] ℹ️  API push details saved for document 9255658
[00:08:53] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9255655                         ║
================================================================================
[00:08:53] ℹ️  Agency: Dartmouth HH
[00:08:53] ℹ️  Date: 04/23/2025
[00:08:53] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:08:55] [DOC: 9255655] ✅ Text extracted using pdfplumber (1616 chars)
[00:08:55] ✅    ✅ Text extracted using pdfplumber (1616 chars)
[00:08:55] 🔄 
🔄 Step 2: Extracting patient data...
[00:08:58] ℹ️  AI extracted raw sex value: 'M'
[00:08:58] ℹ️  AI extracted service line: 'Skilled Nursing'
[00:08:58] ℹ️  AI extracted payer source: 'Medicare'
[00:08:58] ℹ️  AI extracted diagnoses:
[00:08:58] ℹ️    - Diagnosis 1: 'N39.0'
[00:08:58] ℹ️    - Diagnosis 2: 'I12.9'
[00:08:58] ℹ️    - Diagnosis 3: 'E11.22'
[00:08:58] ℹ️    - Diagnosis 4: 'N18.32'
[00:08:58] ℹ️    - Diagnosis 5: 'R53.1'
[00:08:58] ℹ️    - Diagnosis 6: ''
[00:08:58] ℹ️  Final extracted MRN: '6570009'
[00:08:58] ℹ️  Final extracted Sex: 'MALE'
[00:08:58] ℹ️  Final extracted Service Line: 'Skilled Nursing'
[00:08:58] ℹ️  Final extracted Payer Source: 'Medicare'
[00:08:58] ✅ Patient data extraction completed successfully
[00:08:58] ✅    ✅ Patient data extracted successfully
[00:08:58] 📊 Patient Response
     └─ patientFName: James
     └─ patientLName: Wood
     └─ dob: 01/29/1944
     └─ patientSex: MALE
     └─ medicalRecordNo: 6570009
     └─ billingProvider: Hawthorn Medical Associates
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ email: 
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Skilled Nursing
     └─ payorSource: Medicare
     └─ episodeDiagnoses: [{'startOfCare': '10/29/2024', 'startOfEpisode': '04/17/2025', 'endOfEpisode': '04/26/2025', 'firstDiagnosis': 'N39.0', 'secondDiagnosis': 'I12.9', 'thirdDiagnosis': 'E11.22', 'fourthDiagnosis': 'N18.32', 'fifthDiagnosis': 'R53.1', 'sixthDiagnosis': ''}]
[00:08:58] ✅    ✅ Patient identified: James Wood
[00:08:58] ✅    ✅ Patient name validation passed
[00:08:58] 🔄 
🔄 Step 3: Processing patient dates...
[00:08:58] [DOC: 9255655] ℹ️  DOB normalized: 01/29/1944
[00:08:58] [DOC: 9255655] ℹ️  Episode startOfCare normalized: 10/29/2024
[00:08:58] [DOC: 9255655] ℹ️  Episode startOfEpisode normalized: 04/17/2025
[00:08:58] [DOC: 9255655] ℹ️  Episode endOfEpisode normalized: 04/26/2025
[00:08:58] [DOC: 9255655] ✅ Patient date processing completed successfully
[00:08:58] ✅    ✅ Date processing completed
[00:08:58] 📊 Processed Patient Data
     └─ patientFName: James
     └─ patientLName: Wood
     └─ dob: 01/29/1944
     └─ patientSex: MALE
     └─ medicalRecordNo: 6570009
     └─ billingProvider: Hawthorn Medical Associates
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ email: 
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Skilled Nursing
     └─ payorSource: Medicare
     └─ episodeDiagnoses: [{'startOfCare': '10/29/2024', 'startOfEpisode': '04/17/2025', 'endOfEpisode': '04/26/2025', 'firstDiagnosis': 'N39.0', 'secondDiagnosis': 'I12.9', 'thirdDiagnosis': 'E11.22', 'fourthDiagnosis': 'N18.32', 'fifthDiagnosis': 'R53.1', 'sixthDiagnosis': ''}]
[00:08:58] 🔄 
🔄 Step 4: Extracting order data...
[00:09:00] ℹ️  Order extraction - MRN: ''
[00:09:00] ℹ️  Order extraction - Sex: 'MALE'
[00:09:00] ℹ️  Order extraction - Service Line: 'Skilled Nursing'
[00:09:00] ℹ️  Order extraction - Payer Source: 'Medicare'
[00:09:00] ✅ Order data extraction completed successfully
[00:09:00] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:09:00] ℹ️  Using MRN from patient data: '6570009'
[00:09:00] ℹ️  Service line consistent in both sources: 'Skilled Nursing'
[00:09:00] ℹ️  Payer source consistent in both sources: 'Medicare'
[00:09:00] ✅ Patient name cross-validation successful
[00:09:00] ✅    ✅ Data merged successfully
[00:09:02] ✅    ✅ Order data extracted and validated
[00:09:02] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:09:02] [DOC: 9255655] ✅ Patient found in local cache: James Wood, ID: b532915a-79b5-4b9d-9458-683e03933774
[00:09:02] ✅    ✅ Existing patient found with ID: b532915a-79b5-4b9d-9458-683e03933774
[00:09:02] 🔄 
🔄 Step 6: Pushing order to API...
[00:09:02] [DOC: 9255655] ℹ️  Pushing order via API for patient ID: b532915a-79b5-4b9d-9458-683e03933774
[00:09:03] [DOC: 9255655] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:09:03] ❌    ❌ Failed to push order
[00:09:03] 🔄 
🔄 Step 7: Writing to CSV...
[00:09:03] [DOC: 9255655] ℹ️  Calculated age: 81 from DOB: 01/29/1944
[00:09:03] [DOC: 9255655] ℹ️  Service Line extracted: 'Skilled Nursing'
[00:09:03] [DOC: 9255655] ℹ️  Payer Source extracted: 'Medicare'
[00:09:03] [DOC: 9255655] ℹ️  Diagnosis codes being written:
[00:09:03] [DOC: 9255655] ℹ️    - Latest_Episode_Firstdiagnosis: 'N39.0'
[00:09:03] [DOC: 9255655] ℹ️    - Latest_Episode_Seconddiagnosis: 'I12.9'
[00:09:03] [DOC: 9255655] ℹ️    - Latest_Episode_Thirddiagnosis: 'E11.22'
[00:09:03] [DOC: 9255655] ℹ️    - Latest_Episode_Fourthdiagnosis: 'N18.32'
[00:09:03] [DOC: 9255655] ℹ️    - Latest_Episode_Fifthdiagnosis: 'R53.1'
[00:09:03] [DOC: 9255655] ℹ️    - Latest_Episode_Sixthdiagnosis: ''
[00:09:03] [DOC: 9255655] ✅ Patient data written to CSV: James Wood | Sex: MALE | Age: 81 | Service: Skilled Nursing | Payer: Medicare | MRN: 6570009
[00:09:03] ✅    ✅ Document 9255655 processed and saved successfully
[00:09:03] 🔄 
🔄 Step 8: Saving API details...
[00:09:03] [DOC: 9255655] ℹ️  API push details saved for document 9255655
[00:09:03] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9255654                         ║
================================================================================
[00:09:03] ℹ️  Agency: Dartmouth HH
[00:09:03] ℹ️  Date: 04/23/2025
[00:09:03] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:09:05] [DOC: 9255654] ✅ Text extracted using pdfplumber (9795 chars)
[00:09:05] ✅    ✅ Text extracted using pdfplumber (9795 chars)
[00:09:05] 🔄 
🔄 Step 2: Extracting patient data...
[00:09:08] ℹ️  AI extracted raw sex value: 'M'
[00:09:08] ℹ️  AI extracted service line: 'Skilled Nursing'
[00:09:08] ℹ️  AI extracted payer source: 'Blue Cross Blue Shield'
[00:09:08] ℹ️  AI extracted diagnoses:
[00:09:08] ℹ️    - Diagnosis 1: 'I12.9'
[00:09:08] ℹ️    - Diagnosis 2: 'N18.9'
[00:09:08] ℹ️    - Diagnosis 3: 'N17.9'
[00:09:08] ℹ️    - Diagnosis 4: ''
[00:09:08] ℹ️    - Diagnosis 5: ''
[00:09:08] ℹ️    - Diagnosis 6: ''
[00:09:08] ℹ️  Final extracted MRN: '6348015'
[00:09:08] ℹ️  Final extracted Sex: 'MALE'
[00:09:08] ℹ️  Final extracted Service Line: 'Skilled Nursing'
[00:09:08] ℹ️  Final extracted Payer Source: 'Blue Cross Blue Shield'
[00:09:08] ✅ Patient data extraction completed successfully
[00:09:08] ✅    ✅ Patient data extracted successfully
[00:09:08] 📊 Patient Response
     └─ patientFName: David
     └─ patientLName: Teixeira
     └─ dob: 12/29/1956
     └─ patientSex: MALE
     └─ medicalRecordNo: 6348015
     └─ billingProvider: Hawthorn Medical Associates
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ email: 
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Skilled Nursing
     └─ payorSource: Blue Cross Blue Shield
     └─ episodeDiagnoses: [{'startOfCare': '04/08/2025', 'startOfEpisode': '04/08/2025', 'endOfEpisode': '06/06/2025', 'firstDiagnosis': 'I12.9', 'secondDiagnosis': 'N18.9', 'thirdDiagnosis': 'N17.9', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:09:08] ✅    ✅ Patient identified: David Teixeira
[00:09:08] ✅    ✅ Patient name validation passed
[00:09:08] 🔄 
🔄 Step 3: Processing patient dates...
[00:09:08] [DOC: 9255654] ℹ️  DOB normalized: 12/29/1956
[00:09:08] [DOC: 9255654] ℹ️  Episode startOfCare normalized: 04/08/2025
[00:09:08] [DOC: 9255654] ℹ️  Episode startOfEpisode normalized: 04/08/2025
[00:09:08] [DOC: 9255654] ℹ️  Episode endOfEpisode normalized: 06/06/2025
[00:09:08] [DOC: 9255654] ✅ Patient date processing completed successfully
[00:09:08] ✅    ✅ Date processing completed
[00:09:08] 📊 Processed Patient Data
     └─ patientFName: David
     └─ patientLName: Teixeira
     └─ dob: 12/29/1956
     └─ patientSex: MALE
     └─ medicalRecordNo: 6348015
     └─ billingProvider: Hawthorn Medical Associates
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ email: 
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Skilled Nursing
     └─ payorSource: Blue Cross Blue Shield
     └─ episodeDiagnoses: [{'startOfCare': '04/08/2025', 'startOfEpisode': '04/08/2025', 'endOfEpisode': '06/06/2025', 'firstDiagnosis': 'I12.9', 'secondDiagnosis': 'N18.9', 'thirdDiagnosis': 'N17.9', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:09:08] 🔄 
🔄 Step 4: Extracting order data...
[00:09:11] ℹ️  Order extraction - MRN: '6348015'
[00:09:11] ℹ️  Order extraction - Sex: 'MALE'
[00:09:11] ℹ️  Order extraction - Service Line: 'Skilled Nursing'
[00:09:11] ℹ️  Order extraction - Payer Source: 'Blue Cross Blue Shield'
[00:09:11] ✅ Order data extraction completed successfully
[00:09:11] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:09:11] ℹ️  Using MRN from patient data: '6348015' over '6348015'
[00:09:11] ℹ️  Service line consistent in both sources: 'Skilled Nursing'
[00:09:11] ℹ️  Payer source consistent in both sources: 'Blue Cross Blue Shield'
[00:09:11] ✅ Patient name cross-validation successful
[00:09:11] ✅    ✅ Data merged successfully
[00:09:12] ✅    ✅ Order data extracted and validated
[00:09:12] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:09:12] [DOC: 9255654] ✅ Patient found in local cache: David Teixeira, ID: 92d56142-8dce-415a-ac6f-6020de943b51
[00:09:12] ✅    ✅ Existing patient found with ID: 92d56142-8dce-415a-ac6f-6020de943b51
[00:09:12] 🔄 
🔄 Step 6: Pushing order to API...
[00:09:12] [DOC: 9255654] ℹ️  Pushing order via API for patient ID: 92d56142-8dce-415a-ac6f-6020de943b51
[00:09:13] [DOC: 9255654] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:09:13] ❌    ❌ Failed to push order
[00:09:13] 🔄 
🔄 Step 7: Writing to CSV...
[00:09:13] [DOC: 9255654] ℹ️  Calculated age: 68 from DOB: 12/29/1956
[00:09:13] [DOC: 9255654] ℹ️  Service Line extracted: 'Skilled Nursing'
[00:09:13] [DOC: 9255654] ℹ️  Payer Source extracted: 'Blue Cross Blue Shield'
[00:09:13] [DOC: 9255654] ℹ️  Diagnosis codes being written:
[00:09:13] [DOC: 9255654] ℹ️    - Latest_Episode_Firstdiagnosis: 'I12.9'
[00:09:13] [DOC: 9255654] ℹ️    - Latest_Episode_Seconddiagnosis: 'N18.9'
[00:09:13] [DOC: 9255654] ℹ️    - Latest_Episode_Thirddiagnosis: 'N17.9'
[00:09:13] [DOC: 9255654] ℹ️    - Latest_Episode_Fourthdiagnosis: ''
[00:09:13] [DOC: 9255654] ℹ️    - Latest_Episode_Fifthdiagnosis: ''
[00:09:13] [DOC: 9255654] ℹ️    - Latest_Episode_Sixthdiagnosis: ''
[00:09:13] [DOC: 9255654] ✅ Patient data written to CSV: David Teixeira | Sex: MALE | Age: 68 | Service: Skilled Nursing | Payer: Blue Cross Blue Shield | MRN: 6348015
[00:09:13] ✅    ✅ Document 9255654 processed and saved successfully
[00:09:13] 🔄 
🔄 Step 8: Saving API details...
[00:09:13] [DOC: 9255654] ℹ️  API push details saved for document 9255654
[00:09:13] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9255649                         ║
================================================================================
[00:09:13] ℹ️  Agency: Dartmouth HH
[00:09:13] ℹ️  Date: 04/23/2025
[00:09:13] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:09:15] [DOC: 9255649] ✅ Text extracted using pdfplumber (10377 chars)
[00:09:15] ✅    ✅ Text extracted using pdfplumber (10377 chars)
[00:09:15] 🔄 
🔄 Step 2: Extracting patient data...
[00:09:19] ℹ️  AI extracted raw sex value: 'F'
[00:09:19] ℹ️  AI extracted service line: 'Skilled Nursing, Physical Therapy'
[00:09:19] ℹ️  AI extracted payer source: ''
[00:09:19] ℹ️  AI extracted diagnoses:
[00:09:19] ℹ️    - Diagnosis 1: 'T81.31XD'
[00:09:19] ℹ️    - Diagnosis 2: 'M47.27'
[00:09:19] ℹ️    - Diagnosis 3: 'F17.200'
[00:09:19] ℹ️    - Diagnosis 4: 'E66.3'
[00:09:19] ℹ️    - Diagnosis 5: 'Z68.26'
[00:09:19] ℹ️    - Diagnosis 6: 'Z79.01'
[00:09:19] ℹ️  Final extracted MRN: '227027'
[00:09:19] ℹ️  Final extracted Sex: 'FEMALE'
[00:09:19] ℹ️  Final extracted Service Line: 'Skilled Nursing, Physical Therapy'
[00:09:19] ℹ️  Final extracted Payer Source: ''
[00:09:19] ✅ Patient data extraction completed successfully
[00:09:19] ✅    ✅ Patient data extracted successfully
[00:09:19] 📊 Patient Response
     └─ patientFName: Frances
     └─ patientLName: Gomes
     └─ dob: 04/01/1971
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 227027
     └─ billingProvider: Community Nurse Inc
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ email: 
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Skilled Nursing, Physical Therapy
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '02/12/2025', 'startOfEpisode': '04/13/2025', 'endOfEpisode': '06/11/2025', 'firstDiagnosis': 'T81.31XD', 'secondDiagnosis': 'M47.27', 'thirdDiagnosis': 'F17.200', 'fourthDiagnosis': 'E66.3', 'fifthDiagnosis': 'Z68.26', 'sixthDiagnosis': 'Z79.01'}]
[00:09:19] ✅    ✅ Patient identified: Frances Gomes
[00:09:19] ✅    ✅ Patient name validation passed
[00:09:19] 🔄 
🔄 Step 3: Processing patient dates...
[00:09:19] [DOC: 9255649] ℹ️  DOB normalized: 04/01/1971
[00:09:19] [DOC: 9255649] ℹ️  Episode startOfCare normalized: 02/12/2025
[00:09:19] [DOC: 9255649] ℹ️  Episode startOfEpisode normalized: 04/13/2025
[00:09:19] [DOC: 9255649] ℹ️  Episode endOfEpisode normalized: 06/11/2025
[00:09:19] [DOC: 9255649] ✅ Patient date processing completed successfully
[00:09:19] ✅    ✅ Date processing completed
[00:09:19] 📊 Processed Patient Data
     └─ patientFName: Frances
     └─ patientLName: Gomes
     └─ dob: 04/01/1971
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 227027
     └─ billingProvider: Community Nurse Inc
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ email: 
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: Skilled Nursing, Physical Therapy
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '02/12/2025', 'startOfEpisode': '04/13/2025', 'endOfEpisode': '06/11/2025', 'firstDiagnosis': 'T81.31XD', 'secondDiagnosis': 'M47.27', 'thirdDiagnosis': 'F17.200', 'fourthDiagnosis': 'E66.3', 'fifthDiagnosis': 'Z68.26', 'sixthDiagnosis': 'Z79.01'}]
[00:09:19] 🔄 
🔄 Step 4: Extracting order data...
[00:09:21] ℹ️  Order extraction - MRN: '227027'
[00:09:21] ℹ️  Order extraction - Sex: 'FEMALE'
[00:09:21] ℹ️  Order extraction - Service Line: 'Skilled Nursing, Physical Therapy'
[00:09:21] ℹ️  Order extraction - Payer Source: ''
[00:09:21] ✅ Order data extraction completed successfully
[00:09:21] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:09:21] ℹ️  Using MRN from patient data: '227027' over '227027'
[00:09:21] ℹ️  Service line consistent in both sources: 'Skilled Nursing, Physical Therapy'
[00:09:21] ✅ Patient name cross-validation successful
[00:09:21] ✅    ✅ Data merged successfully
[00:09:23] ✅    ✅ Order data extracted and validated
[00:09:23] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:09:23] [DOC: 9255649] ✅ Patient found in local cache: Frances Gomes, ID: e68ddb08-1807-4e0d-88ed-5dfd0868c13b
[00:09:23] ✅    ✅ Existing patient found with ID: e68ddb08-1807-4e0d-88ed-5dfd0868c13b
[00:09:23] 🔄 
🔄 Step 6: Pushing order to API...
[00:09:23] [DOC: 9255649] ℹ️  Pushing order via API for patient ID: e68ddb08-1807-4e0d-88ed-5dfd0868c13b
[00:09:24] [DOC: 9255649] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:09:24] ❌    ❌ Failed to push order
[00:09:24] 🔄 
🔄 Step 7: Writing to CSV...
[00:09:24] [DOC: 9255649] ℹ️  Calculated age: 54 from DOB: 04/01/1971
[00:09:24] [DOC: 9255649] ℹ️  Service Line extracted: 'Skilled Nursing, Physical Therapy'
[00:09:24] [DOC: 9255649] ℹ️  Payer Source extracted: ''
[00:09:24] [DOC: 9255649] ℹ️  Diagnosis codes being written:
[00:09:24] [DOC: 9255649] ℹ️    - Latest_Episode_Firstdiagnosis: 'T81.31XD'
[00:09:24] [DOC: 9255649] ℹ️    - Latest_Episode_Seconddiagnosis: 'M47.27'
[00:09:24] [DOC: 9255649] ℹ️    - Latest_Episode_Thirddiagnosis: 'F17.200'
[00:09:24] [DOC: 9255649] ℹ️    - Latest_Episode_Fourthdiagnosis: 'E66.3'
[00:09:24] [DOC: 9255649] ℹ️    - Latest_Episode_Fifthdiagnosis: 'Z68.26'
[00:09:24] [DOC: 9255649] ℹ️    - Latest_Episode_Sixthdiagnosis: 'Z79.01'
[00:09:24] [DOC: 9255649] ✅ Patient data written to CSV: Frances Gomes | Sex: FEMALE | Age: 54 | Service: Skilled Nursing, Physical Therapy | Payer:  | MRN: 227027
[00:09:24] ✅    ✅ Document 9255649 processed and saved successfully
[00:09:24] 🔄 
🔄 Step 8: Saving API details...
[00:09:24] [DOC: 9255649] ℹ️  API push details saved for document 9255649
[00:09:24] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9255638                         ║
================================================================================
[00:09:24] ℹ️  Agency: Dartmouth HH
[00:09:24] ℹ️  Date: 04/23/2025
[00:09:24] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:09:27] [DOC: 9255638] ✅ Text extracted using pdfplumber (15057 chars)
[00:09:27] ✅    ✅ Text extracted using pdfplumber (15057 chars)
[00:09:27] 🔄 
🔄 Step 2: Extracting patient data...
[00:09:30] ℹ️  AI extracted raw sex value: 'M'
[00:09:30] ℹ️  AI extracted service line: 'PT, RN'
[00:09:30] ℹ️  AI extracted payer source: 'None'
[00:09:30] ℹ️  AI extracted diagnoses:
[00:09:30] ℹ️    - Diagnosis 1: 'M47.817'
[00:09:30] ℹ️    - Diagnosis 2: 'M48.061'
[00:09:30] ℹ️    - Diagnosis 3: 'M19.90'
[00:09:30] ℹ️    - Diagnosis 4: 'E66.9'
[00:09:30] ℹ️    - Diagnosis 5: 'Z68.30'
[00:09:30] ℹ️    - Diagnosis 6: 'I11.0'
[00:09:30] ℹ️  Final extracted MRN: '4212011'
[00:09:30] ℹ️  Final extracted Sex: 'MALE'
[00:09:30] ℹ️  Final extracted Service Line: 'PT, RN'
[00:09:30] ℹ️  Final extracted Payer Source: ''
[00:09:30] ✅ Patient data extraction completed successfully
[00:09:30] ✅    ✅ Patient data extracted successfully
[00:09:30] 📊 Patient Response
     └─ patientFName: Joaquim
     └─ patientLName: Laranjeira
     └─ dob: 03/06/1952
     └─ patientSex: MALE
     └─ medicalRecordNo: 4212011
     └─ billingProvider: Hawthorn Medical Associates
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ email: None
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: PT, RN
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '04/18/2025', 'startOfEpisode': '04/18/2025', 'endOfEpisode': '06/16/2025', 'firstDiagnosis': 'M47.817', 'secondDiagnosis': 'M48.061', 'thirdDiagnosis': 'M19.90', 'fourthDiagnosis': 'E66.9', 'fifthDiagnosis': 'Z68.30', 'sixthDiagnosis': 'I11.0'}]
[00:09:30] ✅    ✅ Patient identified: Joaquim Laranjeira
[00:09:30] ✅    ✅ Patient name validation passed
[00:09:30] 🔄 
🔄 Step 3: Processing patient dates...
[00:09:30] [DOC: 9255638] ℹ️  DOB normalized: 03/06/1952
[00:09:30] [DOC: 9255638] ℹ️  Episode startOfCare normalized: 04/18/2025
[00:09:30] [DOC: 9255638] ℹ️  Episode startOfEpisode normalized: 04/18/2025
[00:09:30] [DOC: 9255638] ℹ️  Episode endOfEpisode normalized: 06/16/2025
[00:09:30] [DOC: 9255638] ✅ Patient date processing completed successfully
[00:09:30] ✅    ✅ Date processing completed
[00:09:30] 📊 Processed Patient Data
     └─ patientFName: Joaquim
     └─ patientLName: Laranjeira
     └─ dob: 03/06/1952
     └─ patientSex: MALE
     └─ medicalRecordNo: 4212011
     └─ billingProvider: Hawthorn Medical Associates
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Community Nurse Inc
     └─ address: 62 Center Street
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719
     └─ phoneNumber: (508) 992-6278
     └─ serviceLine: PT, RN
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '04/18/2025', 'startOfEpisode': '04/18/2025', 'endOfEpisode': '06/16/2025', 'firstDiagnosis': 'M47.817', 'secondDiagnosis': 'M48.061', 'thirdDiagnosis': 'M19.90', 'fourthDiagnosis': 'E66.9', 'fifthDiagnosis': 'Z68.30', 'sixthDiagnosis': 'I11.0'}]
[00:09:30] 🔄 
🔄 Step 4: Extracting order data...
[00:09:33] ℹ️  Order extraction - MRN: '4212011'
[00:09:33] ℹ️  Order extraction - Sex: 'MALE'
[00:09:33] ℹ️  Order extraction - Service Line: 'PT, RN'
[00:09:33] ℹ️  Order extraction - Payer Source: ''
[00:09:33] ✅ Order data extraction completed successfully
[00:09:33] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:09:33] ℹ️  Using MRN from patient data: '4212011' over '4212011'
[00:09:33] ℹ️  Service line consistent in both sources: 'PT, RN'
[00:09:33] ✅ Patient name cross-validation successful
[00:09:33] ✅    ✅ Data merged successfully
[00:09:34] ✅    ✅ Order data extracted and validated
[00:09:34] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:09:44] [DOC: 9255638] ℹ️  Patient not found in cache or API: Joaquim Laranjeira
[00:09:44] [DOC: 9255638] ℹ️  Patient not found, creating new patient via API...
[00:09:44] [DOC: 9255638] ℹ️  Creating patient via API: Joaquim Laranjeira
[00:09:45] [DOC: 9255638] ❌ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[00:09:45] ❌    ❌ Failed to create patient
[00:09:45] [DOC: 9255638] ℹ️  API push details saved for document 9255638
================================================================================
║                        Processing Document ID: 9255635                         ║
================================================================================
[00:09:45] ℹ️  Agency: Nizhoni Health-Fall River
[00:09:45] ℹ️  Date: 04/23/2025
[00:09:45] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:09:48] [DOC: 9255635] ✅ Text extracted using pdfplumber (1642 chars)
[00:09:48] ✅    ✅ Text extracted using pdfplumber (1642 chars)
[00:09:48] 🔄 
🔄 Step 2: Extracting patient data...
[00:09:51] ℹ️  AI extracted raw sex value: 'M'
[00:09:51] ℹ️  AI extracted service line: 'HHA'
[00:09:51] ℹ️  AI extracted payer source: 'Self Pay'
[00:09:51] ℹ️  AI extracted diagnoses:
[00:09:51] ℹ️    - Diagnosis 1: ''
[00:09:51] ℹ️    - Diagnosis 2: ''
[00:09:51] ℹ️    - Diagnosis 3: ''
[00:09:51] ℹ️    - Diagnosis 4: ''
[00:09:51] ℹ️    - Diagnosis 5: ''
[00:09:51] ℹ️    - Diagnosis 6: ''
[00:09:51] ℹ️  Final extracted MRN: '3947012'
[00:09:51] ℹ️  Final extracted Sex: 'MALE'
[00:09:51] ℹ️  Final extracted Service Line: 'HHA'
[00:09:51] ℹ️  Final extracted Payer Source: 'Self Pay'
[00:09:51] ✅ Patient data extraction completed successfully
[00:09:51] ✅    ✅ Patient data extracted successfully
[00:09:51] 📊 Patient Response
     └─ patientFName: Richard
     └─ patientLName: Bartley
     └─ dob: 10/08/1962
     └─ patientSex: MALE
     └─ medicalRecordNo: 3947012
     └─ billingProvider: Innovive Health of Massachusetts LLC
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Innovive Health of Massachusetts LLC
     └─ address: 498 County Rd West
     └─ city: Wareham
     └─ state: MA
     └─ zip: 02576
     └─ email: 
     └─ phoneNumber: (617) 623-3211
     └─ serviceLine: HHA
     └─ payorSource: Self Pay
     └─ episodeDiagnoses: [{'startOfCare': '10/20/2023', 'startOfEpisode': '02/11/2025', 'endOfEpisode': '04/11/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:09:51] ✅    ✅ Patient identified: Richard Bartley
[00:09:51] ✅    ✅ Patient name validation passed
[00:09:51] 🔄 
🔄 Step 3: Processing patient dates...
[00:09:51] [DOC: 9255635] ℹ️  DOB normalized: 10/08/1962
[00:09:51] [DOC: 9255635] ℹ️  Episode startOfCare normalized: 10/20/2023
[00:09:51] [DOC: 9255635] ℹ️  Episode startOfEpisode normalized: 02/11/2025
[00:09:51] [DOC: 9255635] ℹ️  Episode endOfEpisode normalized: 04/11/2025
[00:09:51] [DOC: 9255635] ✅ Patient date processing completed successfully
[00:09:51] ✅    ✅ Date processing completed
[00:09:51] 📊 Processed Patient Data
     └─ patientFName: Richard
     └─ patientLName: Bartley
     └─ dob: 10/08/1962
     └─ patientSex: MALE
     └─ medicalRecordNo: 3947012
     └─ billingProvider: Innovive Health of Massachusetts LLC
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Innovive Health of Massachusetts LLC
     └─ address: 498 County Rd West
     └─ city: Wareham
     └─ state: MA
     └─ zip: 02576
     └─ email: 
     └─ phoneNumber: (617) 623-3211
     └─ serviceLine: HHA
     └─ payorSource: Self Pay
     └─ episodeDiagnoses: [{'startOfCare': '10/20/2023', 'startOfEpisode': '02/11/2025', 'endOfEpisode': '04/11/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:09:51] 🔄 
🔄 Step 4: Extracting order data...
[00:09:53] ℹ️  Order extraction - MRN: '3947012'
[00:09:53] ℹ️  Order extraction - Sex: 'MALE'
[00:09:53] ℹ️  Order extraction - Service Line: 'HHA'
[00:09:53] ℹ️  Order extraction - Payer Source: 'Self Pay'
[00:09:53] ✅ Order data extraction completed successfully
[00:09:53] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:09:53] ℹ️  Using MRN from patient data: '3947012' over '3947012'
[00:09:53] ℹ️  Service line consistent in both sources: 'HHA'
[00:09:53] ℹ️  Payer source consistent in both sources: 'Self Pay'
[00:09:53] ✅ Patient name cross-validation successful
[00:09:53] ✅    ✅ Data merged successfully
[00:09:54] ✅    ✅ Order data extracted and validated
[00:09:54] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:09:54] [DOC: 9255635] ✅ Patient found in local cache: Richard Bartley, ID: 92b45a6e-a736-4268-8194-cda2951c948d
[00:09:54] ✅    ✅ Existing patient found with ID: 92b45a6e-a736-4268-8194-cda2951c948d
[00:09:54] 🔄 
🔄 Step 6: Pushing order to API...
[00:09:54] [DOC: 9255635] ℹ️  Pushing order via API for patient ID: 92b45a6e-a736-4268-8194-cda2951c948d
[00:09:56] [DOC: 9255635] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD12965"}
[00:09:56] ❌    ❌ Failed to push order
[00:09:56] 🔄 
🔄 Step 7: Writing to CSV...
[00:09:56] [DOC: 9255635] ℹ️  Calculated age: 62 from DOB: 10/08/1962
[00:09:56] [DOC: 9255635] ℹ️  Service Line extracted: 'HHA'
[00:09:56] [DOC: 9255635] ℹ️  Payer Source extracted: 'Self Pay'
[00:09:56] [DOC: 9255635] ℹ️  Diagnosis codes being written:
[00:09:56] [DOC: 9255635] ℹ️    - Latest_Episode_Firstdiagnosis: ''
[00:09:56] [DOC: 9255635] ℹ️    - Latest_Episode_Seconddiagnosis: ''
[00:09:56] [DOC: 9255635] ℹ️    - Latest_Episode_Thirddiagnosis: ''
[00:09:56] [DOC: 9255635] ℹ️    - Latest_Episode_Fourthdiagnosis: ''
[00:09:56] [DOC: 9255635] ℹ️    - Latest_Episode_Fifthdiagnosis: ''
[00:09:56] [DOC: 9255635] ℹ️    - Latest_Episode_Sixthdiagnosis: ''
[00:09:56] [DOC: 9255635] ✅ Patient data written to CSV: Richard Bartley | Sex: MALE | Age: 62 | Service: HHA | Payer: Self Pay | MRN: 3947012
[00:09:56] ✅    ✅ Document 9255635 processed and saved successfully
[00:09:56] 🔄 
🔄 Step 8: Saving API details...
[00:09:56] [DOC: 9255635] ℹ️  API push details saved for document 9255635
[00:09:56] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9255618                         ║
================================================================================
[00:09:56] ℹ️  Agency: Southcoast VNA – Community Office (Fairhaven)
[00:09:56] ℹ️  Date: 04/23/2025
[00:09:56] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:09:57] [DOC: 9255618] ✅ Text extracted using pdfplumber (4557 chars)
[00:09:57] ✅    ✅ Text extracted using pdfplumber (4557 chars)
[00:09:57] 🔄 
🔄 Step 2: Extracting patient data...
[00:10:00] ℹ️  AI extracted raw sex value: 'F'
[00:10:00] ℹ️  AI extracted service line: 'Medical Social Work'
[00:10:00] ℹ️  AI extracted payer source: ''
[00:10:00] ℹ️  AI extracted diagnoses:
[00:10:00] ℹ️    - Diagnosis 1: ''
[00:10:00] ℹ️    - Diagnosis 2: ''
[00:10:00] ℹ️    - Diagnosis 3: ''
[00:10:00] ℹ️    - Diagnosis 4: ''
[00:10:00] ℹ️    - Diagnosis 5: ''
[00:10:00] ℹ️    - Diagnosis 6: ''
[00:10:00] ℹ️  Final extracted MRN: '3161102'
[00:10:00] ℹ️  Final extracted Sex: 'FEMALE'
[00:10:00] ℹ️  Final extracted Service Line: 'Medical Social Work'
[00:10:00] ℹ️  Final extracted Payer Source: ''
[00:10:00] ✅ Patient data extraction completed successfully
[00:10:00] ✅    ✅ Patient data extracted successfully
[00:10:00] 📊 Patient Response
     └─ patientFName: Leona
     └─ patientLName: Souza
     └─ dob: 08/20/1926
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 3161102
     └─ billingProvider: Jordan C. Gularek, DO
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     └─ address: 200 Mill Road
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719-5252
     └─ email: 
     └─ phoneNumber: (508) 973-3200
     └─ serviceLine: Medical Social Work
     └─ payorSource: 
     └─ episodeDiagnoses: []
[00:10:00] ✅    ✅ Patient identified: Leona Souza
[00:10:00] ✅    ✅ Patient name validation passed
[00:10:00] 🔄 
🔄 Step 3: Processing patient dates...
[00:10:00] [DOC: 9255618] ℹ️  DOB normalized: 08/20/1926
[00:10:00] [DOC: 9255618] ✅ Patient date processing completed successfully
[00:10:00] ✅    ✅ Date processing completed
[00:10:00] 📊 Processed Patient Data
     └─ patientFName: Leona
     └─ patientLName: Souza
     └─ dob: 08/20/1926
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 3161102
     └─ billingProvider: Jordan C. Gularek, DO
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     └─ address: 200 Mill Road
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719-5252
     └─ email: 
     └─ phoneNumber: (508) 973-3200
     └─ serviceLine: Medical Social Work
     └─ payorSource: 
     └─ episodeDiagnoses: []
[00:10:00] 🔄 
🔄 Step 4: Extracting order data...
[00:10:02] ℹ️  Order extraction - MRN: '3161102'
[00:10:02] ℹ️  Order extraction - Sex: 'FEMALE'
[00:10:02] ℹ️  Order extraction - Service Line: 'Medical Social Work'
[00:10:02] ℹ️  Order extraction - Payer Source: ''
[00:10:02] ✅ Order data extraction completed successfully
[00:10:02] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:10:02] ℹ️  Using MRN from patient data: '3161102' over '3161102'
[00:10:02] ℹ️  Service line consistent in both sources: 'Medical Social Work'
[00:10:02] ✅ Patient name cross-validation successful
[00:10:02] ✅    ✅ Data merged successfully
[00:10:03] ✅    ✅ Order data extracted and validated
[00:10:03] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:10:10] [DOC: 9255618] ℹ️  Patient not found in cache or API: Leona Souza
[00:10:10] [DOC: 9255618] ℹ️  Patient not found, creating new patient via API...
[00:10:10] [DOC: 9255618] ℹ️  Creating patient via API: Leona Souza
[00:10:11] [DOC: 9255618] ❌ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[00:10:11] ❌    ❌ Failed to create patient
[00:10:11] [DOC: 9255618] ℹ️  API push details saved for document 9255618
================================================================================
║                        Processing Document ID: 9255609                         ║
================================================================================
[00:10:11] ℹ️  Agency: Southcoast VNA – Community Office (Fairhaven)
[00:10:11] ℹ️  Date: 04/23/2025
[00:10:11] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:10:13] [DOC: 9255609] ✅ Text extracted using pdfplumber (1166 chars)
[00:10:13] ✅    ✅ Text extracted using pdfplumber (1166 chars)
[00:10:13] 🔄 
🔄 Step 2: Extracting patient data...
[00:10:15] ℹ️  AI extracted raw sex value: 'F'
[00:10:15] ℹ️  AI extracted service line: 'Physical Therapy'
[00:10:15] ℹ️  AI extracted payer source: ''
[00:10:15] ℹ️  AI extracted diagnoses:
[00:10:15] ℹ️    - Diagnosis 1: ''
[00:10:15] ℹ️    - Diagnosis 2: ''
[00:10:15] ℹ️    - Diagnosis 3: ''
[00:10:15] ℹ️    - Diagnosis 4: ''
[00:10:15] ℹ️    - Diagnosis 5: ''
[00:10:15] ℹ️    - Diagnosis 6: ''
[00:10:15] ℹ️  Final extracted MRN: '2311186'
[00:10:15] ℹ️  Final extracted Sex: 'FEMALE'
[00:10:15] ℹ️  Final extracted Service Line: 'Physical Therapy'
[00:10:15] ℹ️  Final extracted Payer Source: ''
[00:10:15] ✅ Patient data extraction completed successfully
[00:10:15] ✅    ✅ Patient data extracted successfully
[00:10:15] 📊 Patient Response
     └─ patientFName: Helen
     └─ patientLName: Carter
     └─ dob: 02/14/1943
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 2311186
     └─ billingProvider: Sirjana Dhungana Parajul, MD
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     └─ address: 200 Mill Road
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719-5252
     └─ email: 
     └─ phoneNumber: (508) 973-3200
     └─ serviceLine: Physical Therapy
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/23/2025', 'endOfEpisode': '05/24/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:10:15] ✅    ✅ Patient identified: Helen Carter
[00:10:15] ✅    ✅ Patient name validation passed
[00:10:15] 🔄 
🔄 Step 3: Processing patient dates...
[00:10:15] [DOC: 9255609] ℹ️  DOB normalized: 02/14/1943
[00:10:15] [DOC: 9255609] ℹ️  Episode startOfEpisode normalized: 04/23/2025
[00:10:15] [DOC: 9255609] ℹ️  Episode endOfEpisode normalized: 05/24/2025
[00:10:15] [DOC: 9255609] ✅ Patient date processing completed successfully
[00:10:15] ✅    ✅ Date processing completed
[00:10:15] 📊 Processed Patient Data
     └─ patientFName: Helen
     └─ patientLName: Carter
     └─ dob: 02/14/1943
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 2311186
     └─ billingProvider: Sirjana Dhungana Parajul, MD
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: Southcoast Visiting Nurse Association Inc.
     └─ address: 200 Mill Road
     └─ city: Fairhaven
     └─ state: MA
     └─ zip: 02719-5252
     └─ email: 
     └─ phoneNumber: (508) 973-3200
     └─ serviceLine: Physical Therapy
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/23/2025', 'endOfEpisode': '05/24/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:10:15] 🔄 
🔄 Step 4: Extracting order data...
[00:10:18] ℹ️  Order extraction - MRN: '2311186'
[00:10:18] ℹ️  Order extraction - Sex: 'FEMALE'
[00:10:18] ℹ️  Order extraction - Service Line: 'Physical Therapy'
[00:10:18] ℹ️  Order extraction - Payer Source: ''
[00:10:18] ✅ Order data extraction completed successfully
[00:10:18] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:10:18] ℹ️  Using MRN from patient data: '2311186' over '2311186'
[00:10:18] ℹ️  Service line consistent in both sources: 'Physical Therapy'
[00:10:18] ✅ Patient name cross-validation successful
[00:10:18] ✅    ✅ Data merged successfully
[00:10:19] ✅    ✅ Order data extracted and validated
[00:10:19] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:10:19] [DOC: 9255609] ✅ Patient found in local cache: Helen Carter, ID: b04c2986-ad2c-4c23-bb3a-f58cc1572f97
[00:10:19] ✅    ✅ Existing patient found with ID: b04c2986-ad2c-4c23-bb3a-f58cc1572f97
[00:10:19] 🔄 
🔄 Step 6: Pushing order to API...
[00:10:19] [DOC: 9255609] ℹ️  Pushing order via API for patient ID: b04c2986-ad2c-4c23-bb3a-f58cc1572f97
[00:10:20] [DOC: 9255609] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD14116"}
[00:10:20] ❌    ❌ Failed to push order
[00:10:20] 🔄 
🔄 Step 7: Writing to CSV...
[00:10:20] [DOC: 9255609] ℹ️  Calculated age: 82 from DOB: 02/14/1943
[00:10:20] [DOC: 9255609] ℹ️  Service Line extracted: 'Physical Therapy'
[00:10:20] [DOC: 9255609] ℹ️  Payer Source extracted: ''
[00:10:20] [DOC: 9255609] ℹ️  Diagnosis codes being written:
[00:10:20] [DOC: 9255609] ℹ️    - Latest_Episode_Firstdiagnosis: ''
[00:10:20] [DOC: 9255609] ℹ️    - Latest_Episode_Seconddiagnosis: ''
[00:10:20] [DOC: 9255609] ℹ️    - Latest_Episode_Thirddiagnosis: ''
[00:10:20] [DOC: 9255609] ℹ️    - Latest_Episode_Fourthdiagnosis: ''
[00:10:20] [DOC: 9255609] ℹ️    - Latest_Episode_Fifthdiagnosis: ''
[00:10:20] [DOC: 9255609] ℹ️    - Latest_Episode_Sixthdiagnosis: ''
[00:10:20] [DOC: 9255609] ✅ Patient data written to CSV: Helen Carter | Sex: FEMALE | Age: 82 | Service: Physical Therapy | Payer:  | MRN: 2311186
[00:10:20] ✅    ✅ Document 9255609 processed and saved successfully
[00:10:20] 🔄 
🔄 Step 8: Saving API details...
[00:10:20] [DOC: 9255609] ℹ️  API push details saved for document 9255609
[00:10:20] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 2171824                         ║
================================================================================
[00:10:20] ℹ️  Agency: Visiting Rehab & Nursing Services
[00:10:20] ℹ️  Date: 04/22/2025
[00:10:20] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:10:21] [DOC: 2171824] ❌ Critical failure in get_pdf_text: Invalid response format
[00:10:21] ❌ Failed to extract text for Doc ID 2171824
[00:10:21] [DOC: 2171824] ℹ️  API push details saved for document 2171824
================================================================================
║                        Processing Document ID: 9255500                         ║
================================================================================
[00:10:21] ℹ️  Agency: Bayada Home Health Care-Dartmouth
[00:10:21] ℹ️  Date: 04/22/2025
[00:10:21] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:10:24] [DOC: 9255500] ✅ Text extracted using pdfplumber (24021 chars)
[00:10:24] ✅    ✅ Text extracted using pdfplumber (24021 chars)
[00:10:24] 🔄 
🔄 Step 2: Extracting patient data...
[00:10:27] ℹ️  AI extracted raw sex value: 'F'
[00:10:27] ℹ️  AI extracted service line: 'Skilled Nursing, Occupational Therapy'
[00:10:27] ℹ️  AI extracted payer source: 'Medicare'
[00:10:27] ℹ️  AI extracted diagnoses:
[00:10:27] ℹ️    - Diagnosis 1: 'K57.20'
[00:10:27] ℹ️    - Diagnosis 2: 'B96.89'
[00:10:27] ℹ️    - Diagnosis 3: 'Z48.03'
[00:10:27] ℹ️    - Diagnosis 4: 'J44.1'
[00:10:27] ℹ️    - Diagnosis 5: 'M81.0'
[00:10:27] ℹ️    - Diagnosis 6: 'K58.0'
[00:10:27] ℹ️  Final extracted MRN: '28700212172901'
[00:10:27] ℹ️  Final extracted Sex: 'FEMALE'
[00:10:27] ℹ️  Final extracted Service Line: 'Skilled Nursing, Occupational Therapy'
[00:10:27] ℹ️  Final extracted Payer Source: 'Medicare'
[00:10:27] ✅ Patient data extraction completed successfully
[00:10:27] ✅    ✅ Patient data extracted successfully
[00:10:27] 📊 Patient Response
     └─ patientFName: JUDITH
     └─ patientLName: HANLON
     └─ dob: 01/24/1947
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 28700212172901
     └─ billingProvider: BAYADA HOME HEALTH CARE INC
     └─ npi: 227539
     └─ physicianNPI: 
     └─ nameOfAgency: BAYADA HOME HEALTH CARE INC
     └─ address: 368 FAUNCE CORNER ROAD
     └─ city: DARTMOUTH
     └─ state: MA
     └─ zip: 02747
     └─ email: 
     └─ phoneNumber: (508) 994-1003
     └─ serviceLine: Skilled Nursing, Occupational Therapy
     └─ payorSource: Medicare
     └─ episodeDiagnoses: [{'startOfCare': '04/12/2025', 'startOfEpisode': '04/12/2025', 'endOfEpisode': '06/10/2025', 'firstDiagnosis': 'K57.20', 'secondDiagnosis': 'B96.89', 'thirdDiagnosis': 'Z48.03', 'fourthDiagnosis': 'J44.1', 'fifthDiagnosis': 'M81.0', 'sixthDiagnosis': 'K58.0'}]
[00:10:27] ✅    ✅ Patient identified: JUDITH HANLON
[00:10:27] ✅    ✅ Patient name validation passed
[00:10:27] 🔄 
🔄 Step 3: Processing patient dates...
[00:10:27] [DOC: 9255500] ℹ️  DOB normalized: 01/24/1947
[00:10:27] [DOC: 9255500] ℹ️  Episode startOfCare normalized: 04/12/2025
[00:10:27] [DOC: 9255500] ℹ️  Episode startOfEpisode normalized: 04/12/2025
[00:10:27] [DOC: 9255500] ℹ️  Episode endOfEpisode normalized: 06/10/2025
[00:10:27] [DOC: 9255500] ✅ Patient date processing completed successfully
[00:10:27] ✅    ✅ Date processing completed
[00:10:27] 📊 Processed Patient Data
     └─ patientFName: JUDITH
     └─ patientLName: HANLON
     └─ dob: 01/24/1947
     └─ patientSex: FEMALE
     └─ medicalRecordNo: 28700212172901
     └─ billingProvider: BAYADA HOME HEALTH CARE INC
     └─ npi: 227539
     └─ physicianNPI: 
     └─ nameOfAgency: BAYADA HOME HEALTH CARE INC
     └─ address: 368 FAUNCE CORNER ROAD
     └─ city: DARTMOUTH
     └─ state: MA
     └─ zip: 02747
     └─ email: 
     └─ phoneNumber: (508) 994-1003
     └─ serviceLine: Skilled Nursing, Occupational Therapy
     └─ payorSource: Medicare
     └─ episodeDiagnoses: [{'startOfCare': '04/12/2025', 'startOfEpisode': '04/12/2025', 'endOfEpisode': '06/10/2025', 'firstDiagnosis': 'K57.20', 'secondDiagnosis': 'B96.89', 'thirdDiagnosis': 'Z48.03', 'fourthDiagnosis': 'J44.1', 'fifthDiagnosis': 'M81.0', 'sixthDiagnosis': 'K58.0'}]
[00:10:27] 🔄 
🔄 Step 4: Extracting order data...
[00:10:30] ℹ️  Order extraction - MRN: '28700212172901'
[00:10:30] ℹ️  Order extraction - Sex: 'FEMALE'
[00:10:30] ℹ️  Order extraction - Service Line: 'Skilled Nursing, Occupational Therapy'
[00:10:30] ℹ️  Order extraction - Payer Source: 'Medicare'
[00:10:30] ✅ Order data extraction completed successfully
[00:10:30] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:10:30] ℹ️  Using MRN from patient data: '28700212172901' over '28700212172901'
[00:10:30] ℹ️  Service line consistent in both sources: 'Skilled Nursing, Occupational Therapy'
[00:10:30] ℹ️  Payer source consistent in both sources: 'Medicare'
[00:10:30] ✅ Patient name cross-validation successful
[00:10:30] ✅    ✅ Data merged successfully
[00:10:32] ✅    ✅ Order data extracted and validated
[00:10:32] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:10:32] [DOC: 9255500] ✅ Patient found in local cache: JUDITH HANLON, ID: 3baf06f0-9e2a-48d1-b10d-9f414ca18f91
[00:10:32] ✅    ✅ Existing patient found with ID: 3baf06f0-9e2a-48d1-b10d-9f414ca18f91
[00:10:32] 🔄 
🔄 Step 6: Pushing order to API...
[00:10:32] [DOC: 9255500] ℹ️  Pushing order via API for patient ID: 3baf06f0-9e2a-48d1-b10d-9f414ca18f91
[00:10:33] [DOC: 9255500] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD19984"}
[00:10:33] ❌    ❌ Failed to push order
[00:10:33] 🔄 
🔄 Step 7: Writing to CSV...
[00:10:33] [DOC: 9255500] ℹ️  Calculated age: 78 from DOB: 01/24/1947
[00:10:33] [DOC: 9255500] ℹ️  Service Line extracted: 'Skilled Nursing, Occupational Therapy'
[00:10:33] [DOC: 9255500] ℹ️  Payer Source extracted: 'Medicare'
[00:10:33] [DOC: 9255500] ℹ️  Diagnosis codes being written:
[00:10:33] [DOC: 9255500] ℹ️    - Latest_Episode_Firstdiagnosis: 'K57.20'
[00:10:33] [DOC: 9255500] ℹ️    - Latest_Episode_Seconddiagnosis: 'B96.89'
[00:10:33] [DOC: 9255500] ℹ️    - Latest_Episode_Thirddiagnosis: 'Z48.03'
[00:10:33] [DOC: 9255500] ℹ️    - Latest_Episode_Fourthdiagnosis: 'J44.1'
[00:10:33] [DOC: 9255500] ℹ️    - Latest_Episode_Fifthdiagnosis: 'M81.0'
[00:10:33] [DOC: 9255500] ℹ️    - Latest_Episode_Sixthdiagnosis: 'K58.0'
[00:10:33] [DOC: 9255500] ✅ Patient data written to CSV: JUDITH HANLON | Sex: FEMALE | Age: 78 | Service: Skilled Nursing, Occupational Therapy | Payer: Medicare | MRN: 28700212172901
[00:10:33] ✅    ✅ Document 9255500 processed and saved successfully
[00:10:33] 🔄 
🔄 Step 8: Saving API details...
[00:10:33] [DOC: 9255500] ℹ️  API push details saved for document 9255500
[00:10:33] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9255062                         ║
================================================================================
[00:10:33] ℹ️  Agency: Nightingale Visiting Nurses-Taunton
[00:10:33] ℹ️  Date: 04/22/2025
[00:10:33] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:10:35] [DOC: 9255062] ✅ Text extracted using pdfplumber (1283 chars)
[00:10:35] ✅    ✅ Text extracted using pdfplumber (1283 chars)
[00:10:35] 🔄 
🔄 Step 2: Extracting patient data...
[00:10:37] ℹ️  AI extracted raw sex value: ''
[00:10:37] ℹ️  AI extracted service line: 'Physical Therapy'
[00:10:37] ℹ️  AI extracted payer source: ''
[00:10:37] ℹ️  AI extracted diagnoses:
[00:10:37] ℹ️    - Diagnosis 1: 'I11.0'
[00:10:37] ℹ️    - Diagnosis 2: 'I50.32'
[00:10:37] ℹ️    - Diagnosis 3: 'I25.119'
[00:10:37] ℹ️    - Diagnosis 4: 'None'
[00:10:37] ℹ️    - Diagnosis 5: 'None'
[00:10:37] ℹ️    - Diagnosis 6: 'None'
[00:10:37] ℹ️  Final extracted MRN: 'MA250402034603'
[00:10:37] ℹ️  Final extracted Sex: ''
[00:10:37] ℹ️  Final extracted Service Line: 'Physical Therapy'
[00:10:37] ℹ️  Final extracted Payer Source: ''
[00:10:37] ✅ Patient data extraction completed successfully
[00:10:37] ✅    ✅ Patient data extracted successfully
[00:10:37] 📊 Patient Response
     └─ patientFName: Maria
     └─ patientLName: Machado
     └─ dob: 03/03/1946
     └─ patientSex: 
     └─ medicalRecordNo: MA250402034603
     └─ billingProvider: AILEEN SOUZA MD
     └─ npi: 1598261745
     └─ physicianNPI: 1598261745
     └─ nameOfAgency: Nightingale Visiting Nurses
     └─ address: 125 County ST
     └─ city: Taunton
     └─ state: MA
     └─ zip: 02780
     └─ email: 
     └─ phoneNumber: (508) 967-0761
     └─ serviceLine: Physical Therapy
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': None, 'startOfEpisode': '04/04/2025', 'endOfEpisode': '06/02/2025', 'firstDiagnosis': 'I11.0', 'secondDiagnosis': 'I50.32', 'thirdDiagnosis': 'I25.119', 'fourthDiagnosis': None, 'fifthDiagnosis': None, 'sixthDiagnosis': None}]
[00:10:37] ✅    ✅ Patient identified: Maria Machado
[00:10:37] ✅    ✅ Patient name validation passed
[00:10:37] 🔄 
🔄 Step 3: Processing patient dates...
[00:10:37] [DOC: 9255062] ℹ️  DOB normalized: 03/03/1946
[00:10:37] [DOC: 9255062] ℹ️  Episode startOfEpisode normalized: 04/04/2025
[00:10:37] [DOC: 9255062] ℹ️  Episode endOfEpisode normalized: 06/02/2025
[00:10:37] [DOC: 9255062] ✅ Patient date processing completed successfully
[00:10:37] ✅    ✅ Date processing completed
[00:10:37] 📊 Processed Patient Data
     └─ patientFName: Maria
     └─ patientLName: Machado
     └─ dob: 03/03/1946
     └─ patientSex: 
     └─ medicalRecordNo: MA250402034603
     └─ billingProvider: AILEEN SOUZA MD
     └─ npi: 1598261745
     └─ physicianNPI: 1598261745
     └─ nameOfAgency: Nightingale Visiting Nurses
     └─ address: 125 County ST
     └─ city: Taunton
     └─ state: MA
     └─ zip: 02780
     └─ email: 
     └─ phoneNumber: (508) 967-0761
     └─ serviceLine: Physical Therapy
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '04/04/2025', 'endOfEpisode': '06/02/2025', 'firstDiagnosis': 'I11.0', 'secondDiagnosis': 'I50.32', 'thirdDiagnosis': 'I25.119'}]
[00:10:37] 🔄 
🔄 Step 4: Extracting order data...
[00:10:40] ℹ️  Order extraction - MRN: 'MA250402034603'
[00:10:40] ℹ️  Order extraction - Sex: ''
[00:10:40] ℹ️  Order extraction - Service Line: 'Physical Therapy'
[00:10:40] ℹ️  Order extraction - Payer Source: ''
[00:10:40] ✅ Order data extraction completed successfully
[00:10:40] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:10:40] ℹ️  Using MRN from patient data: 'MA250402034603' over 'MA250402034603'
[00:10:40] ℹ️  Inferred sex as FEMALE from name: Maria
[00:10:40] ℹ️  Service line consistent in both sources: 'Physical Therapy'
[00:10:40] ✅ Patient name cross-validation successful
[00:10:40] ✅    ✅ Data merged successfully
[00:10:41] ✅    ✅ Order data extracted and validated
[00:10:41] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:10:41] [DOC: 9255062] ✅ Patient found in local cache: Maria Machado, ID: 84886eb7-1715-43b2-8bfd-a62b101a7023
[00:10:41] ✅    ✅ Existing patient found with ID: 84886eb7-1715-43b2-8bfd-a62b101a7023
[00:10:41] 🔄 
🔄 Step 6: Pushing order to API...
[00:10:41] [DOC: 9255062] ℹ️  Pushing order via API for patient ID: 84886eb7-1715-43b2-8bfd-a62b101a7023
[00:10:42] [DOC: 9255062] ❌ Order push failed with status 409: {"message":"Duplicate order found","orderId":"ORD13998"}
[00:10:42] ❌    ❌ Failed to push order
[00:10:42] 🔄 
🔄 Step 7: Writing to CSV...
[00:10:42] [DOC: 9255062] ℹ️  Calculated age: 79 from DOB: 03/03/1946
[00:10:42] [DOC: 9255062] ℹ️  Service Line extracted: 'Physical Therapy'
[00:10:42] [DOC: 9255062] ℹ️  Payer Source extracted: ''
[00:10:42] [DOC: 9255062] ℹ️  Diagnosis codes being written:
[00:10:42] [DOC: 9255062] ℹ️    - Latest_Episode_Firstdiagnosis: 'I11.0'
[00:10:42] [DOC: 9255062] ℹ️    - Latest_Episode_Seconddiagnosis: 'I50.32'
[00:10:42] [DOC: 9255062] ℹ️    - Latest_Episode_Thirddiagnosis: 'I25.119'
[00:10:42] [DOC: 9255062] ℹ️    - Latest_Episode_Fourthdiagnosis: ''
[00:10:42] [DOC: 9255062] ℹ️    - Latest_Episode_Fifthdiagnosis: ''
[00:10:42] [DOC: 9255062] ℹ️    - Latest_Episode_Sixthdiagnosis: ''
[00:10:42] [DOC: 9255062] ✅ Patient data written to CSV: Maria Machado | Sex: FEMALE | Age: 79 | Service: Physical Therapy | Payer:  | MRN: MA250402034603
[00:10:42] ✅    ✅ Document 9255062 processed and saved successfully
[00:10:42] 🔄 
🔄 Step 8: Saving API details...
[00:10:42] [DOC: 9255062] ℹ️  API push details saved for document 9255062
[00:10:42] ✅    ✅ API details saved
================================================================================
║                        Processing Document ID: 9255058                         ║
================================================================================
[00:10:42] ℹ️  Agency: Caretenders-Bourne
[00:10:42] ℹ️  Date: 04/22/2025
[00:10:42] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:10:44] [DOC: 9255058] ✅ Text extracted using pdfplumber (1741 chars)
[00:10:44] ✅    ✅ Text extracted using pdfplumber (1741 chars)
[00:10:44] 🔄 
🔄 Step 2: Extracting patient data...
[00:10:44] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 14
}
]
[00:10:48] ℹ️  AI extracted raw sex value: ''
[00:10:48] ℹ️  AI extracted service line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[00:10:48] ℹ️  AI extracted payer source: ''
[00:10:48] ℹ️  AI extracted diagnoses:
[00:10:48] ℹ️    - Diagnosis 1: ''
[00:10:48] ℹ️    - Diagnosis 2: ''
[00:10:48] ℹ️    - Diagnosis 3: ''
[00:10:48] ℹ️    - Diagnosis 4: ''
[00:10:48] ℹ️    - Diagnosis 5: ''
[00:10:48] ℹ️    - Diagnosis 6: ''
[00:10:48] ℹ️  Final extracted MRN: 'CAP00316873901'
[00:10:48] ℹ️  Final extracted Sex: ''
[00:10:48] ℹ️  Final extracted Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[00:10:48] ℹ️  Final extracted Payer Source: ''
[00:10:48] ✅ Patient data extraction completed successfully
[00:10:48] ✅    ✅ Patient data extracted successfully
[00:10:48] 📊 Patient Response
     └─ patientFName: DOROTHY
     └─ patientLName: PINTO
     └─ dob: 04/08/1938
     └─ patientSex: 
     └─ medicalRecordNo: CAP00316873901
     └─ billingProvider: Dr. JORDAN GULAREK
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: CARETENDERS - BOURNE
     └─ address: 535 FAUNCE CORNER RD
     └─ city: FAIRHAVEN
     └─ state: MA
     └─ zip: 02719
     └─ email: 
     └─ phoneNumber: (508)996-3991
     └─ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '04/07/2025', 'startOfEpisode': '04/07/2025', 'endOfEpisode': '06/05/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:10:48] ✅    ✅ Patient identified: DOROTHY PINTO
[00:10:48] ✅    ✅ Patient name validation passed
[00:10:48] 🔄 
🔄 Step 3: Processing patient dates...
[00:10:48] [DOC: 9255058] ℹ️  DOB normalized: 04/08/1938
[00:10:48] [DOC: 9255058] ℹ️  Episode startOfCare normalized: 04/07/2025
[00:10:48] [DOC: 9255058] ℹ️  Episode startOfEpisode normalized: 04/07/2025
[00:10:48] [DOC: 9255058] ℹ️  Episode endOfEpisode normalized: 06/05/2025
[00:10:48] [DOC: 9255058] ✅ Patient date processing completed successfully
[00:10:48] ✅    ✅ Date processing completed
[00:10:48] 📊 Processed Patient Data
     └─ patientFName: DOROTHY
     └─ patientLName: PINTO
     └─ dob: 04/08/1938
     └─ patientSex: 
     └─ medicalRecordNo: CAP00316873901
     └─ billingProvider: Dr. JORDAN GULAREK
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: CARETENDERS - BOURNE
     └─ address: 535 FAUNCE CORNER RD
     └─ city: FAIRHAVEN
     └─ state: MA
     └─ zip: 02719
     └─ email: 
     └─ phoneNumber: (508)996-3991
     └─ serviceLine: Skilled Nursing, Physical Therapy, Occupational Therapy
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '04/07/2025', 'startOfEpisode': '04/07/2025', 'endOfEpisode': '06/05/2025', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:10:48] 🔄 
🔄 Step 4: Extracting order data...
[00:10:49] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 9
}
]
[00:10:52] ℹ️  Order extraction - MRN: 'CAP00316873901'
[00:10:52] ℹ️  Order extraction - Sex: ''
[00:10:52] ℹ️  Order extraction - Service Line: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[00:10:52] ℹ️  Order extraction - Payer Source: ''
[00:10:52] ✅ Order data extraction completed successfully
[00:10:52] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:10:52] ℹ️  Using MRN from patient data: 'CAP00316873901' over 'CAP00316873901'
[00:10:52] ℹ️  Inferred sex as FEMALE from name: DOROTHY
[00:10:52] ℹ️  Service line consistent in both sources: 'Skilled Nursing, Physical Therapy, Occupational Therapy'
[00:10:52] ✅ Patient name cross-validation successful
[00:10:52] ✅    ✅ Data merged successfully
[00:10:54] ✅    ✅ Order data extracted and validated
[00:10:54] 🔄 
🔄 Step 5: Checking/Creating patient...
[00:10:58] [DOC: 9255058] ℹ️  Patient not found in cache or API: DOROTHY PINTO
[00:10:58] [DOC: 9255058] ℹ️  Patient not found, creating new patient via API...
[00:10:58] [DOC: 9255058] ℹ️  Creating patient via API: DOROTHY PINTO
[00:10:59] [DOC: 9255058] ❌ Patient creation failed with status 409: A patient with the same first name, last name, DOB, and Zip already exists.
[00:10:59] ❌    ❌ Failed to create patient
[00:10:59] [DOC: 9255058] ℹ️  API push details saved for document 9255058
================================================================================
║                        Processing Document ID: 9255002                         ║
================================================================================
[00:10:59] ℹ️  Agency: Nightingale Visiting Nurses-Taunton
[00:10:59] ℹ️  Date: 04/22/2025
[00:10:59] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:11:02] [DOC: 9255002] ✅ Text extracted using pdfplumber (16092 chars)
[00:11:02] ✅    ✅ Text extracted using pdfplumber (16092 chars)
[00:11:02] 🔄 
🔄 Step 2: Extracting patient data...
[00:11:06] ℹ️  AI extracted raw sex value: 'F'
[00:11:06] ℹ️  AI extracted service line: 'Physical Therapy, Occupational Therapy'
[00:11:06] ℹ️  AI extracted payer source: 'Medicare'
[00:11:06] ℹ️  AI extracted diagnoses:
[00:11:06] ℹ️    - Diagnosis 1: 'S83.512'
[00:11:06] ℹ️    - Diagnosis 2: 'S83.212'
[00:11:06] ℹ️    - Diagnosis 3: 'S83.412'
[00:11:06] ℹ️    - Diagnosis 4: 'M25.462'
[00:11:06] ℹ️    - Diagnosis 5: 'M17.0'
[00:11:06] ℹ️    - Diagnosis 6: 'D50.9'
[00:11:06] ℹ️  Final extracted MRN: 'MA250326033704'
[00:11:06] ℹ️  Final extracted Sex: 'FEMALE'
[00:11:06] ℹ️  Final extracted Service Line: 'Physical Therapy, Occupational Therapy'
[00:11:06] ℹ️  Final extracted Payer Source: 'Medicare'
[00:11:06] ✅ Patient data extraction completed successfully
[00:11:06] ✅    ✅ Patient data extracted successfully
[00:11:06] 📊 Patient Response
     └─ patientFName: Lilian
     └─ patientLName: Carvalho
     └─ dob: 03/28/1937
     └─ patientSex: FEMALE
     └─ medicalRecordNo: MA250326033704
     └─ billingProvider: Dr. Dhungana Parajuli
     └─ npi: 1881923936
     └─ physicianNPI: 1063606473
     └─ nameOfAgency: Nightingale Visiting Nurses
     └─ address: 125 County ST
     └─ city: Taunton
     └─ state: MA
     └─ zip: 02780-3561
     └─ email: None
     └─ phoneNumber: (774) 526-4028
     └─ serviceLine: Physical Therapy, Occupational Therapy
     └─ payorSource: Medicare
     └─ episodeDiagnoses: [{'startOfCare': '04/01/2025', 'startOfEpisode': '04/01/2025', 'endOfEpisode': '05/30/2025', 'firstDiagnosis': 'S83.512', 'secondDiagnosis': 'S83.212', 'thirdDiagnosis': 'S83.412', 'fourthDiagnosis': 'M25.462', 'fifthDiagnosis': 'M17.0', 'sixthDiagnosis': 'D50.9'}]
[00:11:06] ✅    ✅ Patient identified: Lilian Carvalho
[00:11:06] ✅    ✅ Patient name validation passed
[00:11:06] 🔄 
🔄 Step 3: Processing patient dates...
[00:11:06] [DOC: 9255002] ℹ️  DOB normalized: 03/28/1937
[00:11:06] [DOC: 9255002] ℹ️  Episode startOfCare normalized: 04/01/2025
[00:11:06] [DOC: 9255002] ℹ️  Episode startOfEpisode normalized: 04/01/2025
[00:11:06] [DOC: 9255002] ℹ️  Episode endOfEpisode normalized: 05/30/2025
[00:11:06] [DOC: 9255002] ✅ Patient date processing completed successfully
[00:11:06] ✅    ✅ Date processing completed
[00:11:06] 📊 Processed Patient Data
     └─ patientFName: Lilian
     └─ patientLName: Carvalho
     └─ dob: 03/28/1937
     └─ patientSex: FEMALE
     └─ medicalRecordNo: MA250326033704
     └─ billingProvider: Dr. Dhungana Parajuli
     └─ npi: 1881923936
     └─ physicianNPI: 1063606473
     └─ nameOfAgency: Nightingale Visiting Nurses
     └─ address: 125 County ST
     └─ city: Taunton
     └─ state: MA
     └─ zip: 02780-3561
     └─ phoneNumber: (774) 526-4028
     └─ serviceLine: Physical Therapy, Occupational Therapy
     └─ payorSource: Medicare
     └─ episodeDiagnoses: [{'startOfCare': '04/01/2025', 'startOfEpisode': '04/01/2025', 'endOfEpisode': '05/30/2025', 'firstDiagnosis': 'S83.512', 'secondDiagnosis': 'S83.212', 'thirdDiagnosis': 'S83.412', 'fourthDiagnosis': 'M25.462', 'fifthDiagnosis': 'M17.0', 'sixthDiagnosis': 'D50.9'}]
[00:11:06] 🔄 
🔄 Step 4: Extracting order data...
[00:11:06] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 52
}
]
[00:11:08] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 50
}
]
[00:11:09] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 49
}
]
[00:11:09] ❌ All AI extraction attempts failed
[00:11:09] 🔄 
🔄 Step 4.5: Merging patient and order data...
[00:11:09] ℹ️  Using MRN from patient data: 'MA250326033704'
[00:11:09] ℹ️  Using service line from patient data: 'Physical Therapy, Occupational Therapy'
[00:11:09] ℹ️  Using payer source from patient data: 'Medicare'
[00:11:09] ✅    ✅ Data merged successfully
[00:11:11] ⚠️     ❌ Skipping - missing episode start date
[00:11:11] [DOC: 9255002] ℹ️  API push details saved for document 9255002
================================================================================
║                        Processing Document ID: 9254969                         ║
================================================================================
[00:11:11] ℹ️  Agency: Nightingale Visiting Nurses-Taunton
[00:11:11] ℹ️  Date: 04/22/2025
[00:11:11] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:11:13] [DOC: 9254969] ✅ Text extracted using pdfplumber (18121 chars)
[00:11:13] ✅    ✅ Text extracted using pdfplumber (18109 chars)
[00:11:13] 🔄 
🔄 Step 2: Extracting patient data...
[00:11:14] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 44
}
]
[00:11:15] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 43
}
]
[00:11:17] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 41
}
]
[00:11:17] ❌ All AI extraction attempts failed
[00:11:17] ⚠️  AI extraction failed, returning minimal patient data structure
[00:11:17] ✅    ✅ Patient data extracted successfully
[00:11:17] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:11:17] ⚠️     ❌ Insufficient patient data extracted
[00:11:17] [DOC: 9254969] ℹ️  API push details saved for document 9254969
================================================================================
║                        Processing Document ID: 9254965                         ║
================================================================================
[00:11:17] ℹ️  Agency: Nightingale Visiting Nurses-Taunton
[00:11:17] ℹ️  Date: 04/22/2025
[00:11:17] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:11:20] [DOC: 9254965] ✅ Text extracted using pdfplumber (12923 chars)
[00:11:20] ✅    ✅ Text extracted using pdfplumber (12923 chars)
[00:11:20] 🔄 
🔄 Step 2: Extracting patient data...
[00:11:20] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 38
}
]
[00:11:22] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 36
}
]
[00:11:24] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 35
}
]
[00:11:24] ❌ All AI extraction attempts failed
[00:11:24] ⚠️  AI extraction failed, returning minimal patient data structure
[00:11:24] ✅    ✅ Patient data extracted successfully
[00:11:24] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:11:24] ⚠️     ❌ Insufficient patient data extracted
[00:11:24] [DOC: 9254965] ℹ️  API push details saved for document 9254965
================================================================================
║                        Processing Document ID: 9254954                         ║
================================================================================
[00:11:24] ℹ️  Agency: Nightingale Visiting Nurses-Taunton
[00:11:24] ℹ️  Date: 04/22/2025
[00:11:24] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:11:27] [DOC: 9254954] ✅ Text extracted using pdfplumber (2453 chars)
[00:11:27] ✅    ✅ Text extracted using pdfplumber (2453 chars)
[00:11:27] 🔄 
🔄 Step 2: Extracting patient data...
[00:11:27] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 31
}
]
[00:11:29] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 29
}
]
[00:11:30] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 28
}
]
[00:11:30] ❌ All AI extraction attempts failed
[00:11:30] ⚠️  AI extraction failed, returning minimal patient data structure
[00:11:30] ✅    ✅ Patient data extracted successfully
[00:11:30] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:11:30] ⚠️     ❌ Insufficient patient data extracted
[00:11:30] [DOC: 9254954] ℹ️  API push details saved for document 9254954
================================================================================
║                        Processing Document ID: 9254904                         ║
================================================================================
[00:11:30] ℹ️  Agency: Southcoast VNA – Community Office (Fairhaven)
[00:11:30] ℹ️  Date: 04/22/2025
[00:11:30] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:11:35] [DOC: 9254904] ✅ Text extracted using pdfplumber (41769 chars)
[00:11:35] ✅    ✅ Text extracted using pdfplumber (41769 chars)
[00:11:35] 🔄 
🔄 Step 2: Extracting patient data...
[00:11:35] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 23
}
]
[00:11:37] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 21
}
]
[00:11:39] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 19
}
]
[00:11:39] ❌ All AI extraction attempts failed
[00:11:39] ⚠️  AI extraction failed, returning minimal patient data structure
[00:11:39] ✅    ✅ Patient data extracted successfully
[00:11:39] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:11:39] ⚠️     ❌ Insufficient patient data extracted
[00:11:39] [DOC: 9254904] ℹ️  API push details saved for document 9254904
================================================================================
║                        Processing Document ID: 9254893                         ║
================================================================================
[00:11:39] ℹ️  Agency: Nightingale Visiting Nurses-Taunton
[00:11:39] ℹ️  Date: 04/22/2025
[00:11:39] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:11:42] [DOC: 9254893] ✅ Text extracted using pdfplumber (16245 chars)
[00:11:42] ✅    ✅ Text extracted using pdfplumber (16245 chars)
[00:11:42] 🔄 
🔄 Step 2: Extracting patient data...
[00:11:43] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 16
}
]
[00:11:44] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 14
}
]
[00:11:46] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 12
}
]
[00:11:46] ❌ All AI extraction attempts failed
[00:11:46] ⚠️  AI extraction failed, returning minimal patient data structure
[00:11:46] ✅    ✅ Patient data extracted successfully
[00:11:46] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:11:46] ⚠️     ❌ Insufficient patient data extracted
[00:11:46] [DOC: 9254893] ℹ️  API push details saved for document 9254893
================================================================================
║                        Processing Document ID: 9254887                         ║
================================================================================
[00:11:46] ℹ️  Agency: Southcoast VNA – Community Office (Fairhaven)
[00:11:46] ℹ️  Date: 04/22/2025
[00:11:46] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:11:49] [DOC: 9254887] ✅ Text extracted using pdfplumber (19791 chars)
[00:11:49] ✅    ✅ Text extracted using pdfplumber (19791 chars)
[00:11:49] 🔄 
🔄 Step 2: Extracting patient data...
[00:11:50] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 8
}
]
[00:11:52] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 6
}
]
[00:11:53] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 5
}
]
[00:11:53] ❌ All AI extraction attempts failed
[00:11:53] ⚠️  AI extraction failed, returning minimal patient data structure
[00:11:53] ✅    ✅ Patient data extracted successfully
[00:11:53] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:11:53] ⚠️     ❌ Insufficient patient data extracted
[00:11:53] [DOC: 9254887] ℹ️  API push details saved for document 9254887
================================================================================
║                        Processing Document ID: 9254885                         ║
================================================================================
[00:11:53] ℹ️  Agency: Southcoast VNA – Community Office (Fairhaven)
[00:11:53] ℹ️  Date: 04/22/2025
[00:11:53] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:11:55] [DOC: 9254885] ✅ Text extracted using pdfplumber (3409 chars)
[00:11:55] ✅    ✅ Text extracted using pdfplumber (3409 chars)
[00:11:55] 🔄 
🔄 Step 2: Extracting patient data...
[00:11:56] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 3
}
]
[00:11:57] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 1
}
]
[00:11:59] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 59
}
]
[00:11:59] ❌ All AI extraction attempts failed
[00:11:59] ⚠️  AI extraction failed, returning minimal patient data structure
[00:11:59] ✅    ✅ Patient data extracted successfully
[00:11:59] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:11:59] ⚠️     ❌ Insufficient patient data extracted
[00:11:59] [DOC: 9254885] ℹ️  API push details saved for document 9254885
================================================================================
║                        Processing Document ID: 9254882                         ║
================================================================================
[00:11:59] ℹ️  Agency: Southcoast VNA – Community Office (Fairhaven)
[00:11:59] ℹ️  Date: 04/22/2025
[00:11:59] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:12:02] [DOC: 9254882] ✅ Text extracted using pdfplumber (18310 chars)
[00:12:02] ✅    ✅ Text extracted using pdfplumber (18310 chars)
[00:12:02] 🔄 
🔄 Step 2: Extracting patient data...
[00:12:03] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 56
}
]
[00:12:04] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 54
}
]
[00:12:06] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 52
}
]
[00:12:06] ❌ All AI extraction attempts failed
[00:12:06] ⚠️  AI extraction failed, returning minimal patient data structure
[00:12:06] ✅    ✅ Patient data extracted successfully
[00:12:06] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:12:06] ⚠️     ❌ Insufficient patient data extracted
[00:12:06] [DOC: 9254882] ℹ️  API push details saved for document 9254882
================================================================================
║                        Processing Document ID: 9254851                         ║
================================================================================
[00:12:06] ℹ️  Agency: Southcoast VNA – Community Office (Fairhaven)
[00:12:06] ℹ️  Date: 04/22/2025
[00:12:06] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:12:09] [DOC: 9254851] ✅ Text extracted using pdfplumber (25409 chars)
[00:12:09] ✅    ✅ Text extracted using pdfplumber (25409 chars)
[00:12:09] 🔄 
🔄 Step 2: Extracting patient data...
[00:12:10] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 48
}
]
[00:12:11] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 47
}
]
[00:12:13] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 45
}
]
[00:12:13] ❌ All AI extraction attempts failed
[00:12:13] ⚠️  AI extraction failed, returning minimal patient data structure
[00:12:13] ✅    ✅ Patient data extracted successfully
[00:12:13] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:12:13] ⚠️     ❌ Insufficient patient data extracted
[00:12:13] [DOC: 9254851] ℹ️  API push details saved for document 9254851
================================================================================
║                        Processing Document ID: 9254833                         ║
================================================================================
[00:12:13] ℹ️  Agency: Southcoast VNA – Community Office (Fairhaven)
[00:12:13] ℹ️  Date: 04/22/2025
[00:12:13] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:12:16] [DOC: 9254833] ✅ Text extracted using pdfplumber (14684 chars)
[00:12:16] ✅    ✅ Text extracted using pdfplumber (14684 chars)
[00:12:16] 🔄 
🔄 Step 2: Extracting patient data...
[00:12:16] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 42
}
]
[00:12:18] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 40
}
]
[00:12:20] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 38
}
]
[00:12:20] ❌ All AI extraction attempts failed
[00:12:20] ⚠️  AI extraction failed, returning minimal patient data structure
[00:12:20] ✅    ✅ Patient data extracted successfully
[00:12:20] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:12:20] ⚠️     ❌ Insufficient patient data extracted
[00:12:20] [DOC: 9254833] ℹ️  API push details saved for document 9254833
================================================================================
║                        Processing Document ID: 9254829                         ║
================================================================================
[00:12:20] ℹ️  Agency: Southcoast VNA – Community Office (Fairhaven)
[00:12:20] ℹ️  Date: 04/22/2025
[00:12:20] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:12:22] [DOC: 9254829] ✅ Text extracted using pdfplumber (8097 chars)
[00:12:22] ✅    ✅ Text extracted using pdfplumber (8097 chars)
[00:12:22] 🔄 
🔄 Step 2: Extracting patient data...
[00:12:23] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 35
}
]
[00:12:24] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 34
}
]
[00:12:26] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 33
}
]
[00:12:26] ❌ All AI extraction attempts failed
[00:12:26] ⚠️  AI extraction failed, returning minimal patient data structure
[00:12:26] ✅    ✅ Patient data extracted successfully
[00:12:26] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:12:26] ⚠️     ❌ Insufficient patient data extracted
[00:12:26] [DOC: 9254829] ℹ️  API push details saved for document 9254829
================================================================================
║                        Processing Document ID: 9254814                         ║
================================================================================
[00:12:26] ℹ️  Agency: Southcoast VNA – Community Office (Fairhaven)
[00:12:26] ℹ️  Date: 04/22/2025
[00:12:26] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:12:28] [DOC: 9254814] ✅ Text extracted using pdfplumber (10946 chars)
[00:12:28] ✅    ✅ Text extracted using pdfplumber (10936 chars)
[00:12:28] 🔄 
🔄 Step 2: Extracting patient data...
[00:12:29] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 30
}
]
[00:12:30] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 28
}
]
[00:12:32] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 26
}
]
[00:12:32] ❌ All AI extraction attempts failed
[00:12:32] ⚠️  AI extraction failed, returning minimal patient data structure
[00:12:32] ✅    ✅ Patient data extracted successfully
[00:12:32] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:12:32] ⚠️     ❌ Insufficient patient data extracted
[00:12:32] [DOC: 9254814] ℹ️  API push details saved for document 9254814
================================================================================
║                        Processing Document ID: 9254810                         ║
================================================================================
[00:12:32] ℹ️  Agency: Nightingale Visiting Nurses-Taunton
[00:12:32] ℹ️  Date: 04/22/2025
[00:12:32] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:12:34] [DOC: 9254810] ✅ Text extracted using pdfplumber (1197 chars)
[00:12:34] ✅    ✅ Text extracted using pdfplumber (1197 chars)
[00:12:34] 🔄 
🔄 Step 2: Extracting patient data...
[00:12:35] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 24
}
]
[00:12:36] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 22
}
]
[00:12:38] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 20
}
]
[00:12:38] ❌ All AI extraction attempts failed
[00:12:38] ⚠️  AI extraction failed, returning minimal patient data structure
[00:12:38] ✅    ✅ Patient data extracted successfully
[00:12:38] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:12:38] ⚠️     ❌ Insufficient patient data extracted
[00:12:38] [DOC: 9254810] ℹ️  API push details saved for document 9254810
================================================================================
║                        Processing Document ID: 9254802                         ║
================================================================================
[00:12:38] ℹ️  Agency: Southcoast VNA – Community Office (Fairhaven)
[00:12:38] ℹ️  Date: 04/22/2025
[00:12:38] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:12:39] [DOC: 9254802] ✅ Text extracted using pdfplumber (1213 chars)
[00:12:39] ✅    ✅ Text extracted using pdfplumber (1213 chars)
[00:12:39] 🔄 
🔄 Step 2: Extracting patient data...
[00:12:39] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 19
}
]
[00:12:41] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 17
}
]
[00:12:42] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 16
}
]
[00:12:42] ❌ All AI extraction attempts failed
[00:12:42] ⚠️  AI extraction failed, returning minimal patient data structure
[00:12:42] ✅    ✅ Patient data extracted successfully
[00:12:42] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:12:42] ⚠️     ❌ Insufficient patient data extracted
[00:12:42] [DOC: 9254802] ℹ️  API push details saved for document 9254802
================================================================================
║                        Processing Document ID: 9254785                         ║
================================================================================
[00:12:42] ℹ️  Agency: Southcoast VNA – Community Office (Fairhaven)
[00:12:42] ℹ️  Date: 04/22/2025
[00:12:42] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:12:45] [DOC: 9254785] ✅ Text extracted using pdfplumber (20021 chars)
[00:12:45] ✅    ✅ Text extracted using pdfplumber (20021 chars)
[00:12:45] 🔄 
🔄 Step 2: Extracting patient data...
[00:12:46] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 12
}
]
[00:12:47] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 11
}
]
[00:12:49] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 9
}
]
[00:12:49] ❌ All AI extraction attempts failed
[00:12:49] ⚠️  AI extraction failed, returning minimal patient data structure
[00:12:49] ✅    ✅ Patient data extracted successfully
[00:12:49] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:12:49] ⚠️     ❌ Insufficient patient data extracted
[00:12:49] [DOC: 9254785] ℹ️  API push details saved for document 9254785
================================================================================
║                        Processing Document ID: 9254776                         ║
================================================================================
[00:12:49] ℹ️  Agency: Nightingale Visiting Nurses-Taunton
[00:12:49] ℹ️  Date: 04/22/2025
[00:12:49] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:12:52] [DOC: 9254776] ✅ Text extracted using pdfplumber (1366 chars)
[00:12:52] ✅    ✅ Text extracted using pdfplumber (1366 chars)
[00:12:52] 🔄 
🔄 Step 2: Extracting patient data...
[00:12:52] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 6
}
]
[00:12:53] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 5
}
]
[00:12:55] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 3
}
]
[00:12:55] ❌ All AI extraction attempts failed
[00:12:55] ⚠️  AI extraction failed, returning minimal patient data structure
[00:12:55] ✅    ✅ Patient data extracted successfully
[00:12:55] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:12:55] ⚠️     ❌ Insufficient patient data extracted
[00:12:55] [DOC: 9254776] ℹ️  API push details saved for document 9254776
================================================================================
║                        Processing Document ID: 9254767                         ║
================================================================================
[00:12:55] ℹ️  Agency: Southcoast VNA – Community Office (Fairhaven)
[00:12:55] ℹ️  Date: 04/22/2025
[00:12:55] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:12:58] [DOC: 9254767] ✅ Text extracted using pdfplumber (24533 chars)
[00:12:58] ✅    ✅ Text extracted using pdfplumber (24533 chars)
[00:12:58] 🔄 
🔄 Step 2: Extracting patient data...
[00:12:59] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
}
]
[00:13:00] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 58
}
]
[00:13:02] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 56
}
]
[00:13:02] ❌ All AI extraction attempts failed
[00:13:02] ⚠️  AI extraction failed, returning minimal patient data structure
[00:13:02] ✅    ✅ Patient data extracted successfully
[00:13:02] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:13:02] ⚠️     ❌ Insufficient patient data extracted
[00:13:02] [DOC: 9254767] ℹ️  API push details saved for document 9254767
================================================================================
║                        Processing Document ID: 9254748                         ║
================================================================================
[00:13:02] ℹ️  Agency: Southcoast VNA – Community Office (Fairhaven)
[00:13:02] ℹ️  Date: 04/22/2025
[00:13:02] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:13:03] [DOC: 9254748] ✅ Text extracted using pdfplumber (1324 chars)
[00:13:03] ✅    ✅ Text extracted using pdfplumber (1324 chars)
[00:13:03] 🔄 
🔄 Step 2: Extracting patient data...
[00:13:03] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 55
}
]
[00:13:05] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 53
}
]
[00:13:06] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 52
}
]
[00:13:06] ❌ All AI extraction attempts failed
[00:13:06] ⚠️  AI extraction failed, returning minimal patient data structure
[00:13:06] ✅    ✅ Patient data extracted successfully
[00:13:06] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:13:06] ⚠️     ❌ Insufficient patient data extracted
[00:13:06] [DOC: 9254748] ℹ️  API push details saved for document 9254748
================================================================================
║                        Processing Document ID: 9254729                         ║
================================================================================
[00:13:06] ℹ️  Agency: Nightingale Visiting Nurses-Taunton
[00:13:06] ℹ️  Date: 04/22/2025
[00:13:06] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:13:09] [DOC: 9254729] ✅ Text extracted using pdfplumber (1176 chars)
[00:13:09] ✅    ✅ Text extracted using pdfplumber (1176 chars)
[00:13:09] 🔄 
🔄 Step 2: Extracting patient data...
[00:13:09] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 49
}
]
[00:13:10] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 48
}
]
[00:13:12] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 46
}
]
[00:13:12] ❌ All AI extraction attempts failed
[00:13:12] ⚠️  AI extraction failed, returning minimal patient data structure
[00:13:12] ✅    ✅ Patient data extracted successfully
[00:13:12] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:13:12] ⚠️     ❌ Insufficient patient data extracted
[00:13:12] [DOC: 9254729] ℹ️  API push details saved for document 9254729
================================================================================
║                        Processing Document ID: 9254298                         ║
================================================================================
[00:13:12] ℹ️  Agency: All At Home Health Care-Allston
[00:13:12] ℹ️  Date: 04/22/2025
[00:13:12] 🔄 
🔄 Step 1: Extracting text from PDF...
[00:13:14] [DOC: 9254298] ✅ Text extracted using pdfplumber (2083 chars)
[00:13:14] ✅    ✅ Text extracted using pdfplumber (2083 chars)
[00:13:14] 🔄 
🔄 Step 2: Extracting patient data...
[00:13:14] ⚠️  AI extraction attempt 1 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 44
}
]
[00:13:16] ⚠️  AI extraction attempt 2 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 42
}
]
[00:13:17] ⚠️  AI extraction attempt 3 failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 500
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 41
}
]
[00:13:17] ❌ All AI extraction attempts failed
[00:13:17] ⚠️  AI extraction failed, returning minimal patient data structure
[00:13:17] ✅    ✅ Patient data extracted successfully
[00:13:17] 📊 Patient Response
     └─ patientFName: 
     └─ patientLName: 
     └─ dob: 
     └─ patientSex: 
     └─ medicalRecordNo: 
     └─ billingProvider: 
     └─ npi: 
     └─ physicianNPI: 
     └─ nameOfAgency: 
     └─ address: 
     └─ city: 
     └─ state: 
     └─ zip: 
     └─ email: 
     └─ phoneNumber: 
     └─ serviceLine: 
     └─ payorSource: 
     └─ episodeDiagnoses: [{'startOfCare': '', 'startOfEpisode': '', 'endOfEpisode': '', 'firstDiagnosis': '', 'secondDiagnosis': '', 'thirdDiagnosis': '', 'fourthDiagnosis': '', 'fifthDiagnosis': '', 'sixthDiagnosis': ''}]
[00:13:17] ⚠️     ❌ Insufficient patient data extracted
[00:13:17] [DOC: 9254298] ℹ️  API push details saved for document 9254298
================================================================================
║                               PROCESSING SUMMARY                               ║
================================================================================
[00:13:17] ℹ️  Total Processed: 49
[00:13:17] ℹ️  CSV Success: 21
[00:13:17] ℹ️  CSV Errors: 23
[00:13:17] ℹ️  API Success: 0
[00:13:17] ℹ️  API Errors: 26
[00:13:17] ℹ️  CSV Success Rate: 42.9%
[00:13:17] ℹ️  API Success Rate: 0.0%
[00:13:17] ℹ️  Output CSV File: csv_outputs/extracted_patients_20250608_000542.csv
[00:13:17] ℹ️  API Details File: api_outputs/api_push_details_20250608_000542.csv
================================================================================
║          ============================================================          ║
================================================================================
